function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vf={exports:{}},wo={},gf={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),ep=Symbol.for("react.memo"),tp=Symbol.for("react.lazy"),Bl=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=Bl&&e[Bl]||e["@@iterator"],typeof e=="function"?e:null)}var yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,wf={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||yf}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xf(){}xf.prototype=Gr.prototype;function Aa(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||yf}var Sa=Aa.prototype=new xf;Sa.constructor=Aa;Df(Sa,Gr.prototype);Sa.isPureReactComponent=!0;var jl=Array.isArray,Ef=Object.prototype.hasOwnProperty,_a={current:null},Nf={key:!0,ref:!0,__self:!0,__source:!0};function Cf(e,t,n){var r,i={},u=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(u=""+t.key),t)Ef.call(t,r)&&!Nf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),h=0;h<s;h++)a[h]=arguments[h+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ki,type:e,key:u,ref:o,props:i,_owner:_a.current}}function rp(e,t){return{$$typeof:Ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ki}function ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kl=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ip(""+e.key):t.toString(36)}function Fu(e,t,n,r,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(u){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ki:case qh:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ho(o,0):r,jl(i)?(n="",e!=null&&(n=e.replace(kl,"$&/")+"/"),Fu(i,t,n,"",function(h){return h})):i!=null&&(Ma(i)&&(i=rp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kl,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",jl(e))for(var s=0;s<e.length;s++){u=e[s];var a=r+Ho(u,s);o+=Fu(u,t,n,a,i)}else if(a=np(e),typeof a=="function")for(e=a.call(e),s=0;!(u=e.next()).done;)u=u.value,a=r+Ho(u,s++),o+=Fu(u,t,n,a,i);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function su(e,t,n){if(e==null)return e;var r=[],i=0;return Fu(e,r,"","",function(u){return t.call(n,u,i++)}),r}function up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Au={transition:null},op={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Au,ReactCurrentOwner:_a};function Ff(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:su,forEach:function(e,t,n){su(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!Ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Gr;he.Fragment=Qh;he.Profiler=Kh;he.PureComponent=Aa;he.StrictMode=Gh;he.Suspense=Xh;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=op;he.act=Ff;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Df({},e.props),i=e.key,u=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,o=_a.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Ef.call(t,a)&&!Nf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var h=0;h<a;h++)s[h]=arguments[h+2];r.children=s}return{$$typeof:Ki,type:e.type,key:i,ref:u,props:r,_owner:o}};he.createContext=function(e){return e={$$typeof:Yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zh,_context:e},e.Consumer=e};he.createElement=Cf;he.createFactory=function(e){var t=Cf.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Jh,render:e}};he.isValidElement=Ma;he.lazy=function(e){return{$$typeof:tp,_payload:{_status:-1,_result:e},_init:up}};he.memo=function(e,t){return{$$typeof:ep,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Au.transition;Au.transition={};try{e()}finally{Au.transition=t}};he.unstable_act=Ff;he.useCallback=function(e,t){return mt.current.useCallback(e,t)};he.useContext=function(e){return mt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};he.useEffect=function(e,t){return mt.current.useEffect(e,t)};he.useId=function(){return mt.current.useId()};he.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return mt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};he.useRef=function(e){return mt.current.useRef(e)};he.useState=function(e){return mt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return mt.current.useTransition()};he.version="18.3.1";gf.exports=he;var X=gf.exports;const sp=mf(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=X,lp=Symbol.for("react.element"),cp=Symbol.for("react.fragment"),fp=Object.prototype.hasOwnProperty,dp=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hp={key:!0,ref:!0,__self:!0,__source:!0};function Af(e,t,n){var r,i={},u=null,o=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fp.call(t,r)&&!hp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:lp,type:e,key:u,ref:o,props:i,_owner:dp.current}}wo.Fragment=cp;wo.jsx=Af;wo.jsxs=Af;vf.exports=wo;var m=vf.exports,Cs={},Sf={exports:{}},Bt={},_f={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,Q){var U=I.length;I.push(Q);e:for(;0<U;){var ne=U-1>>>1,ue=I[ne];if(0<i(ue,Q))I[ne]=Q,I[U]=ue,U=ne;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Q=I[0],U=I.pop();if(U!==Q){I[0]=U;e:for(var ne=0,ue=I.length,le=ue>>>1;ne<le;){var me=2*(ne+1)-1,Ee=I[me],ve=me+1,ge=I[ve];if(0>i(Ee,U))ve<ue&&0>i(ge,Ee)?(I[ne]=ge,I[ve]=U,ne=ve):(I[ne]=Ee,I[me]=U,ne=me);else if(ve<ue&&0>i(ge,U))I[ne]=ge,I[ve]=U,ne=ve;else break e}}return Q}function i(I,Q){var U=I.sortIndex-Q.sortIndex;return U!==0?U:I.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],h=[],p=1,v=null,g=3,E=!1,C=!1,d=!1,D=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function l(I){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=I)r(h),Q.sortIndex=Q.expirationTime,t(a,Q);else break;Q=n(h)}}function w(I){if(d=!1,l(I),!C)if(n(a)!==null)C=!0,B(y);else{var Q=n(h);Q!==null&&q(w,Q.startTime-I)}}function y(I,Q){C=!1,d&&(d=!1,c(F),F=-1),E=!0;var U=g;try{for(l(Q),v=n(a);v!==null&&(!(v.expirationTime>Q)||I&&!T());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,g=v.priorityLevel;var ue=ne(v.expirationTime<=Q);Q=e.unstable_now(),typeof ue=="function"?v.callback=ue:v===n(a)&&r(a),l(Q)}else r(a);v=n(a)}if(v!==null)var le=!0;else{var me=n(h);me!==null&&q(w,me.startTime-Q),le=!1}return le}finally{v=null,g=U,E=!1}}var x=!1,N=null,F=-1,_=5,j=-1;function T(){return!(e.unstable_now()-j<_)}function k(){if(N!==null){var I=e.unstable_now();j=I;var Q=!0;try{Q=N(!0,I)}finally{Q?$():(x=!1,N=null)}}else x=!1}var $;if(typeof f=="function")$=function(){f(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,L=P.port2;P.port1.onmessage=k,$=function(){L.postMessage(null)}}else $=function(){D(k,0)};function B(I){N=I,x||(x=!0,$())}function q(I,Q){F=D(function(){I(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){C||E||(C=!0,B(y))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var U=g;g=Q;try{return I()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=g;g=I;try{return Q()}finally{g=U}},e.unstable_scheduleCallback=function(I,Q,U){var ne=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,I){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=U+ue,I={id:p++,callback:Q,priorityLevel:I,startTime:U,expirationTime:ue,sortIndex:-1},U>ne?(I.sortIndex=U,t(h,I),n(a)===null&&I===n(h)&&(d?(c(F),F=-1):d=!0,q(w,U-ne))):(I.sortIndex=ue,t(a,I),C||E||(C=!0,B(y))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var Q=g;return function(){var U=g;g=Q;try{return I.apply(this,arguments)}finally{g=U}}}})(Mf);_f.exports=Mf;var pp=_f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=X,Mt=pp;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bf=new Set,Mi={};function ar(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(Mi[e]=t,e=0;e<t.length;e++)Bf.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=Object.prototype.hasOwnProperty,vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tl={},bl={};function gp(e){return Fs.call(bl,e)?!0:Fs.call(Tl,e)?!1:vp.test(e)?bl[e]=!0:(Tl[e]=!0,!1)}function yp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,n,r){if(t===null||typeof t>"u"||yp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,r,i,u,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ba=/[\-:]([a-z])/g;function ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ba,ja);tt[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ba,ja);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ba,ja);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ka(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,n,i,r)&&(n=null),r||i===null?gp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),As=Symbol.for("react.profiler"),jf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),Ss=Symbol.for("react.suspense"),_s=Symbol.for("react.suspense_list"),Oa=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),Ol=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=Ol&&e[Ol]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,qo;function mi(e){if(qo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qo=t&&t[1]||""}return`
`+qo+e}var Qo=!1;function Go(e,t){if(!e||Qo)return"";Qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),u=r.stack.split(`
`),o=i.length-1,s=u.length-1;1<=o&&0<=s&&i[o]!==u[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==u[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==u[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{Qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function wp(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Go(e.type,!1),e;case 11:return e=Go(e.type.render,!1),e;case 1:return e=Go(e.type,!0),e;default:return""}}function Ms(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case As:return"Profiler";case Ta:return"StrictMode";case Ss:return"Suspense";case _s:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kf:return(e.displayName||"Context")+".Consumer";case jf:return(e._context.displayName||"Context")+".Provider";case ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oa:return t=e.displayName||null,t!==null?t:Ms(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Ms(e(t))}catch{}}return null}function xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ms(t);case 8:return t===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ep(e){var t=bf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,u.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lu(e){e._valueTracker||(e._valueTracker=Ep(e))}function Of(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bs(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Il(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function If(e,t){t=t.checked,t!=null&&ka(e,"checked",t,!1)}function js(e,t){If(e,t);var n=Rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ks(e,t.type,n):t.hasOwnProperty("defaultValue")&&ks(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ks(e,t,n){(t!=="number"||$u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ts(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(vi(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rn(n)}}function zf(e,t){var n=Rn(t.value),r=Rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $l(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,$f=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Np=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){Np.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function Rf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function Lf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Cp=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Os(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Is(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,kr=null,Tr=null;function Rl(e){if(e=Ji(e)){if(typeof Ps!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Fo(t),Ps(e.stateNode,e.type,t))}}function Uf(e){kr?Tr?Tr.push(e):Tr=[e]:kr=e}function Vf(){if(kr){var e=kr,t=Tr;if(Tr=kr=null,Rl(e),t)for(e=0;e<t.length;e++)Rl(t[e])}}function Wf(e,t){return e(t)}function Hf(){}var Ko=!1;function qf(e,t,n){if(Ko)return e(t,n);Ko=!0;try{return Wf(e,t,n)}finally{Ko=!1,(kr!==null||Tr!==null)&&(Hf(),Vf())}}function ji(e,t){var n=e.stateNode;if(n===null)return null;var r=Fo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var $s=!1;if(pn)try{var si={};Object.defineProperty(si,"passive",{get:function(){$s=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{$s=!1}function Fp(e,t,n,r,i,u,o,s,a){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var wi=!1,Ru=null,Lu=!1,Rs=null,Ap={onError:function(e){wi=!0,Ru=e}};function Sp(e,t,n,r,i,u,o,s,a){wi=!1,Ru=null,Fp.apply(Ap,arguments)}function _p(e,t,n,r,i,u,o,s,a){if(Sp.apply(this,arguments),wi){if(wi){var h=Ru;wi=!1,Ru=null}else throw Error(J(198));Lu||(Lu=!0,Rs=h)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ll(e){if(lr(e)!==e)throw Error(J(188))}function Mp(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return Ll(i),e;if(u===r)return Ll(i),t;u=u.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=u;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=u;break}if(s===r){o=!0,r=i,n=u;break}s=s.sibling}if(!o){for(s=u.child;s;){if(s===n){o=!0,n=u,r=i;break}if(s===r){o=!0,r=u,n=i;break}s=s.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Gf(e){return e=Mp(e),e!==null?Kf(e):null}function Kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kf(e);if(t!==null)return t;e=e.sibling}return null}var Zf=Mt.unstable_scheduleCallback,Ul=Mt.unstable_cancelCallback,Bp=Mt.unstable_shouldYield,jp=Mt.unstable_requestPaint,Le=Mt.unstable_now,kp=Mt.unstable_getCurrentPriorityLevel,za=Mt.unstable_ImmediatePriority,Yf=Mt.unstable_UserBlockingPriority,Uu=Mt.unstable_NormalPriority,Tp=Mt.unstable_LowPriority,Jf=Mt.unstable_IdlePriority,xo=null,rn=null;function bp(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:zp,Op=Math.log,Ip=Math.LN2;function zp(e){return e>>>=0,e===0?32:31-(Op(e)/Ip|0)|0}var fu=64,du=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=gi(s):(u&=o,u!==0&&(r=gi(u)))}else o=n&~i,o!==0?r=gi(o):u!==0&&(r=gi(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function Pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $p(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var o=31-Qt(u),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=Pp(s,t)):a<=t&&(e.expiredLanes|=s),u&=~s}}function Ls(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=fu;return fu<<=1,!(fu&4194240)&&(fu=64),e}function Zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function Rp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}function Pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fe=0;function ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,$a,nd,rd,id,Us=!1,hu=[],kn=null,Tn=null,bn=null,ki=new Map,Ti=new Map,Sn=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(t.pointerId)}}function ai(e,t,n,r,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},t!==null&&(t=Ji(t),t!==null&&$a(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Up(e,t,n,r,i){switch(t){case"focusin":return kn=ai(kn,e,t,n,r,i),!0;case"dragenter":return Tn=ai(Tn,e,t,n,r,i),!0;case"mouseover":return bn=ai(bn,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return ki.set(u,ai(ki.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,Ti.set(u,ai(Ti.get(u)||null,e,t,n,r,i)),!0}return!1}function ud(e){var t=Jn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=Qf(n),t!==null){e.blockedOn=t,id(e.priority,function(){nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Su(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zs=r,n.target.dispatchEvent(r),zs=null}else return t=Ji(n),t!==null&&$a(t),e.blockedOn=n,!1;t.shift()}return!0}function Wl(e,t,n){Su(e)&&n.delete(t)}function Vp(){Us=!1,kn!==null&&Su(kn)&&(kn=null),Tn!==null&&Su(Tn)&&(Tn=null),bn!==null&&Su(bn)&&(bn=null),ki.forEach(Wl),Ti.forEach(Wl)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,Us||(Us=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Vp)))}function bi(e){function t(i){return li(i,e)}if(0<hu.length){li(hu[0],e);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kn!==null&&li(kn,e),Tn!==null&&li(Tn,e),bn!==null&&li(bn,e),ki.forEach(t),Ti.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)ud(n),n.blockedOn===null&&Sn.shift()}var br=yn.ReactCurrentBatchConfig,Wu=!0;function Wp(e,t,n,r){var i=Fe,u=br.transition;br.transition=null;try{Fe=1,Ra(e,t,n,r)}finally{Fe=i,br.transition=u}}function Hp(e,t,n,r){var i=Fe,u=br.transition;br.transition=null;try{Fe=4,Ra(e,t,n,r)}finally{Fe=i,br.transition=u}}function Ra(e,t,n,r){if(Wu){var i=Vs(e,t,n,r);if(i===null)os(e,t,r,Hu,n),Vl(e,r);else if(Up(i,e,t,n,r))r.stopPropagation();else if(Vl(e,r),t&4&&-1<Lp.indexOf(e)){for(;i!==null;){var u=Ji(i);if(u!==null&&td(u),u=Vs(e,t,n,r),u===null&&os(e,t,r,Hu,n),u===i)break;i=u}i!==null&&r.stopPropagation()}else os(e,t,r,null,n)}}var Hu=null;function Vs(e,t,n,r){if(Hu=null,e=Ia(r),e=Jn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hu=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case za:return 1;case Yf:return 4;case Uu:case Tp:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var Mn=null,La=null,_u=null;function sd(){if(_u)return _u;var e,t=La,n=t.length,r,i="value"in Mn?Mn.value:Mn.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[u-r];r++);return _u=i.slice(e,1<r?1-r:void 0)}function Mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Hl(){return!1}function jt(e){function t(n,r,i,u,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=u,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(u):u[s]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?pu:Hl,this.isPropagationStopped=Hl,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=jt(Kr),Yi=Pe({},Kr,{view:0,detail:0}),qp=jt(Yi),Yo,Jo,ci,Eo=Pe({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(Yo=e.screenX-ci.screenX,Jo=e.screenY-ci.screenY):Jo=Yo=0,ci=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),ql=jt(Eo),Qp=Pe({},Eo,{dataTransfer:0}),Gp=jt(Qp),Kp=Pe({},Yi,{relatedTarget:0}),Xo=jt(Kp),Zp=Pe({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=jt(Zp),Jp=Pe({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xp=jt(Jp),em=Pe({},Kr,{data:0}),Ql=jt(em),tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rm[e])?!!t[e]:!1}function Va(){return im}var um=Pe({},Yi,{key:function(e){if(e.key){var t=tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(e){return e.type==="keypress"?Mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),om=jt(um),sm=Pe({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=jt(sm),am=Pe({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),lm=jt(am),cm=Pe({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=jt(cm),dm=Pe({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=jt(dm),pm=[9,13,27,32],Wa=pn&&"CompositionEvent"in window,xi=null;pn&&"documentMode"in document&&(xi=document.documentMode);var mm=pn&&"TextEvent"in window&&!xi,ad=pn&&(!Wa||xi&&8<xi&&11>=xi),Kl=" ",Zl=!1;function ld(e,t){switch(e){case"keyup":return pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function vm(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(Zl=!0,Kl);case"textInput":return e=t.data,e===Kl&&Zl?null:e;default:return null}}function gm(e,t){if(Dr)return e==="compositionend"||!Wa&&ld(e,t)?(e=sd(),_u=La=Mn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ym[e.type]:t==="textarea"}function fd(e,t,n,r){Uf(r),t=qu(t,"onChange"),0<t.length&&(n=new Ua("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ei=null,Oi=null;function Dm(e){Ed(e,0)}function No(e){var t=Er(e);if(Of(t))return e}function wm(e,t){if(e==="change")return t}var dd=!1;if(pn){var es;if(pn){var ts="oninput"in document;if(!ts){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),ts=typeof Jl.oninput=="function"}es=ts}else es=!1;dd=es&&(!document.documentMode||9<document.documentMode)}function Xl(){Ei&&(Ei.detachEvent("onpropertychange",hd),Oi=Ei=null)}function hd(e){if(e.propertyName==="value"&&No(Oi)){var t=[];fd(t,Oi,e,Ia(e)),qf(Dm,t)}}function xm(e,t,n){e==="focusin"?(Xl(),Ei=t,Oi=n,Ei.attachEvent("onpropertychange",hd)):e==="focusout"&&Xl()}function Em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(Oi)}function Nm(e,t){if(e==="click")return No(t)}function Cm(e,t){if(e==="input"||e==="change")return No(t)}function Fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Fm;function Ii(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fs.call(t,i)||!Zt(e[i],t[i]))return!1}return!0}function ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,t){var n=ec(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ec(n)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$u(e.document)}return t}function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Am(e){var t=md(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pd(n.ownerDocument.documentElement,n)){if(r!==null&&Ha(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=r.end===void 0?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=tc(n,u);var o=tc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sm=pn&&"documentMode"in document&&11>=document.documentMode,wr=null,Ws=null,Ni=null,Hs=!1;function nc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hs||wr==null||wr!==$u(r)||(r=wr,"selectionStart"in r&&Ha(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Ii(Ni,r)||(Ni=r,r=qu(Ws,"onSelect"),0<r.length&&(t=new Ua("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function mu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},ns={},vd={};pn&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Co(e){if(ns[e])return ns[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vd)return ns[e]=t[n];return e}var gd=Co("animationend"),yd=Co("animationiteration"),Dd=Co("animationstart"),wd=Co("transitionend"),xd=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){xd.set(e,t),ar(t,[e])}for(var rs=0;rs<rc.length;rs++){var is=rc[rs],_m=is.toLowerCase(),Mm=is[0].toUpperCase()+is.slice(1);Vn(_m,"on"+Mm)}Vn(gd,"onAnimationEnd");Vn(yd,"onAnimationIteration");Vn(Dd,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(wd,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function ic(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_p(r,t,void 0,e),e.currentTarget=null}function Ed(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,h=s.currentTarget;if(s=s.listener,a!==u&&i.isPropagationStopped())break e;ic(i,s,h),u=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,h=s.currentTarget,s=s.listener,a!==u&&i.isPropagationStopped())break e;ic(i,s,h),u=a}}}if(Lu)throw e=Rs,Lu=!1,Rs=null,e}function je(e,t){var n=t[Zs];n===void 0&&(n=t[Zs]=new Set);var r=e+"__bubble";n.has(r)||(Nd(t,e,2,!1),n.add(r))}function us(e,t,n){var r=0;t&&(r|=4),Nd(n,e,r,t)}var vu="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[vu]){e[vu]=!0,Bf.forEach(function(n){n!=="selectionchange"&&(Bm.has(n)||us(n,!1,e),us(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vu]||(t[vu]=!0,us("selectionchange",!1,t))}}function Nd(e,t,n,r){switch(od(t)){case 1:var i=Wp;break;case 4:i=Hp;break;default:i=Ra}n=i.bind(null,t,n,e),i=void 0,!$s||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function os(e,t,n,r,i){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Jn(s),o===null)return;if(a=o.tag,a===5||a===6){r=u=o;continue e}s=s.parentNode}}r=r.return}qf(function(){var h=u,p=Ia(n),v=[];e:{var g=xd.get(e);if(g!==void 0){var E=Ua,C=e;switch(e){case"keypress":if(Mu(n)===0)break e;case"keydown":case"keyup":E=om;break;case"focusin":C="focus",E=Xo;break;case"focusout":C="blur",E=Xo;break;case"beforeblur":case"afterblur":E=Xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=lm;break;case gd:case yd:case Dd:E=Yp;break;case wd:E=fm;break;case"scroll":E=qp;break;case"wheel":E=hm;break;case"copy":case"cut":case"paste":E=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Gl}var d=(t&4)!==0,D=!d&&e==="scroll",c=d?g!==null?g+"Capture":null:g;d=[];for(var f=h,l;f!==null;){l=f;var w=l.stateNode;if(l.tag===5&&w!==null&&(l=w,c!==null&&(w=ji(f,c),w!=null&&d.push(Pi(f,w,l)))),D)break;f=f.return}0<d.length&&(g=new E(g,C,null,n,p),v.push({event:g,listeners:d}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",g&&n!==zs&&(C=n.relatedTarget||n.fromElement)&&(Jn(C)||C[mn]))break e;if((E||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=h,C=C?Jn(C):null,C!==null&&(D=lr(C),C!==D||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=h),E!==C)){if(d=ql,w="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(d=Gl,w="onPointerLeave",c="onPointerEnter",f="pointer"),D=E==null?g:Er(E),l=C==null?g:Er(C),g=new d(w,f+"leave",E,n,p),g.target=D,g.relatedTarget=l,w=null,Jn(p)===h&&(d=new d(c,f+"enter",C,n,p),d.target=l,d.relatedTarget=D,w=d),D=w,E&&C)t:{for(d=E,c=C,f=0,l=d;l;l=dr(l))f++;for(l=0,w=c;w;w=dr(w))l++;for(;0<f-l;)d=dr(d),f--;for(;0<l-f;)c=dr(c),l--;for(;f--;){if(d===c||c!==null&&d===c.alternate)break t;d=dr(d),c=dr(c)}d=null}else d=null;E!==null&&uc(v,g,E,d,!1),C!==null&&D!==null&&uc(v,D,C,d,!0)}}e:{if(g=h?Er(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var y=wm;else if(Yl(g))if(dd)y=Cm;else{y=Em;var x=xm}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(y=Nm);if(y&&(y=y(e,h))){fd(v,y,n,p);break e}x&&x(e,g,h),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&ks(g,"number",g.value)}switch(x=h?Er(h):window,e){case"focusin":(Yl(x)||x.contentEditable==="true")&&(wr=x,Ws=h,Ni=null);break;case"focusout":Ni=Ws=wr=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,nc(v,n,p);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":nc(v,n,p)}var N;if(Wa)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Dr?ld(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(ad&&n.locale!=="ko"&&(Dr||F!=="onCompositionStart"?F==="onCompositionEnd"&&Dr&&(N=sd()):(Mn=p,La="value"in Mn?Mn.value:Mn.textContent,Dr=!0)),x=qu(h,F),0<x.length&&(F=new Ql(F,e,null,n,p),v.push({event:F,listeners:x}),N?F.data=N:(N=cd(n),N!==null&&(F.data=N)))),(N=mm?vm(e,n):gm(e,n))&&(h=qu(h,"onBeforeInput"),0<h.length&&(p=new Ql("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=N))}Ed(v,t)})}function Pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=ji(e,n),u!=null&&r.unshift(Pi(e,u,i)),u=ji(e,t),u!=null&&r.push(Pi(e,u,i))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,n,r,i){for(var u=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,h=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&h!==null&&(s=h,i?(a=ji(n,u),a!=null&&o.unshift(Pi(n,a,s))):i||(a=ji(n,u),a!=null&&o.push(Pi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jm=/\r\n?/g,km=/\u0000|\uFFFD/g;function oc(e){return(typeof e=="string"?e:""+e).replace(jm,`
`).replace(km,"")}function gu(e,t,n){if(t=oc(t),oc(e)!==t&&n)throw Error(J(425))}function Qu(){}var qs=null,Qs=null;function Gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ks=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,bm=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(e){return sc.resolve(null).then(e).catch(Om)}:Ks;function Om(e){setTimeout(function(){throw e})}function ss(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bi(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),tn="__reactFiber$"+Zr,$i="__reactProps$"+Zr,mn="__reactContainer$"+Zr,Zs="__reactEvents$"+Zr,Im="__reactListeners$"+Zr,zm="__reactHandles$"+Zr;function Jn(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ac(e);e!==null;){if(n=e[tn])return n;e=ac(e)}return t}e=n,n=e.parentNode}return null}function Ji(e){return e=e[tn]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Fo(e){return e[$i]||null}var Ys=[],Nr=-1;function Wn(e){return{current:e}}function ke(e){0>Nr||(e.current=Ys[Nr],Ys[Nr]=null,Nr--)}function Be(e,t){Nr++,Ys[Nr]=e.current,e.current=t}var Ln={},lt=Wn(Ln),Et=Wn(!1),rr=Ln;function $r(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return e=e.childContextTypes,e!=null}function Gu(){ke(Et),ke(lt)}function lc(e,t,n){if(lt.current!==Ln)throw Error(J(168));Be(lt,t),Be(Et,n)}function Cd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(J(108,xp(e)||"Unknown",i));return Pe({},n,r)}function Ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,rr=lt.current,Be(lt,e),Be(Et,Et.current),!0}function cc(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=Cd(e,t,rr),r.__reactInternalMemoizedMergedChildContext=e,ke(Et),ke(lt),Be(lt,e)):ke(Et),Be(Et,n)}var ln=null,Ao=!1,as=!1;function Fd(e){ln===null?ln=[e]:ln.push(e)}function Pm(e){Ao=!0,Fd(e)}function Hn(){if(!as&&ln!==null){as=!0;var e=0,t=Fe;try{var n=ln;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Ao=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),Zf(za,Hn),i}finally{Fe=t,as=!1}}return null}var Cr=[],Fr=0,Zu=null,Yu=0,bt=[],Ot=0,ir=null,cn=1,fn="";function Gn(e,t){Cr[Fr++]=Yu,Cr[Fr++]=Zu,Zu=e,Yu=t}function Ad(e,t,n){bt[Ot++]=cn,bt[Ot++]=fn,bt[Ot++]=ir,ir=e;var r=cn;e=fn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var u=32-Qt(t)+i;if(30<u){var o=i-i%5;u=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cn=1<<32-Qt(t)+i|n<<i|r,fn=u+e}else cn=1<<u|n<<i|r,fn=e}function qa(e){e.return!==null&&(Gn(e,1),Ad(e,1,0))}function Qa(e){for(;e===Zu;)Zu=Cr[--Fr],Cr[Fr]=null,Yu=Cr[--Fr],Cr[Fr]=null;for(;e===ir;)ir=bt[--Ot],bt[Ot]=null,fn=bt[--Ot],bt[Ot]=null,cn=bt[--Ot],bt[Ot]=null}var _t=null,St=null,Te=!1,qt=null;function Sd(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,St=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ir!==null?{id:cn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_t=e,St=null,!0):!1;default:return!1}}function Js(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xs(e){if(Te){var t=St;if(t){var n=t;if(!fc(e,t)){if(Js(e))throw Error(J(418));t=On(n.nextSibling);var r=_t;t&&fc(e,t)?Sd(r,n):(e.flags=e.flags&-4097|2,Te=!1,_t=e)}}else{if(Js(e))throw Error(J(418));e.flags=e.flags&-4097|2,Te=!1,_t=e}}}function dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function yu(e){if(e!==_t)return!1;if(!Te)return dc(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gs(e.type,e.memoizedProps)),t&&(t=St)){if(Js(e))throw _d(),Error(J(418));for(;t;)Sd(e,t),t=On(t.nextSibling)}if(dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=_t?On(e.stateNode.nextSibling):null;return!0}function _d(){for(var e=St;e;)e=On(e.nextSibling)}function Rr(){St=_t=null,Te=!1}function Ga(e){qt===null?qt=[e]:qt.push(e)}var $m=yn.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var i=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(o){var s=i.refs;o===null?delete s[u]:s[u]=o},t._stringRef=u,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Du(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function Md(e){function t(c,f){if(e){var l=c.deletions;l===null?(c.deletions=[f],c.flags|=16):l.push(f)}}function n(c,f){if(!e)return null;for(;f!==null;)t(c,f),f=f.sibling;return null}function r(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function i(c,f){return c=$n(c,f),c.index=0,c.sibling=null,c}function u(c,f,l){return c.index=l,e?(l=c.alternate,l!==null?(l=l.index,l<f?(c.flags|=2,f):l):(c.flags|=2,f)):(c.flags|=1048576,f)}function o(c){return e&&c.alternate===null&&(c.flags|=2),c}function s(c,f,l,w){return f===null||f.tag!==6?(f=ms(l,c.mode,w),f.return=c,f):(f=i(f,l),f.return=c,f)}function a(c,f,l,w){var y=l.type;return y===yr?p(c,f,l.props.children,w,l.key):f!==null&&(f.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Cn&&hc(y)===f.type)?(w=i(f,l.props),w.ref=fi(c,f,l),w.return=c,w):(w=Iu(l.type,l.key,l.props,null,c.mode,w),w.ref=fi(c,f,l),w.return=c,w)}function h(c,f,l,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==l.containerInfo||f.stateNode.implementation!==l.implementation?(f=vs(l,c.mode,w),f.return=c,f):(f=i(f,l.children||[]),f.return=c,f)}function p(c,f,l,w,y){return f===null||f.tag!==7?(f=nr(l,c.mode,w,y),f.return=c,f):(f=i(f,l),f.return=c,f)}function v(c,f,l){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ms(""+f,c.mode,l),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case au:return l=Iu(f.type,f.key,f.props,null,c.mode,l),l.ref=fi(c,null,f),l.return=c,l;case gr:return f=vs(f,c.mode,l),f.return=c,f;case Cn:var w=f._init;return v(c,w(f._payload),l)}if(vi(f)||oi(f))return f=nr(f,c.mode,l,null),f.return=c,f;Du(c,f)}return null}function g(c,f,l,w){var y=f!==null?f.key:null;if(typeof l=="string"&&l!==""||typeof l=="number")return y!==null?null:s(c,f,""+l,w);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case au:return l.key===y?a(c,f,l,w):null;case gr:return l.key===y?h(c,f,l,w):null;case Cn:return y=l._init,g(c,f,y(l._payload),w)}if(vi(l)||oi(l))return y!==null?null:p(c,f,l,w,null);Du(c,l)}return null}function E(c,f,l,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return c=c.get(l)||null,s(f,c,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return c=c.get(w.key===null?l:w.key)||null,a(f,c,w,y);case gr:return c=c.get(w.key===null?l:w.key)||null,h(f,c,w,y);case Cn:var x=w._init;return E(c,f,l,x(w._payload),y)}if(vi(w)||oi(w))return c=c.get(l)||null,p(f,c,w,y,null);Du(f,w)}return null}function C(c,f,l,w){for(var y=null,x=null,N=f,F=f=0,_=null;N!==null&&F<l.length;F++){N.index>F?(_=N,N=null):_=N.sibling;var j=g(c,N,l[F],w);if(j===null){N===null&&(N=_);break}e&&N&&j.alternate===null&&t(c,N),f=u(j,f,F),x===null?y=j:x.sibling=j,x=j,N=_}if(F===l.length)return n(c,N),Te&&Gn(c,F),y;if(N===null){for(;F<l.length;F++)N=v(c,l[F],w),N!==null&&(f=u(N,f,F),x===null?y=N:x.sibling=N,x=N);return Te&&Gn(c,F),y}for(N=r(c,N);F<l.length;F++)_=E(N,c,F,l[F],w),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?F:_.key),f=u(_,f,F),x===null?y=_:x.sibling=_,x=_);return e&&N.forEach(function(T){return t(c,T)}),Te&&Gn(c,F),y}function d(c,f,l,w){var y=oi(l);if(typeof y!="function")throw Error(J(150));if(l=y.call(l),l==null)throw Error(J(151));for(var x=y=null,N=f,F=f=0,_=null,j=l.next();N!==null&&!j.done;F++,j=l.next()){N.index>F?(_=N,N=null):_=N.sibling;var T=g(c,N,j.value,w);if(T===null){N===null&&(N=_);break}e&&N&&T.alternate===null&&t(c,N),f=u(T,f,F),x===null?y=T:x.sibling=T,x=T,N=_}if(j.done)return n(c,N),Te&&Gn(c,F),y;if(N===null){for(;!j.done;F++,j=l.next())j=v(c,j.value,w),j!==null&&(f=u(j,f,F),x===null?y=j:x.sibling=j,x=j);return Te&&Gn(c,F),y}for(N=r(c,N);!j.done;F++,j=l.next())j=E(N,c,F,j.value,w),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?F:j.key),f=u(j,f,F),x===null?y=j:x.sibling=j,x=j);return e&&N.forEach(function(k){return t(c,k)}),Te&&Gn(c,F),y}function D(c,f,l,w){if(typeof l=="object"&&l!==null&&l.type===yr&&l.key===null&&(l=l.props.children),typeof l=="object"&&l!==null){switch(l.$$typeof){case au:e:{for(var y=l.key,x=f;x!==null;){if(x.key===y){if(y=l.type,y===yr){if(x.tag===7){n(c,x.sibling),f=i(x,l.props.children),f.return=c,c=f;break e}}else if(x.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Cn&&hc(y)===x.type){n(c,x.sibling),f=i(x,l.props),f.ref=fi(c,x,l),f.return=c,c=f;break e}n(c,x);break}else t(c,x);x=x.sibling}l.type===yr?(f=nr(l.props.children,c.mode,w,l.key),f.return=c,c=f):(w=Iu(l.type,l.key,l.props,null,c.mode,w),w.ref=fi(c,f,l),w.return=c,c=w)}return o(c);case gr:e:{for(x=l.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===l.containerInfo&&f.stateNode.implementation===l.implementation){n(c,f.sibling),f=i(f,l.children||[]),f.return=c,c=f;break e}else{n(c,f);break}else t(c,f);f=f.sibling}f=vs(l,c.mode,w),f.return=c,c=f}return o(c);case Cn:return x=l._init,D(c,f,x(l._payload),w)}if(vi(l))return C(c,f,l,w);if(oi(l))return d(c,f,l,w);Du(c,l)}return typeof l=="string"&&l!==""||typeof l=="number"?(l=""+l,f!==null&&f.tag===6?(n(c,f.sibling),f=i(f,l),f.return=c,c=f):(n(c,f),f=ms(l,c.mode,w),f.return=c,c=f),o(c)):n(c,f)}return D}var Lr=Md(!0),Bd=Md(!1),Ju=Wn(null),Xu=null,Ar=null,Ka=null;function Za(){Ka=Ar=Xu=null}function Ya(e){var t=Ju.current;ke(Ju),e._currentValue=t}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Or(e,t){Xu=e,Ka=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Ka!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Xu===null)throw Error(J(308));Ar=e,Xu.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Xn=null;function Ja(e){Xn===null?Xn=[e]:Xn.push(e)}function jd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ja(t)):(n.next=i.next,i.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Ja(r)):(t.next=i.next,i.next=t),r.interleaved=t,vn(e,n)}function Bu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}function pc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=o:u=u.next=o,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eo(e,t,n,r){var i=e.updateQueue;Fn=!1;var u=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,h=a.next;a.next=null,o===null?u=h:o.next=h,o=a;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==o&&(s===null?p.firstBaseUpdate=h:s.next=h,p.lastBaseUpdate=a))}if(u!==null){var v=i.baseState;o=0,p=h=a=null,s=u;do{var g=s.lane,E=s.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:E,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,d=s;switch(g=t,E=n,d.tag){case 1:if(C=d.payload,typeof C=="function"){v=C.call(E,v,g);break e}v=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=d.payload,g=typeof C=="function"?C.call(E,v,g):C,g==null)break e;v=Pe({},v,g);break e;case 2:Fn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[s]:g.push(s))}else E={eventTime:E,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(h=p=E,a=v):p=p.next=E,o|=g;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;g=s,s=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(a=v),i.baseState=a,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);or|=o,e.lanes=o,e.memoizedState=v}}function mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Xi={},un=Wn(Xi),Ri=Wn(Xi),Li=Wn(Xi);function er(e){if(e===Xi)throw Error(J(174));return e}function el(e,t){switch(Be(Li,t),Be(Ri,e),Be(un,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bs(t,e)}ke(un),Be(un,t)}function Ur(){ke(un),ke(Ri),ke(Li)}function Td(e){er(Li.current);var t=er(un.current),n=bs(t,e.type);t!==n&&(Be(Ri,e),Be(un,n))}function tl(e){Ri.current===e&&(ke(un),ke(Ri))}var Ie=Wn(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function nl(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var ju=yn.ReactCurrentDispatcher,cs=yn.ReactCurrentBatchConfig,ur=0,ze=null,We=null,Ge=null,no=!1,Ci=!1,Ui=0,Rm=0;function it(){throw Error(J(321))}function rl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function il(e,t,n,r,i,u){if(ur=u,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ju.current=e===null||e.memoizedState===null?Wm:Hm,e=n(r,i),Ci){u=0;do{if(Ci=!1,Ui=0,25<=u)throw Error(J(301));u+=1,Ge=We=null,t.updateQueue=null,ju.current=qm,e=n(r,i)}while(Ci)}if(ju.current=ro,t=We!==null&&We.next!==null,ur=0,Ge=We=ze=null,no=!1,t)throw Error(J(300));return e}function ul(){var e=Ui!==0;return Ui=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?ze.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Rt(){if(We===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ge===null?ze.memoizedState:Ge.next;if(t!==null)Ge=t,We=e;else{if(e===null)throw Error(J(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?ze.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Vi(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=Rt(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,u=n.pending;if(u!==null){if(i!==null){var o=i.next;i.next=u.next,u.next=o}r.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,r=r.baseState;var s=o=null,a=null,h=u;do{var p=h.lane;if((ur&p)===p)a!==null&&(a=a.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};a===null?(s=a=v,o=r):a=a.next=v,ze.lanes|=p,or|=p}h=h.next}while(h!==null&&h!==u);a===null?o=r:a.next=s,Zt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do u=i.lane,ze.lanes|=u,or|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ds(e){var t=Rt(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do u=e(u,o.action),o=o.next;while(o!==i);Zt(u,t.memoizedState)||(xt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function bd(){}function Od(e,t){var n=ze,r=Rt(),i=t(),u=!Zt(r.memoizedState,i);if(u&&(r.memoizedState=i,xt=!0),r=r.queue,ol(Pd.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Wi(9,zd.bind(null,n,r,i,t),void 0,null),Ze===null)throw Error(J(349));ur&30||Id(n,t,i)}return i}function Id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zd(e,t,n,r){t.value=n,t.getSnapshot=r,$d(t)&&Rd(e)}function Pd(e,t,n){return n(function(){$d(t)&&Rd(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function Rd(e){var t=vn(e,1);t!==null&&Gt(t,e,1,-1)}function vc(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Vm.bind(null,ze,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ld(){return Rt().memoizedState}function ku(e,t,n,r){var i=Xt();ze.flags|=e,i.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function So(e,t,n,r){var i=Rt();r=r===void 0?null:r;var u=void 0;if(We!==null){var o=We.memoizedState;if(u=o.destroy,r!==null&&rl(r,o.deps)){i.memoizedState=Wi(t,n,u,r);return}}ze.flags|=e,i.memoizedState=Wi(1|t,n,u,r)}function gc(e,t){return ku(8390656,8,e,t)}function ol(e,t){return So(2048,8,e,t)}function Ud(e,t){return So(4,2,e,t)}function Vd(e,t){return So(4,4,e,t)}function Wd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,n){return n=n!=null?n.concat([e]):null,So(4,4,Wd.bind(null,t,e),n)}function sl(){}function qd(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qd(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gd(e,t,n){return ur&21?(Zt(n,t)||(n=Xf(),ze.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function Lm(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{Fe=n,cs.transition=r}}function Kd(){return Rt().memoizedState}function Um(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zd(e))Yd(t,n);else if(n=jd(e,t,n,r),n!==null){var i=pt();Gt(n,e,r,i),Jd(n,t,r)}}function Vm(e,t,n){var r=Pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zd(e))Yd(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var o=t.lastRenderedState,s=u(o,n);if(i.hasEagerState=!0,i.eagerState=s,Zt(s,o)){var a=t.interleaved;a===null?(i.next=i,Ja(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=jd(e,t,i,r),n!==null&&(i=pt(),Gt(n,e,r,i),Jd(n,t,r))}}function Zd(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Yd(e,t){Ci=no=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}var ro={readContext:$t,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Wm={readContext:$t,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:gc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ku(4194308,4,Wd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return ku(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Um.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:vc,useDebugValue:sl,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=vc(!1),t=e[0];return e=Lm.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Xt();if(Te){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Ze===null)throw Error(J(349));ur&30||Id(r,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,gc(Pd.bind(null,r,u,e),[e]),r.flags|=2048,Wi(9,zd.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Ze.identifierPrefix;if(Te){var n=fn,r=cn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ui++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hm={readContext:$t,useCallback:qd,useContext:$t,useEffect:ol,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:Qd,useReducer:fs,useRef:Ld,useState:function(){return fs(Vi)},useDebugValue:sl,useDeferredValue:function(e){var t=Rt();return Gd(t,We.memoizedState,e)},useTransition:function(){var e=fs(Vi)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bd,useSyncExternalStore:Od,useId:Kd,unstable_isNewReconciler:!1},qm={readContext:$t,useCallback:qd,useContext:$t,useEffect:ol,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:Qd,useReducer:ds,useRef:Ld,useState:function(){return ds(Vi)},useDebugValue:sl,useDeferredValue:function(e){var t=Rt();return We===null?t.memoizedState=e:Gd(t,We.memoizedState,e)},useTransition:function(){var e=ds(Vi)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bd,useSyncExternalStore:Od,useId:Kd,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ta(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _o={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Pn(e),u=hn(r,i);u.payload=t,n!=null&&(u.callback=n),t=In(e,u,i),t!==null&&(Gt(t,e,i,r),Bu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Pn(e),u=hn(r,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=In(e,u,i),t!==null&&(Gt(t,e,i,r),Bu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=Pn(e),i=hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=In(e,i,r),t!==null&&(Gt(t,e,r,n),Bu(t,e,r))}};function yc(e,t,n,r,i,u,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,o):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(i,u):!0}function Xd(e,t,n){var r=!1,i=Ln,u=t.contextType;return typeof u=="object"&&u!==null?u=$t(u):(i=Nt(t)?rr:lt.current,r=t.contextTypes,u=(r=r!=null)?$r(e,i):Ln),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_o,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Dc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function na(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Xa(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=$t(u):(u=Nt(t)?rr:lt.current,i.context=$r(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(ta(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_o.enqueueReplaceState(i,i.state,null),eo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vr(e,t){try{var n="",r=t;do n+=wp(r),r=r.return;while(r);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ra(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function e0(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,ha=r),ra(e,t)},n}function t0(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ra(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){ra(e,t),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qm;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s1.bind(null,e,t,n),t.then(e,e))}function xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ec(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,In(n,t,1))),n.lanes|=1),e)}var Gm=yn.ReactCurrentOwner,xt=!1;function ht(e,t,n,r){t.child=e===null?Bd(t,null,n,r):Lr(t,e.child,n,r)}function Nc(e,t,n,r,i){n=n.render;var u=t.ref;return Or(t,i),r=il(e,t,n,r,u,i),n=ul(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(Te&&n&&qa(t),t.flags|=1,ht(e,t,r,i),t.child)}function Cc(e,t,n,r,i){if(e===null){var u=n.type;return typeof u=="function"&&!ml(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,n0(e,t,u,r,i)):(e=Iu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&i)){var o=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(o,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=$n(u,r),e.ref=t.ref,e.return=t,t.child=e}function n0(e,t,n,r,i){if(e!==null){var u=e.memoizedProps;if(Ii(u,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=u,(e.lanes&i)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,gn(e,t,i)}return ia(e,t,n,r,i)}function r0(e,t,n){var r=t.pendingProps,i=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(_r,At),At|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(_r,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Be(_r,At),At|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,Be(_r,At),At|=r;return ht(e,t,i,n),t.child}function i0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,r,i){var u=Nt(n)?rr:lt.current;return u=$r(t,u),Or(t,i),n=il(e,t,n,r,u,i),r=ul(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(Te&&r&&qa(t),t.flags|=1,ht(e,t,n,i),t.child)}function Fc(e,t,n,r,i){if(Nt(n)){var u=!0;Ku(t)}else u=!1;if(Or(t,i),t.stateNode===null)Tu(e,t),Xd(t,n,r),na(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=$t(h):(h=Nt(n)?rr:lt.current,h=$r(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==h)&&Dc(t,o,r,h),Fn=!1;var g=t.memoizedState;o.state=g,eo(t,r,o,i),a=t.memoizedState,s!==r||g!==a||Et.current||Fn?(typeof p=="function"&&(ta(t,n,p,r),a=t.memoizedState),(s=Fn||yc(t,n,s,r,g,a,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=h,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kd(e,t),s=t.memoizedProps,h=t.type===t.elementType?s:Wt(t.type,s),o.props=h,v=t.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=$t(a):(a=Nt(n)?rr:lt.current,a=$r(t,a));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==v||g!==a)&&Dc(t,o,r,a),Fn=!1,g=t.memoizedState,o.state=g,eo(t,r,o,i);var C=t.memoizedState;s!==v||g!==C||Et.current||Fn?(typeof E=="function"&&(ta(t,n,E,r),C=t.memoizedState),(h=Fn||yc(t,n,h,r,g,C,a)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),o.props=r,o.state=C,o.context=a,r=h):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ua(e,t,n,r,u,i)}function ua(e,t,n,r,i,u){i0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&cc(t,n,!1),gn(e,t,u);r=t.stateNode,Gm.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,u),t.child=Lr(t,null,s,u)):ht(e,t,s,u),t.memoizedState=r.state,i&&cc(t,n,!0),t.child}function u0(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),el(e,t.containerInfo)}function Ac(e,t,n,r,i){return Rr(),Ga(i),t.flags|=256,ht(e,t,n,r),t.child}var oa={dehydrated:null,treeContext:null,retryLane:0};function sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function o0(e,t,n){var r=t.pendingProps,i=Ie.current,u=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ie,i&1),e===null)return Xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,u?(r=t.mode,u=t.child,o={mode:"hidden",children:o},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=o):u=jo(o,r,0,null),e=nr(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=sa(n),t.memoizedState=oa,e):al(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Km(e,t,o,r,s,i,n);if(u){u=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=$n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?u=$n(s,u):(u=nr(u,o,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,o=e.child.memoizedState,o=o===null?sa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},u.memoizedState=o,u.childLanes=e.childLanes&~n,t.memoizedState=oa,r}return u=e.child,e=u.sibling,r=$n(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function al(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,n,r){return r!==null&&Ga(r),Lr(t,e.child,null,n),e=al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,n,r,i,u,o){if(n)return t.flags&256?(t.flags&=-257,r=hs(Error(J(422))),wu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,i=t.mode,r=jo({mode:"visible",children:r.children},i,0,null),u=nr(u,i,o,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=sa(o),t.memoizedState=oa,u);if(!(t.mode&1))return wu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,u=Error(J(419)),r=hs(u,r,void 0),wu(e,t,o,r)}if(s=(o&e.childLanes)!==0,xt||s){if(r=Ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,vn(e,i),Gt(r,e,i,-1))}return pl(),r=hs(Error(J(421))),wu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=a1.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,St=On(i.nextSibling),_t=t,Te=!0,qt=null,e!==null&&(bt[Ot++]=cn,bt[Ot++]=fn,bt[Ot++]=ir,cn=e.id,fn=e.overflow,ir=t),t=al(t,r.children),t.flags|=4096,t)}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function ps(e,t,n,r,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function s0(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(ht(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&to(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ps(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&to(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ps(t,!0,n,null,u);break;case"together":ps(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zm(e,t,n){switch(t.tag){case 3:u0(t),Rr();break;case 5:Td(t);break;case 1:Nt(t.type)&&Ku(t);break;case 4:el(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Be(Ju,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?o0(e,t,n):(Be(Ie,Ie.current&1),e=gn(e,t,n),e!==null?e.sibling:null);Be(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return s0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,r0(e,t,n)}return gn(e,t,n)}var a0,aa,l0,c0;a0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aa=function(){};l0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,er(un.current);var u=null;switch(n){case"input":i=Bs(e,i),r=Bs(e,r),u=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),u=[];break;case"textarea":i=Ts(e,i),r=Ts(e,r),u=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qu)}Os(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var s=i[h];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Mi.hasOwnProperty(h)?u||(u=[]):(u=u||[]).push(h,null));for(h in r){var a=r[h];if(s=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&a!==s&&(a!=null||s!=null))if(h==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(u||(u=[]),u.push(h,n)),n=a;else h==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(u=u||[]).push(h,a)):h==="children"?typeof a!="string"&&typeof a!="number"||(u=u||[]).push(h,""+a):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(h)?(a!=null&&h==="onScroll"&&je("scroll",e),u||s===a||(u=[])):(u=u||[]).push(h,a))}n&&(u=u||[]).push("style",n);var h=u;(t.updateQueue=h)&&(t.flags|=4)}};c0=function(e,t,n,r){n!==r&&(t.flags|=4)};function di(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ym(e,t,n){var r=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Nt(t.type)&&Gu(),ut(t),null;case 3:return r=t.stateNode,Ur(),ke(Et),ke(lt),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(va(qt),qt=null))),aa(e,t),ut(t),null;case 5:tl(t);var i=er(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)l0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return ut(t),null}if(e=er(un.current),yu(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[tn]=t,r[$i]=u,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<yi.length;i++)je(yi[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Il(r,u),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},je("invalid",r);break;case"textarea":Pl(r,u),je("invalid",r)}Os(n,u),i=null;for(var o in u)if(u.hasOwnProperty(o)){var s=u[o];o==="children"?typeof s=="string"?r.textContent!==s&&(u.suppressHydrationWarning!==!0&&gu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(u.suppressHydrationWarning!==!0&&gu(r.textContent,s,e),i=["children",""+s]):Mi.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":lu(r),zl(r,u,!0);break;case"textarea":lu(r),$l(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=Qu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tn]=t,e[$i]=r,a0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Is(n,r),n){case"dialog":je("cancel",e),je("close",e),i=r;break;case"iframe":case"object":case"embed":je("load",e),i=r;break;case"video":case"audio":for(i=0;i<yi.length;i++)je(yi[i],e);i=r;break;case"source":je("error",e),i=r;break;case"img":case"image":case"link":je("error",e),je("load",e),i=r;break;case"details":je("toggle",e),i=r;break;case"input":Il(e,r),i=Bs(e,r),je("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),je("invalid",e);break;case"textarea":Pl(e,r),i=Ts(e,r),je("invalid",e);break;default:i=r}Os(n,i),s=i;for(u in s)if(s.hasOwnProperty(u)){var a=s[u];u==="style"?Lf(e,a):u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&$f(e,a)):u==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Bi(e,a):typeof a=="number"&&Bi(e,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?a!=null&&u==="onScroll"&&je("scroll",e):a!=null&&ka(e,u,a,o))}switch(n){case"input":lu(e),zl(e,r,!1);break;case"textarea":lu(e),$l(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rn(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?jr(e,!!r.multiple,u,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)c0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=er(Li.current),er(un.current),yu(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(u=r.nodeValue!==n)&&(e=_t,e!==null))switch(e.tag){case 3:gu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return ut(t),null;case 13:if(ke(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&St!==null&&t.mode&1&&!(t.flags&128))_d(),Rr(),t.flags|=98560,u=!1;else if(u=yu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(J(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(J(317));u[tn]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),u=!1}else qt!==null&&(va(qt),qt=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?qe===0&&(qe=3):pl())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Ur(),aa(e,t),e===null&&zi(t.stateNode.containerInfo),ut(t),null;case 10:return Ya(t.type._context),ut(t),null;case 17:return Nt(t.type)&&Gu(),ut(t),null;case 19:if(ke(Ie),u=t.memoizedState,u===null)return ut(t),null;if(r=(t.flags&128)!==0,o=u.rendering,o===null)if(r)di(u,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=to(e),o!==null){for(t.flags|=128,di(u,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,o=u.alternate,o===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,u.type=o.type,e=o.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ie,Ie.current&1|2),t.child}e=e.sibling}u.tail!==null&&Le()>Wr&&(t.flags|=128,r=!0,di(u,!1),t.lanes=4194304)}else{if(!r)if(e=to(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),di(u,!0),u.tail===null&&u.tailMode==="hidden"&&!o.alternate&&!Te)return ut(t),null}else 2*Le()-u.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,di(u,!1),t.lanes=4194304);u.isBackwards?(o.sibling=t.child,t.child=o):(n=u.last,n!==null?n.sibling=o:t.child=o,u.last=o)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Le(),t.sibling=null,n=Ie.current,Be(Ie,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return hl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function Jm(e,t){switch(Qa(t),t.tag){case 1:return Nt(t.type)&&Gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),ke(Et),ke(lt),nl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tl(t),null;case 13:if(ke(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ie),null;case 4:return Ur(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var xu=!1,st=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function la(e,t,n){try{n()}catch(r){$e(e,t,r)}}var _c=!1;function e1(e,t){if(qs=Wu,e=md(),Ha(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,h=0,p=0,v=e,g=null;t:for(;;){for(var E;v!==n||i!==0&&v.nodeType!==3||(s=o+i),v!==u||r!==0&&v.nodeType!==3||(a=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(E=v.firstChild)!==null;)g=v,v=E;for(;;){if(v===e)break t;if(g===n&&++h===i&&(s=o),g===u&&++p===r&&(a=o),(E=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=E}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qs={focusedElem:e,selectionRange:n},Wu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var d=C.memoizedProps,D=C.memoizedState,c=t.stateNode,f=c.getSnapshotBeforeUpdate(t.elementType===t.type?d:Wt(t.type,d),D);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var l=t.stateNode.containerInfo;l.nodeType===1?l.textContent="":l.nodeType===9&&l.documentElement&&l.removeChild(l.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){$e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return C=_c,_c=!1,C}function Fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&la(t,n,u)}i=i.next}while(i!==r)}}function Mo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function f0(e){var t=e.alternate;t!==null&&(e.alternate=null,f0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[$i],delete t[Zs],delete t[Im],delete t[zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d0(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qu));else if(r!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}function da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(da(e,t,n),e=e.sibling;e!==null;)da(e,t,n),e=e.sibling}var Ye=null,Ht=!1;function En(e,t,n){for(n=n.child;n!==null;)h0(e,t,n),n=n.sibling}function h0(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(xo,n)}catch{}switch(n.tag){case 5:st||Sr(n,t);case 6:var r=Ye,i=Ht;Ye=null,En(e,t,n),Ye=r,Ht=i,Ye!==null&&(Ht?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Ht?(e=Ye,n=n.stateNode,e.nodeType===8?ss(e.parentNode,n):e.nodeType===1&&ss(e,n),bi(e)):ss(Ye,n.stateNode));break;case 4:r=Ye,i=Ht,Ye=n.stateNode.containerInfo,Ht=!0,En(e,t,n),Ye=r,Ht=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var u=i,o=u.destroy;u=u.tag,o!==void 0&&(u&2||u&4)&&la(n,t,o),i=i.next}while(i!==r)}En(e,t,n);break;case 1:if(!st&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){$e(n,t,s)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,En(e,t,n),st=r):En(e,t,n);break;default:En(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xm),t.forEach(function(r){var i=l1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var u=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ye=s.stateNode,Ht=!1;break e;case 3:Ye=s.stateNode.containerInfo,Ht=!0;break e;case 4:Ye=s.stateNode.containerInfo,Ht=!0;break e}s=s.return}if(Ye===null)throw Error(J(160));h0(u,o,i),Ye=null,Ht=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(h){$e(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)p0(t,e),t=t.sibling}function p0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),Yt(e),r&4){try{Fi(3,e,e.return),Mo(3,e)}catch(d){$e(e,e.return,d)}try{Fi(5,e,e.return)}catch(d){$e(e,e.return,d)}}break;case 1:Vt(t,e),Yt(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Vt(t,e),Yt(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var i=e.stateNode;try{Bi(i,"")}catch(d){$e(e,e.return,d)}}if(r&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,o=n!==null?n.memoizedProps:u,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&u.type==="radio"&&u.name!=null&&If(i,u),Is(s,o);var h=Is(s,u);for(o=0;o<a.length;o+=2){var p=a[o],v=a[o+1];p==="style"?Lf(i,v):p==="dangerouslySetInnerHTML"?$f(i,v):p==="children"?Bi(i,v):ka(i,p,v,h)}switch(s){case"input":js(i,u);break;case"textarea":zf(i,u);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var E=u.value;E!=null?jr(i,!!u.multiple,E,!1):g!==!!u.multiple&&(u.defaultValue!=null?jr(i,!!u.multiple,u.defaultValue,!0):jr(i,!!u.multiple,u.multiple?[]:"",!1))}i[$i]=u}catch(d){$e(e,e.return,d)}}break;case 6:if(Vt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(J(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(d){$e(e,e.return,d)}}break;case 3:if(Vt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(d){$e(e,e.return,d)}break;case 4:Vt(t,e),Yt(e);break;case 13:Vt(t,e),Yt(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(fl=Le())),r&4&&Bc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(st=(h=st)||p,Vt(t,e),st=h):Vt(t,e),Yt(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(ie=e,p=e.child;p!==null;){for(v=ie=p;ie!==null;){switch(g=ie,E=g.child,g.tag){case 0:case 11:case 14:case 15:Fi(4,g,g.return);break;case 1:Sr(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(d){$e(r,n,d)}}break;case 5:Sr(g,g.return);break;case 22:if(g.memoizedState!==null){kc(v);continue}}E!==null?(E.return=g,ie=E):kc(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(s=v.stateNode,a=v.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Rf("display",o))}catch(d){$e(e,e.return,d)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(d){$e(e,e.return,d)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Vt(t,e),Yt(e),r&4&&Bc(e);break;case 21:break;default:Vt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(d0(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bi(i,""),r.flags&=-33);var u=Mc(e);da(e,u,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Mc(e);fa(e,s,o);break;default:throw Error(J(161))}}catch(a){$e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t1(e,t,n){ie=e,m0(e)}function m0(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var i=ie,u=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xu;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||st;s=xu;var h=st;if(xu=o,(st=a)&&!h)for(ie=i;ie!==null;)o=ie,a=o.child,o.tag===22&&o.memoizedState!==null?Tc(i):a!==null?(a.return=o,ie=a):Tc(i);for(;u!==null;)ie=u,m0(u),u=u.sibling;ie=i,xu=s,st=h}jc(e)}else i.subtreeFlags&8772&&u!==null?(u.return=i,ie=u):jc(e)}}function jc(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Mo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&mc(t,u,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&bi(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}st||t.flags&512&&ca(t)}catch(g){$e(t,t.return,g)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function kc(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Tc(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mo(4,t)}catch(a){$e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){$e(t,i,a)}}var u=t.return;try{ca(t)}catch(a){$e(t,u,a)}break;case 5:var o=t.return;try{ca(t)}catch(a){$e(t,o,a)}}}catch(a){$e(t,t.return,a)}if(t===e){ie=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ie=s;break}ie=t.return}}var n1=Math.ceil,io=yn.ReactCurrentDispatcher,ll=yn.ReactCurrentOwner,zt=yn.ReactCurrentBatchConfig,De=0,Ze=null,Ve=null,et=0,At=0,_r=Wn(0),qe=0,Hi=null,or=0,Bo=0,cl=0,Ai=null,wt=null,fl=0,Wr=1/0,an=null,uo=!1,ha=null,zn=null,Eu=!1,Bn=null,oo=0,Si=0,pa=null,bu=-1,Ou=0;function pt(){return De&6?Le():bu!==-1?bu:bu=Le()}function Pn(e){return e.mode&1?De&2&&et!==0?et&-et:$m.transition!==null?(Ou===0&&(Ou=Xf()),Ou):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e):1}function Gt(e,t,n,r){if(50<Si)throw Si=0,pa=null,Error(J(185));Zi(e,n,r),(!(De&2)||e!==Ze)&&(e===Ze&&(!(De&2)&&(Bo|=n),qe===4&&_n(e,et)),Ct(e,r),n===1&&De===0&&!(t.mode&1)&&(Wr=Le()+500,Ao&&Hn()))}function Ct(e,t){var n=e.callbackNode;$p(e,t);var r=Vu(e,e===Ze?et:0);if(r===0)n!==null&&Ul(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ul(n),t===1)e.tag===0?Pm(bc.bind(null,e)):Fd(bc.bind(null,e)),bm(function(){!(De&6)&&Hn()}),n=null;else{switch(ed(r)){case 1:n=za;break;case 4:n=Yf;break;case 16:n=Uu;break;case 536870912:n=Jf;break;default:n=Uu}n=N0(n,v0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function v0(e,t){if(bu=-1,Ou=0,De&6)throw Error(J(327));var n=e.callbackNode;if(Ir()&&e.callbackNode!==n)return null;var r=Vu(e,e===Ze?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var i=De;De|=2;var u=y0();(Ze!==e||et!==t)&&(an=null,Wr=Le()+500,tr(e,t));do try{u1();break}catch(s){g0(e,s)}while(!0);Za(),io.current=u,De=i,Ve!==null?t=0:(Ze=null,et=0,t=qe)}if(t!==0){if(t===2&&(i=Ls(e),i!==0&&(r=i,t=ma(e,i))),t===1)throw n=Hi,tr(e,0),_n(e,r),Ct(e,Le()),n;if(t===6)_n(e,r);else{if(i=e.current.alternate,!(r&30)&&!r1(i)&&(t=so(e,r),t===2&&(u=Ls(e),u!==0&&(r=u,t=ma(e,u))),t===1))throw n=Hi,tr(e,0),_n(e,r),Ct(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Kn(e,wt,an);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=fl+500-Le(),10<t)){if(Vu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ks(Kn.bind(null,e,wt,an),t);break}Kn(e,wt,an);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Qt(r);u=1<<o,o=t[o],o>i&&(i=o),r&=~u}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n1(r/1960))-r,10<r){e.timeoutHandle=Ks(Kn.bind(null,e,wt,an),r);break}Kn(e,wt,an);break;case 5:Kn(e,wt,an);break;default:throw Error(J(329))}}}return Ct(e,Le()),e.callbackNode===n?v0.bind(null,e):null}function ma(e,t){var n=Ai;return e.current.memoizedState.isDehydrated&&(tr(e,t).flags|=256),e=so(e,t),e!==2&&(t=wt,wt=n,t!==null&&va(t)),e}function va(e){wt===null?wt=e:wt.push.apply(wt,e)}function r1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!Zt(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~cl,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(De&6)throw Error(J(327));Ir();var t=Vu(e,0);if(!(t&1))return Ct(e,Le()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=Ls(e);r!==0&&(t=r,n=ma(e,r))}if(n===1)throw n=Hi,tr(e,0),_n(e,t),Ct(e,Le()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,wt,an),Ct(e,Le()),null}function dl(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Wr=Le()+500,Ao&&Hn())}}function sr(e){Bn!==null&&Bn.tag===0&&!(De&6)&&Ir();var t=De;De|=1;var n=zt.transition,r=Fe;try{if(zt.transition=null,Fe=1,e)return e()}finally{Fe=r,zt.transition=n,De=t,!(De&6)&&Hn()}}function hl(){At=_r.current,ke(_r)}function tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tm(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gu();break;case 3:Ur(),ke(Et),ke(lt),nl();break;case 5:tl(r);break;case 4:Ur();break;case 13:ke(Ie);break;case 19:ke(Ie);break;case 10:Ya(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ze=e,Ve=e=$n(e.current,null),et=At=t,qe=0,Hi=null,cl=Bo=or=0,wt=Ai=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,u=n.pending;if(u!==null){var o=u.next;u.next=i,r.next=o}n.pending=r}Xn=null}return e}function g0(e,t){do{var n=Ve;try{if(Za(),ju.current=ro,no){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}no=!1}if(ur=0,Ge=We=ze=null,Ci=!1,Ui=0,ll.current=null,n===null||n.return===null){qe=1,Hi=t,Ve=null;break}e:{var u=e,o=n.return,s=n,a=t;if(t=et,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var h=a,p=s,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=xc(o);if(E!==null){E.flags&=-257,Ec(E,o,s,u,t),E.mode&1&&wc(u,h,t),t=E,a=h;var C=t.updateQueue;if(C===null){var d=new Set;d.add(a),t.updateQueue=d}else C.add(a);break e}else{if(!(t&1)){wc(u,h,t),pl();break e}a=Error(J(426))}}else if(Te&&s.mode&1){var D=xc(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Ec(D,o,s,u,t),Ga(Vr(a,s));break e}}u=a=Vr(a,s),qe!==4&&(qe=2),Ai===null?Ai=[u]:Ai.push(u),u=o;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var c=e0(u,a,t);pc(u,c);break e;case 1:s=a;var f=u.type,l=u.stateNode;if(!(u.flags&128)&&(typeof f.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(zn===null||!zn.has(l)))){u.flags|=65536,t&=-t,u.lanes|=t;var w=t0(u,s,t);pc(u,w);break e}}u=u.return}while(u!==null)}w0(n)}catch(y){t=y,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function y0(){var e=io.current;return io.current=ro,e===null?ro:e}function pl(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||!(or&268435455)&&!(Bo&268435455)||_n(Ze,et)}function so(e,t){var n=De;De|=2;var r=y0();(Ze!==e||et!==t)&&(an=null,tr(e,t));do try{i1();break}catch(i){g0(e,i)}while(!0);if(Za(),De=n,io.current=r,Ve!==null)throw Error(J(261));return Ze=null,et=0,qe}function i1(){for(;Ve!==null;)D0(Ve)}function u1(){for(;Ve!==null&&!Bp();)D0(Ve)}function D0(e){var t=E0(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?w0(e):Ve=t,ll.current=null}function w0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jm(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}else if(n=Ym(n,t,At),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);qe===0&&(qe=5)}function Kn(e,t,n){var r=Fe,i=zt.transition;try{zt.transition=null,Fe=1,o1(e,t,n,r)}finally{zt.transition=i,Fe=r}return null}function o1(e,t,n,r){do Ir();while(Bn!==null);if(De&6)throw Error(J(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Rp(e,u),e===Ze&&(Ve=Ze=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,N0(Uu,function(){return Ir(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=zt.transition,zt.transition=null;var o=Fe;Fe=1;var s=De;De|=4,ll.current=null,e1(e,n),p0(n,e),Am(Qs),Wu=!!qs,Qs=qs=null,e.current=n,t1(n),jp(),De=s,Fe=o,zt.transition=u}else e.current=n;if(Eu&&(Eu=!1,Bn=e,oo=i),u=e.pendingLanes,u===0&&(zn=null),bp(n.stateNode),Ct(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uo)throw uo=!1,e=ha,ha=null,e;return oo&1&&e.tag!==0&&Ir(),u=e.pendingLanes,u&1?e===pa?Si++:(Si=0,pa=e):Si=0,Hn(),null}function Ir(){if(Bn!==null){var e=ed(oo),t=zt.transition,n=Fe;try{if(zt.transition=null,Fe=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,oo=0,De&6)throw Error(J(331));var i=De;for(De|=4,ie=e.current;ie!==null;){var u=ie,o=u.child;if(ie.flags&16){var s=u.deletions;if(s!==null){for(var a=0;a<s.length;a++){var h=s[a];for(ie=h;ie!==null;){var p=ie;switch(p.tag){case 0:case 11:case 15:Fi(8,p,u)}var v=p.child;if(v!==null)v.return=p,ie=v;else for(;ie!==null;){p=ie;var g=p.sibling,E=p.return;if(f0(p),p===h){ie=null;break}if(g!==null){g.return=E,ie=g;break}ie=E}}}var C=u.alternate;if(C!==null){var d=C.child;if(d!==null){C.child=null;do{var D=d.sibling;d.sibling=null,d=D}while(d!==null)}}ie=u}}if(u.subtreeFlags&2064&&o!==null)o.return=u,ie=o;else e:for(;ie!==null;){if(u=ie,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Fi(9,u,u.return)}var c=u.sibling;if(c!==null){c.return=u.return,ie=c;break e}ie=u.return}}var f=e.current;for(ie=f;ie!==null;){o=ie;var l=o.child;if(o.subtreeFlags&2064&&l!==null)l.return=o,ie=l;else e:for(o=f;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Mo(9,s)}}catch(y){$e(s,s.return,y)}if(s===o){ie=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,ie=w;break e}ie=s.return}}if(De=i,Hn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(xo,e)}catch{}r=!0}return r}finally{Fe=n,zt.transition=t}}return!1}function Oc(e,t,n){t=Vr(n,t),t=e0(e,t,1),e=In(e,t,1),t=pt(),e!==null&&(Zi(e,1,t),Ct(e,t))}function $e(e,t,n){if(e.tag===3)Oc(e,e,n);else for(;t!==null;){if(t.tag===3){Oc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){e=Vr(n,e),e=t0(t,e,1),t=In(t,e,1),e=pt(),t!==null&&(Zi(t,1,e),Ct(t,e));break}}t=t.return}}function s1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(et&n)===n&&(qe===4||qe===3&&(et&130023424)===et&&500>Le()-fl?tr(e,0):cl|=n),Ct(e,t)}function x0(e,t){t===0&&(e.mode&1?(t=du,du<<=1,!(du&130023424)&&(du=4194304)):t=1);var n=pt();e=vn(e,t),e!==null&&(Zi(e,t,n),Ct(e,n))}function a1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x0(e,n)}function l1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),x0(e,n)}var E0;E0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,Zm(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Te&&t.flags&1048576&&Ad(t,Yu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tu(e,t),e=t.pendingProps;var i=$r(t,lt.current);Or(t,n),i=il(null,t,r,e,i,n);var u=ul();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(u=!0,Ku(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xa(t),i.updater=_o,t.stateNode=i,i._reactInternals=t,na(t,r,e,n),t=ua(null,t,r,!0,u,n)):(t.tag=0,Te&&u&&qa(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=f1(r),e=Wt(r,e),i){case 0:t=ia(null,t,r,e,n);break e;case 1:t=Fc(null,t,r,e,n);break e;case 11:t=Nc(null,t,r,e,n);break e;case 14:t=Cc(null,t,r,Wt(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),ia(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Fc(e,t,r,i,n);case 3:e:{if(u0(t),e===null)throw Error(J(387));r=t.pendingProps,u=t.memoizedState,i=u.element,kd(e,t),eo(t,r,null,n);var o=t.memoizedState;if(r=o.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=Vr(Error(J(423)),t),t=Ac(e,t,r,n,i);break e}else if(r!==i){i=Vr(Error(J(424)),t),t=Ac(e,t,r,n,i);break e}else for(St=On(t.stateNode.containerInfo.firstChild),_t=t,Te=!0,qt=null,n=Bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),r===i){t=gn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return Td(t),e===null&&Xs(t),r=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,o=i.children,Gs(r,i)?o=null:u!==null&&Gs(r,u)&&(t.flags|=32),i0(e,t),ht(e,t,o,n),t.child;case 6:return e===null&&Xs(t),null;case 13:return o0(e,t,n);case 4:return el(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Nc(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value,Be(Ju,r._currentValue),r._currentValue=o,u!==null)if(Zt(u.value,o)){if(u.children===i.children&&!Et.current){t=gn(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var s=u.dependencies;if(s!==null){o=u.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(u.tag===1){a=hn(-1,n&-n),a.tag=2;var h=u.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a}}u.lanes|=n,a=u.alternate,a!==null&&(a.lanes|=n),ea(u.return,n,t),s.lanes|=n;break}a=a.next}}else if(u.tag===10)o=u.type===t.type?null:u.child;else if(u.tag===18){if(o=u.return,o===null)throw Error(J(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),ea(o,n,t),o=u.sibling}else o=u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===t){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Or(t,n),i=$t(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=Wt(r,t.pendingProps),i=Wt(r.type,i),Cc(e,t,r,i,n);case 15:return n0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Tu(e,t),t.tag=1,Nt(r)?(e=!0,Ku(t)):e=!1,Or(t,n),Xd(t,r,i),na(t,r,i,n),ua(null,t,r,!0,e,n);case 19:return s0(e,t,n);case 22:return r0(e,t,n)}throw Error(J(156,t.tag))};function N0(e,t){return Zf(e,t)}function c1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new c1(e,t,n,r)}function ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f1(e){if(typeof e=="function")return ml(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ba)return 11;if(e===Oa)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,u){var o=2;if(r=e,typeof e=="function")ml(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yr:return nr(n.children,i,u,t);case Ta:o=8,i|=8;break;case As:return e=It(12,n,t,i|2),e.elementType=As,e.lanes=u,e;case Ss:return e=It(13,n,t,i),e.elementType=Ss,e.lanes=u,e;case _s:return e=It(19,n,t,i),e.elementType=_s,e.lanes=u,e;case Tf:return jo(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jf:o=10;break e;case kf:o=9;break e;case ba:o=11;break e;case Oa:o=14;break e;case Cn:o=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=It(o,n,t,i),t.elementType=e,t.type=r,t.lanes=u,t}function nr(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function jo(e,t,n,r){return e=It(22,e,r,t),e.elementType=Tf,e.lanes=n,e.stateNode={isHidden:!1},e}function ms(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function vs(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vl(e,t,n,r,i,u,o,s,a){return e=new d1(e,t,n,s,a),t===1?(t=1,u===!0&&(t|=8)):t=0,u=It(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(u),e}function h1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function C0(e){if(!e)return Ln;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(Nt(n))return Cd(e,n,t)}return t}function F0(e,t,n,r,i,u,o,s,a){return e=vl(n,r,!0,e,i,u,o,s,a),e.context=C0(null),n=e.current,r=pt(),i=Pn(n),u=hn(r,i),u.callback=t??null,In(n,u,i),e.current.lanes=i,Zi(e,i,r),Ct(e,r),e}function ko(e,t,n,r){var i=t.current,u=pt(),o=Pn(i);return n=C0(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(u,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(i,t,o),e!==null&&(Gt(e,i,o,u),Bu(e,i,o)),o}function ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gl(e,t){Ic(e,t),(e=e.alternate)&&Ic(e,t)}function p1(){return null}var A0=typeof reportError=="function"?reportError:function(e){console.error(e)};function yl(e){this._internalRoot=e}To.prototype.render=yl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));ko(e,t,null,null)};To.prototype.unmount=yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){ko(null,e,null,null)}),t[mn]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&ud(e)}};function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zc(){}function m1(e,t,n,r,i){if(i){if(typeof r=="function"){var u=r;r=function(){var h=ao(o);u.call(h)}}var o=F0(t,r,e,0,null,!1,!1,"",zc);return e._reactRootContainer=o,e[mn]=o.current,zi(e.nodeType===8?e.parentNode:e),sr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var h=ao(a);s.call(h)}}var a=vl(e,0,!1,null,null,!1,!1,"",zc);return e._reactRootContainer=a,e[mn]=a.current,zi(e.nodeType===8?e.parentNode:e),sr(function(){ko(t,a,n,r)}),a}function Oo(e,t,n,r,i){var u=n._reactRootContainer;if(u){var o=u;if(typeof i=="function"){var s=i;i=function(){var a=ao(o);s.call(a)}}ko(t,o,e,i)}else o=m1(n,t,e,i,r);return ao(o)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gi(t.pendingLanes);n!==0&&(Pa(t,n|1),Ct(t,Le()),!(De&6)&&(Wr=Le()+500,Hn()))}break;case 13:sr(function(){var r=vn(e,1);if(r!==null){var i=pt();Gt(r,e,1,i)}}),gl(e,1)}};$a=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=pt();Gt(t,e,134217728,n)}gl(e,134217728)}};nd=function(e){if(e.tag===13){var t=Pn(e),n=vn(e,t);if(n!==null){var r=pt();Gt(n,e,t,r)}gl(e,t)}};rd=function(){return Fe};id=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};Ps=function(e,t,n){switch(t){case"input":if(js(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fo(r);if(!i)throw Error(J(90));Of(r),js(r,i)}}}break;case"textarea":zf(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};Wf=dl;Hf=sr;var v1={usingClientEntryPoint:!1,Events:[Ji,Er,Fo,Uf,Vf,dl]},hi={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gf(e),e===null?null:e.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||p1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{xo=Nu.inject(g1),rn=Nu}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(t))throw Error(J(200));return h1(e,t,null,n)};Bt.createRoot=function(e,t){if(!Dl(e))throw Error(J(299));var n=!1,r="",i=A0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vl(e,1,!1,null,null,n,!1,r,i),e[mn]=t.current,zi(e.nodeType===8?e.parentNode:e),new yl(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Gf(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return sr(e)};Bt.hydrate=function(e,t,n){if(!bo(t))throw Error(J(200));return Oo(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!Dl(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,u="",o=A0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=F0(t,null,e,1,n??null,i,!1,u,o),e[mn]=t.current,zi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new To(t)};Bt.render=function(e,t,n){if(!bo(t))throw Error(J(200));return Oo(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!bo(e))throw Error(J(40));return e._reactRootContainer?(sr(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};Bt.unstable_batchedUpdates=dl;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bo(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Oo(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function S0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S0)}catch(e){console.error(e)}}S0(),Sf.exports=Bt;var y1=Sf.exports,Pc=y1;Cs.createRoot=Pc.createRoot,Cs.hydrateRoot=Pc.hydrateRoot;const lo=X.forwardRef(function({highlighted:t=[],startMidi:n=21,endMidi:r=108,hideScrollbar:i=!1},u){const o=new Set([1,3,6,8,10]),s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],a=[];for(let c=n;c<=r;c++){const f=c%12;o.has(f)||a.push(c)}const h=28,p=140,v=18,g=92;function E(c){const f=(c%12+12)%12,l=Math.floor(c/12)-1;return`${{3:"E",10:"B"}[f]??s[f]}${l}`}const C={position:"relative",width:a.length*h,height:p+24,userSelect:"none"},d=new Set(t.map(Number)),D=X.useRef(null);return X.useImperativeHandle(u,()=>({scrollToMidis(c=[]){const f=(c||[]).map(Number).sort((y,x)=>y-x);if(f.length===0)return;let l=0;const w=()=>{l+=1;const y=D.current;if(!y)return;const x=f[0],N=f[f.length-1],F=y.querySelector(`[data-midi="${x}"]`),_=y.querySelector(`[data-midi="${N}"]`),j=F||_;if(!j){l<8&&setTimeout(w,40);return}const T=y.getBoundingClientRect(),k=F?F.getBoundingClientRect():j.getBoundingClientRect(),$=_?_.getBoundingClientRect():k,P=Math.min(k.left,$.left),L=Math.max(k.right,$.right),B=(P+L)/2,q=y.scrollLeft+(B-T.left)-y.clientWidth/2;y.scrollTo({left:Math.max(0,q),behavior:"smooth"})};w()}})),m.jsx("div",{style:{overflowX:i?"hidden":"auto",width:"100%"},ref:D,"aria-hidden":!1,children:m.jsxs("div",{style:C,children:[m.jsx("div",{style:{display:"flex"},children:a.map((c,f)=>{const l=d.has(c);return m.jsx("div",{"data-midi":c,style:{width:h,height:p,border:"1px solid #222",boxSizing:"border-box",background:l?"#ffd27f":"#fff",position:"relative"}},c)})}),a.map((c,f)=>{const l=c+1,w=(l%12+12)%12;if(!o.has(w))return null;const y=f*h+h-v/2,x=d.has(l);return m.jsx("div",{"data-midi":l,style:{position:"absolute",left:y,top:0,width:v,height:g,background:x?"hsl(210 85% 62%)":"#000",border:x?"1px solid hsl(210 75% 48%)":"1px solid rgba(0,0,0,0.6)",borderRadius:"0 0 3px 3px",boxShadow:x?"0 6px 18px rgba(33,150,243,0.28)":"0 2px 4px rgba(0,0,0,0.4)",transition:"background 160ms ease, box-shadow 160ms ease, transform 160ms ease",transform:x?"translateY(-2px)":"none"}},`b${l}`)}),m.jsx("div",{style:{marginTop:6,display:"flex",gap:4},children:a.map(c=>m.jsx("div",{style:{width:h,textAlign:"center",fontSize:10,color:"#333"},children:E(c)},`l${c}`))})]})})});function _0({status:e,scales:t=[],error:n,selectedToCompare:r,onToggleCompare:i,note:u="C",octave:o="4",selectedScaleId:s,onSelectedScaleChange:a}){const[h,p]=X.useState(()=>{try{return localStorage.getItem("musiclab:selectedScale")||""}catch{return""}}),v=typeof s<"u",g=v?s:h,E=k=>{v?typeof a=="function"&&a(k):p(k)};X.useEffect(()=>{if(!v)try{h?localStorage.setItem("musiclab:selectedScale",h):localStorage.removeItem("musiclab:selectedScale")}catch{}},[h,v]);const C=X.useRef(null),d=X.useMemo(()=>t.find(k=>k.id===g)??null,[g,t]),D=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],c=D.indexOf(u)>=0?D.indexOf(u):0,f=k=>{const $=c+k,P=D[$%12],L=Math.floor($/12),B=Number.isFinite(Number(o))?String(Number(o)+L):o;return`${P}${B}`},l=r?r.size:0,w=d?r==null?void 0:r.has(d.id):!1,y=w?"button is-small is-danger scale-compare-btn":"button is-small is-primary scale-compare-btn",[x,N]=X.useState(!1),F=X.useRef(null),_=X.useMemo(()=>!r||r.size===0?[]:Array.from(r).map(k=>t.find($=>$.id===k)).filter(Boolean).sort((k,$)=>k.name.localeCompare($.name)),[r,t]),j=X.useRef({});X.useEffect(()=>{if(!x)return;const k=$=>{($.key==="Escape"||$.key==="Esc")&&N(!1)};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[x]),X.useEffect(()=>{if(!x)return;const k=setTimeout(()=>{try{_.forEach($=>{var U;const P=Array.isArray($.degrees)?$.degrees:[],L=D.indexOf(u)>=0?D.indexOf(u):0,q=((Number.isFinite(Number(o))?Number(Number(o)):0)+1)*12+L,I=P.map(ne=>q+ne),Q=(U=j.current)==null?void 0:U[$.id];if(Q&&typeof Q.scrollToMidis=="function")try{Q.scrollToMidis(I)}catch{}})}catch{}},40);return()=>clearTimeout(k)},[x,_,u,o]);const T=X.useMemo(()=>{if(!d)return[];const k=Array.isArray(d.degrees)?d.degrees:[],$=D.indexOf(u)>=0?D.indexOf(u):0,L=((Number.isFinite(Number(o))?Number(Number(o)):0)+1)*12+$;return k.map(B=>L+B)},[d,u,o]);return X.useEffect(()=>{var k;if(d)try{(k=F.current)==null||k.scrollToMidis(T||[])}catch{}},[d,u,o,T]),m.jsxs("section",{className:"tool-panel",children:[m.jsxs("div",{className:"level",children:[m.jsx("div",{className:"level-left",children:m.jsx("h2",{className:"title is-3",children:"Scales"})}),m.jsx("div",{className:"level-right",children:m.jsx("div",{className:"level-item",children:m.jsx("button",{type:"button",className:"button is-white is-small",onClick:()=>N(!0),"aria-haspopup":"dialog","aria-expanded":x,children:m.jsxs("span",{className:"subtitle is-6 has-text-info",style:{margin:0},children:["Scales to compare: ",m.jsx("strong",{children:l})]})})})})]}),m.jsxs("div",{className:`modal ${x?"is-active":""}`,role:"dialog","aria-modal":x,children:[m.jsx("div",{className:"modal-background",onClick:()=>N(!1)}),m.jsxs("div",{className:"modal-card",style:{maxWidth:"1100px",width:"min(1100px, 96vw)"},children:[m.jsxs("header",{className:"modal-card-head",children:[m.jsxs("p",{className:"modal-card-title",children:["Compare scales (",l,")"]}),m.jsx("button",{className:"delete","aria-label":"close",onClick:()=>N(!1)})]}),m.jsxs("section",{className:"modal-card-body",children:[l===0&&m.jsx("div",{className:"content",children:m.jsx("p",{children:"No scales selected for comparison."})}),l>0&&m.jsx("div",{className:"content",children:m.jsx("div",{className:"box",children:_.map(k=>{const $=Array.isArray(k.degrees)?k.degrees:[],P=new Set($),L=$.length===0?0:Math.max(...$),B=Math.max(11,L),q=D.indexOf(u)>=0?D.indexOf(u):0,Q=((Number.isFinite(Number(o))?Number(Number(o)):0)+1)*12+q,U=$.map(ne=>Q+ne);return m.jsxs("div",{className:"columns is-vcentered is-mobile",style:{marginBottom:"0.75rem"},children:[m.jsxs("div",{className:"column is-narrow",style:{flex:"0 0 40%",display:"flex",alignItems:"center"},children:[m.jsx("button",{type:"button",className:"button is-small is-danger is-outlined",onClick:()=>i==null?void 0:i(k.id),title:`Remove ${k.name} from compare`,"aria-label":`Remove ${k.name} from compare`,style:{marginRight:"0.5rem"},children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fa-solid fa-minus"})})}),m.jsx("strong",{children:k.name})," ",m.jsxs("span",{className:"has-text-grey",style:{marginLeft:"0.5rem"},children:["(",k.size,")"]})]}),m.jsxs("div",{className:"column",style:{overflowX:"hidden"},children:[m.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"center"},children:Array.from({length:B+1},(ne,ue)=>{const me=P.has(ue)?"tag is-info":"tag is-light";return m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx("span",{className:me,style:{display:"inline-block",minWidth:"2.5rem",textAlign:"center"},children:ue}),m.jsx("span",{className:"is-size-7 has-text-grey",style:{marginTop:"0.125rem"},children:f(ue)})]},ue)})}),m.jsx("div",{style:{marginTop:"0.5rem"},children:m.jsx(lo,{ref:ne=>{j.current[k.id]=ne},highlighted:U,hideScrollbar:!0})})]})]},k.id)})})})]}),m.jsx("footer",{className:"modal-card-foot",style:{justifyContent:"flex-end"},children:m.jsx("button",{className:"button",onClick:()=>N(!1),children:"Close"})})]})]}),e==="loading"&&m.jsx("div",{className:"block has-text-centered",children:m.jsx("button",{className:"button is-loading is-white",type:"button",disabled:!0,children:"Loading scale catalog"})}),e==="error"&&m.jsx("article",{className:"message is-danger",role:"alert",children:m.jsxs("div",{className:"message-body",children:["Unable to load scales: ",n]})}),e==="success"&&m.jsxs("div",{className:"content",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"scale-select",children:"Select a scale"}),m.jsx("div",{className:"control",children:m.jsx("div",{className:"select is-fullwidth",children:m.jsxs("select",{id:"scale-select",ref:C,value:g,onChange:k=>E(k.target.value),children:[m.jsx("option",{value:"",children:" choose "}),t.map(k=>m.jsx("option",{value:k.id,children:k.name},k.id))]})})})]}),d&&(()=>{const k=Array.isArray(d.degrees)?d.degrees:[],$=new Set(k),P=k.length,L=k.length===0?0:Math.max(...k),B=Math.max(11,L);return m.jsxs("div",{className:"box scale-box",children:[m.jsxs("div",{className:"scale-box__header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.25rem"},children:[m.jsxs("h3",{className:"title is-5",style:{margin:0},children:[d.name," ",m.jsxs("span",{className:"is-size-7 has-text-grey",style:{marginLeft:"0.5rem"},children:["(",d.id,")"]})]}),m.jsxs("span",{className:"has-text-grey is-size-7",children:["Semitone span: ",m.jsx("strong",{children:P})]})]}),m.jsx("div",{style:{display:"flex",alignItems:"center"},children:m.jsx("button",{type:"button",className:y,onClick:()=>{i==null||i(d.id),setTimeout(()=>{var q;return(q=C.current)==null?void 0:q.focus()},0)},title:w?"Remove from compare":"Add to compare","aria-pressed":w,children:m.jsx("span",{className:"icon",children:m.jsx("i",{className:"fa-solid fa-code-compare"})})})})]}),m.jsx("div",{className:"tags are-medium",style:{marginTop:"1.5rem"},children:Array.from({length:B+1},(q,I)=>{const U=$.has(I)?"tag is-info":"tag is-light";return m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"0.25rem"},children:[m.jsx("span",{className:U,style:{display:"inline-block"},children:I}),m.jsx("span",{className:"is-size-7 has-text-grey",style:{marginTop:"0.125rem"},children:f(I)})]},I)})}),m.jsx("div",{style:{marginTop:"1rem"},children:m.jsx(lo,{ref:F,highlighted:T})})]})})()]}),e==="idle"&&m.jsx("p",{className:"has-text-grey",children:"Preparing to load scales"})]})}const D1=[{value:"maj",name:"Major",symbol:""},{value:"min",name:"Minor",symbol:"m"},{value:"dom7",name:"Dominant 7",symbol:"7"},{value:"min7",name:"Minor 7",symbol:"m7"},{value:"maj7",name:"Major 7",symbol:"maj7"},{value:"sus4",name:"Sus4",symbol:"sus4"},{value:"sus2",name:"Sus2",symbol:"sus2"},{value:"add9",name:"Add9",symbol:"add9"},{value:"sixth",name:"6",symbol:"6"},{value:"min6",name:"Minor 6",symbol:"m6"},{value:"dim",name:"Diminished",symbol:"dim"},{value:"aug",name:"Augmented",symbol:"+"}];function M0({note:e="A",octave:t="4"}){const[n,r]=X.useState(()=>{try{return localStorage.getItem("musiclab:chordType")||"maj"}catch{return"maj"}});X.useEffect(()=>{try{n?localStorage.setItem("musiclab:chordType",n):localStorage.removeItem("musiclab:chordType")}catch{}},[n]);const[i,u]=X.useState(!1),[o,s]=X.useState(null),a=["C","C#","D","E","E","F","F#","G","G#","A","B","B"];function h(v){const g=a.indexOf(e)>=0?a.indexOf(e):0,E=Number.isFinite(Number(t))?Number(Number(t)):0;return v.map(C=>{const d=g+C,D=a[(d%12+12)%12],c=Math.floor(d/12),f=E+c;return`${D}${f}`}).join("  ")}X.useEffect(()=>{if(!i)return;function v(g){(g.key==="Escape"||g.key==="Esc")&&u(!1)}return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[i]);const p=X.useRef(null);return X.useEffect(()=>{if(!(!i||!o))try{p.current&&typeof p.current.scrollToMidis=="function"&&p.current.scrollToMidis(o.midis||[])}catch{}},[i,o]),m.jsxs("section",{className:"tool-panel",children:[m.jsx("div",{className:"level",children:m.jsx("div",{className:"level-left",children:m.jsx("h2",{className:"title is-3",children:"Chords"})})}),m.jsxs("div",{className:"content",children:[m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",htmlFor:"chord-type-select",children:"Chord Type"}),m.jsx("div",{className:"control",children:m.jsx("div",{className:"select is-fullwidth",children:m.jsx("select",{id:"chord-type-select",value:n,onChange:v=>r(v.target.value),children:D1.map(v=>m.jsx("option",{value:v.value,children:`${v.name} (${e}${v.symbol})`},v.value))})})})]}),m.jsxs("div",{children:[m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"0.25rem"},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc",padding:"0.4rem"},children:"Voicing"}),m.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc",padding:"0.4rem"},children:"Notes"}),m.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc",padding:"0.4rem"},children:"MIDI"}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:(()=>{const v={maj:{name:"Major",symbol:"",degrees:[0,4,7]},min:{name:"Minor",symbol:"m",degrees:[0,3,7]},dom7:{name:"Dominant 7",symbol:"7",degrees:[0,4,7,10]},min7:{name:"Minor 7",symbol:"m7",degrees:[0,3,7,10]},maj7:{name:"Major 7",symbol:"maj7",degrees:[0,4,7,11]},sus4:{name:"Sus4",symbol:"sus4",degrees:[0,5,7]},sus2:{name:"Sus2",symbol:"sus2",degrees:[0,2,7]},add9:{name:"Add9",symbol:"add9",degrees:[0,4,7,14]},sixth:{name:"6",symbol:"6",degrees:[0,4,7,9]},min6:{name:"Minor 6",symbol:"m6",degrees:[0,3,7,9]},dim:{name:"Diminished",symbol:"dim",degrees:[0,3,6]},aug:{name:"Augmented",symbol:"+",degrees:[0,4,8]}};function g($){const P=[];let L=-1/0;for(let B of $){let q=B;for(;q<=L;)q+=12;P.push(q),L=q}return P}function E($){let P=$.slice();for(;Math.min(...P)<0;)P=P.map(L=>L+12);return P}function C($,P){const L=$.slice().sort((I,Q)=>I-Q),B=L.slice(P),q=L.slice(0,P).map(I=>I+12);return g(B.concat(q))}function d($){const P=g($.slice().sort((B,q)=>B-q));if(P.length<4)return null;const L=P.length-2;return E(g([P[L]-12,...P.filter((B,q)=>q!==L)]))}function D($){const P=g($.slice().sort((B,q)=>B-q));if(P.length<4)return null;const L=P.length-3;return E(g([P[L]-12,...P.filter((B,q)=>q!==L)]))}function c($){if($.length!==3)return null;const[P,L,B]=$.slice().sort((q,I)=>q-I);return g([P,B,L+12])}function f($){if($.length!==3)return null;const[P,L,B]=$.slice().sort((q,I)=>q-I);return g([P,L+12,B+12])}function l($,P){return P.map(L=>$+L)}const w=v[n];if(!w)return m.jsx("tr",{children:m.jsx("td",{colSpan:"4",style:{padding:"0.4rem",fontStyle:"italic"},children:"Unknown chord type."})});const y=w.degrees,x=[{name:"Close (Root)",list:g(y.slice().sort(($,P)=>$-P))},{name:"Close (1st inv)",list:y.length>2?C(y,1):null},{name:"Close (2nd inv)",list:y.length>2?C(y,2):null},{name:"Close (3rd inv)",list:y.length>3?C(y,3):null}].filter($=>$.list),N=[{name:"Drop-2 (root position)",list:d(y)},{name:"Drop-3 (root position)",list:D(y)}].filter($=>$.list),F=y.length===3?[{name:"Spread Triad (R510)",list:c(y)},{name:"Open Triad (R1014)",list:f(y)}].filter($=>$.list):[],_=[...x,...N,...F];if(_.length===0)return m.jsx("tr",{children:m.jsx("td",{colSpan:"4",style:{padding:"0.4rem",fontStyle:"italic"},children:"No voicings available for this chord."})});const j=a.indexOf(e)>=0?a.indexOf(e):0,k=((Number.isFinite(Number(t))?Number(Number(t)):0)+1)*12+j;return _.map(($,P)=>{const L=l(k,$.list);return m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"0.4rem",borderBottom:"1px solid #e5e5e5"},children:$.name}),m.jsx("td",{style:{padding:"0.4rem",borderBottom:"1px solid #e5e5e5",fontFamily:"monospace"},children:h($.list)}),m.jsx("td",{style:{padding:"0.4rem",borderBottom:"1px solid #e5e5e5",fontFamily:"monospace"},children:L.join(", ")}),m.jsx("td",{style:{padding:"0.4rem",borderBottom:"1px solid #e5e5e5"},children:m.jsx("button",{type:"button",className:"button is-small",title:`View ${$.name} on keyboard`,"aria-label":`View ${$.name} on keyboard`,onClick:()=>{s({name:$.name,list:$.list,midis:L}),u(!0)},children:m.jsx("span",{className:"icon","aria-hidden":"true",children:m.jsx("i",{className:"fas fa-eye"})})})})]},`${$.name}-${P}`)})})()})]}),m.jsxs("div",{className:`modal ${i?"is-active":""}`,role:"dialog","aria-modal":i,children:[m.jsx("div",{className:"modal-background",onClick:()=>u(!1)}),m.jsxs("div",{className:"modal-card",style:{maxWidth:"1100px",width:"min(1100px, 96vw)"},children:[m.jsxs("header",{className:"modal-card-head",children:[m.jsx("p",{className:"modal-card-title",children:o?`${o.name}`:"Voicing"}),m.jsx("button",{className:"delete","aria-label":"close",onClick:()=>u(!1)})]}),m.jsx("section",{className:"modal-card-body",children:o&&m.jsxs("div",{children:[m.jsxs("p",{style:{marginBottom:"0.5rem"},children:[m.jsx("strong",{children:"Notes:"})," ",m.jsx("span",{style:{fontFamily:"monospace"},children:h(o.list)})]}),m.jsxs("p",{style:{marginBottom:"0.5rem"},children:[m.jsx("strong",{children:"MIDI:"})," ",m.jsx("span",{style:{fontFamily:"monospace"},children:o.midis.join(", ")})]}),m.jsx(lo,{ref:p,highlighted:o.midis})]})}),m.jsx("footer",{className:"modal-card-foot",style:{justifyContent:"flex-end"},children:m.jsx("button",{className:"button",onClick:()=>u(!1),children:"Close"})})]})]})]})]})]})}function hr(e){return function(){return e}}const ga=Math.PI,ya=2*ga,Zn=1e-6,w1=ya-Zn;function B0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function x1(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return B0;const n=10**t;return function(r){this._+=r[0];for(let i=1,u=r.length;i<u;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class E1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?B0:x1(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,u,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+u},${this._y1=+o}`}arcTo(t,n,r,i,u){if(t=+t,n=+n,r=+r,i=+i,u=+u,u<0)throw new Error(`negative radius: ${u}`);let o=this._x1,s=this._y1,a=r-t,h=i-n,p=o-t,v=s-n,g=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Zn)if(!(Math.abs(v*a-h*p)>Zn)||!u)this._append`L${this._x1=t},${this._y1=n}`;else{let E=r-o,C=i-s,d=a*a+h*h,D=E*E+C*C,c=Math.sqrt(d),f=Math.sqrt(g),l=u*Math.tan((ga-Math.acos((d+g-D)/(2*c*f)))/2),w=l/f,y=l/c;Math.abs(w-1)>Zn&&this._append`L${t+w*p},${n+w*v}`,this._append`A${u},${u},0,0,${+(v*E>p*C)},${this._x1=t+y*a},${this._y1=n+y*h}`}}arc(t,n,r,i,u,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),h=t+s,p=n+a,v=1^o,g=o?i-u:u-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Zn||Math.abs(this._y1-p)>Zn)&&this._append`L${h},${p}`,r&&(g<0&&(g=g%ya+ya),g>w1?this._append`A${r},${r},0,1,${v},${t-s},${n-a}A${r},${r},0,1,${v},${this._x1=h},${this._y1=p}`:g>Zn&&this._append`A${r},${r},0,${+(g>=ga)},${v},${this._x1=t+r*Math.cos(u)},${this._y1=n+r*Math.sin(u)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new E1(t)}function C1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j0(e){this._context=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function k0(e){return new j0(e)}function F1(e){return e[0]}function A1(e){return e[1]}function S1(e,t){var n=hr(!0),r=null,i=k0,u=null,o=N1(s);e=typeof e=="function"?e:e===void 0?F1:hr(e),t=typeof t=="function"?t:t===void 0?A1:hr(t);function s(a){var h,p=(a=C1(a)).length,v,g=!1,E;for(r==null&&(u=i(E=o())),h=0;h<=p;++h)!(h<p&&n(v=a[h],h,a))===g&&((g=!g)?u.lineStart():u.lineEnd()),g&&u.point(+e(v,h,a),+t(v,h,a));if(E)return u=null,E+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:hr(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:hr(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:hr(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(u=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=u=null:u=i(r=a),s):r},s}function _1({points:e=[],width:t=420,height:n=140,padding:r=6}){var w;if(!e||e.length===0)return null;const[i,u]=X.useState(null),o=e.slice(1).map(y=>Number(y.time)||0),s=[0];for(let y=0;y<o.length;y++)s.push(s[s.length-1]+o[y]);const a=s[s.length-1]||1,h=y=>r+y/a*(t-r*2);let p=e.map(y=>Number(y.level)||0);const v=Math.min(...p,0),E=Math.max(...p,1)-v||1,C=y=>{const x=(y-v)/E;return r+(1-x)*(n-r*2)},d=e.map((y,x)=>({x:s[x],y:Number(y.level)||0}));function D(y,x,N,F){const _=y.x,j=x.x,T=j-_,k=y.y,$=x.y,P=I=>{if(!Number.isFinite(N))return I;if(N===-99)return 0;if(N===0)return I;if(N>0)return Math.pow(I,1/(1+N));const Q=Math.abs(N);return 1-Math.pow(1-I,1/(1+Q))};let L=F;try{const I=Math.abs(h(j)-h(_)),Q=Math.min(160,Math.round(Math.abs(N||0)*24));L=Math.max(4,Math.min(400,Math.round(I*.6)+Q))}catch{L=F}const B=[],q=Math.max(3,L);for(let I=0;I<L;I++){const Q=I/(q-1);let U;if(N===-99)U=I===q-1?$:k;else{const ue=P(Q);U=k+ue*($-k)}const ne=_+Q*T;B.push({x:ne,y:U})}return B}const c=[];for(let y=0;y<d.length-1;y++){const x=d[y],N=d[y+1],F=Number((w=e[y+1])==null?void 0:w.curve),_=D(x,N,F,32);y===0?c.push(..._):c.push(..._.slice(1))}const l=S1().x(y=>h(y.x)).y(y=>C(y.y)).curve(k0)(c)||"";return m.jsxs("svg",{width:t,height:n,viewBox:`0 0 ${t} ${n}`,"aria-label":"Envelope plot",children:[m.jsx("rect",{x:0,y:0,width:t,height:n,fill:"#fafafa",stroke:"#eee",rx:6}),m.jsxs("g",{stroke:"#f0f0f0",children:[m.jsx("line",{x1:r,x2:t-r,y1:C(0),y2:C(0)}),m.jsx("line",{x1:r,x2:t-r,y1:C(1),y2:C(1)})]}),m.jsx("path",{d:l,fill:"none",stroke:"#3273dc",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("g",{children:d.map((y,x)=>m.jsx("circle",{cx:h(y.x),cy:C(y.y),r:4,fill:"#3273dc",stroke:"#fff",onMouseEnter:()=>u({i:x,x:h(y.x),y:C(y.y)}),onMouseMove:()=>u({i:x,x:h(y.x),y:C(y.y)}),onMouseLeave:()=>u(null)},x))}),i?(()=>{const y=i.i,x=i.x,N=i.y,F=e[y]||{level:0,time:0,curve:0},_=[];_.push(`#${y} level: ${Number(F.level).toFixed(3)}`),y>0&&(_.push(`time: ${Number(F.time).toFixed(3)}s`),_.push(`curve: ${String(F.curve)}`));const j=160,T=16*_.length+8,k=x+8>t-j?x-j-8:x+8,$=Math.max(8,N-T/2);return m.jsxs("g",{transform:`translate(${k},${$})`,pointerEvents:"none",children:[m.jsx("rect",{x:0,y:0,width:j,height:T,rx:6,fill:"#ffffff",stroke:"#ddd"}),m.jsx("g",{transform:"translate(8,12)",fill:"#222",style:{fontSize:12},children:_.map((P,L)=>m.jsx("text",{x:0,y:L*16,children:P},L))})]})})():null,m.jsx("text",{x:Math.max(r,8),y:n-6,style:{fontSize:11,fill:"#666"},children:`duration: ${a.toFixed(3)}s`})]})}function M1(){const e="musiclab:envelope:points",[t,n]=X.useState(()=>{try{const f=localStorage.getItem(e);if(f){const l=JSON.parse(f);if(Array.isArray(l)&&l.length>0)return l.map(y=>({level:Number(y.level)||0,time:Number(y.time)||0,curve:Number(y.curve)||0}))}}catch{}return[{level:0,time:0,curve:0}]});X.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}},[t]);function r(f){n(l=>[...l,f])}function i(f){f!==0&&n(l=>l.filter((w,y)=>y!==f))}function u(f){f<=1||n(l=>{const w=l.slice(),y=f-1,x=w[y];return w[y]=w[f],w[f]=x,w})}function o(f){n(l=>{if(f>=l.length-1)return l;const w=l.slice(),y=f+1,x=w[y];return w[y]=w[f],w[f]=x,w})}const s={hold:-99,linear:0,exponential:1,logarithmic:-1,sine:.5,squared:2,cubed:3,welch:4},[a,h]=X.useState({level:1,time:.1,curve:"linear",customCurve:0}),[p,v]=X.useState(!1),[g,E]=X.useState(""),[C,d]=X.useState("");function D(){try{const f=localStorage.getItem(e);if(f)try{E(JSON.stringify(JSON.parse(f),null,2))}catch{E(f)}else E(JSON.stringify(t,null,2))}catch{E(JSON.stringify(t,null,2))}d(""),v(!0)}function c(){d("");let f;try{f=JSON.parse(g)}catch{d("Invalid JSON. Please fix and try again.");return}if(!Array.isArray(f)){d("JSON must be an array of points: [{ level, time, curve }, ...]");return}let l=f.map(w=>({level:Number(w==null?void 0:w.level)||0,time:Number(w==null?void 0:w.time)||0,curve:Number(w==null?void 0:w.curve)||0}));l.length===0&&(l=[{level:0,time:0,curve:0}]),l[0]={level:Number(l[0].level)||0,time:0,curve:0};try{localStorage.setItem(e,JSON.stringify(l))}catch{}n(l),v(!1)}return m.jsxs("section",{className:"tool-panel",children:[m.jsxs("div",{className:"level",children:[m.jsx("div",{className:"level-left",children:m.jsx("h2",{className:"title is-3",children:"Envelope"})}),m.jsx("div",{className:"level-right",children:m.jsx("div",{className:"level-item",children:m.jsxs("button",{type:"button",className:"button is-small",onClick:D,disabled:t.length<=1,title:t.length<=1?"Add at least one point to enable":"Export/Import from localStorage",children:[m.jsx("span",{className:"icon is-small",style:{marginRight:6},children:m.jsx("i",{className:"fas fa-database","aria-hidden":"true"})}),m.jsx("span",{children:"Export / Import"})]})})})]}),m.jsxs("div",{className:"content",children:[m.jsx("div",{className:"box",style:{minHeight:240,display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{style:{textAlign:"center",color:"#7a7a7a"},children:[m.jsx("div",{style:{fontSize:14,marginBottom:8},children:"Envelope curve preview"}),m.jsx("div",{style:{width:520,height:180,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",background:"#fafafa"},children:m.jsx(_1,{points:t,width:520,height:180})})]})}),m.jsxs("div",{className:"box",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"title is-6",style:{margin:0},children:"Envelope points"}),m.jsx("p",{className:"help",style:{marginTop:"0.25rem"},children:"Add points that define the envelope. The first point starts at time 0; its time and curve are fixed at 0."})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end",marginTop:"0.5rem"},children:[m.jsxs("div",{style:{flex:"0 0 160px"},children:[m.jsx("label",{className:"label is-small",children:"Start level"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",step:"0.01",value:String(t[0].level),onChange:f=>{const l=Number(f.target.value);n(w=>{const y=w.slice();return y[0]={...y[0],level:Number.isFinite(l)?l:0},y})}})})]}),m.jsxs("div",{style:{flex:"0 0 160px"},children:[m.jsx("label",{className:"label is-small",children:"Time (s)"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",value:0,disabled:!0})})]}),m.jsxs("div",{style:{flex:"0 0 160px"},children:[m.jsx("label",{className:"label is-small",children:"Curve"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",value:0,disabled:!0})})]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end",marginTop:"0.75rem"},children:[m.jsxs("div",{style:{flex:"0 0 160px"},children:[m.jsx("label",{className:"label is-small",children:"Level"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",step:"0.01",value:String(a.level),onChange:f=>h(l=>({...l,level:Number(f.target.value)}))})})]}),m.jsxs("div",{style:{flex:"0 0 160px"},children:[m.jsx("label",{className:"label is-small",children:"Time (s)"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",step:"0.01",value:String(a.time),onChange:f=>h(l=>({...l,time:Number(f.target.value)}))})})]}),m.jsxs("div",{style:{flex:"0 0 240px"},children:[m.jsx("label",{className:"label is-small",children:"Curve"}),m.jsxs("div",{className:"control",style:{display:"flex",gap:"0.5rem"},children:[m.jsx("div",{style:{flex:"1 1 auto"},children:m.jsx("div",{className:"select is-small is-fullwidth",children:m.jsxs("select",{value:String(a.curve),onChange:f=>h(l=>({...l,curve:f.target.value})),children:[Object.keys(s).map(f=>m.jsxs("option",{value:f,children:[f," (",String(s[f]),")"]},f)),m.jsx("option",{value:"custom",children:"custom"})]})})}),a.curve==="custom"?m.jsx("div",{style:{width:90},children:m.jsx("input",{className:"input is-small",type:"number",step:"0.01",value:String(a.customCurve),onChange:f=>h(l=>({...l,customCurve:Number(f.target.value)})),title:"Enter a numeric curve value for SuperCollider exports"})}):null]})]}),m.jsx("div",{style:{marginLeft:"auto"},children:m.jsx("button",{className:"button is-small is-primary",onClick:()=>{const f=Number(a.level),l=Number(a.time);if(!Number.isFinite(f)){window.alert("Level must be a number");return}if(!Number.isFinite(l)||l<0){window.alert("Time must be a non-negative number");return}let w;a.curve==="custom"?w=Number(a.customCurve):a.curve&&Object.prototype.hasOwnProperty.call(s,a.curve)?w=s[a.curve]:w=Number(a.curve),Number.isFinite(w)||(w=0),r({level:f,time:l,curve:w})},children:"Add point"})})]}),m.jsx("div",{style:{marginTop:"1rem"},children:t.length===0?m.jsx("p",{className:"has-text-grey",children:"No points yet."}):m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Index"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Level"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Time"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Curve"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"}})]})}),m.jsx("tbody",{children:t.map((f,l)=>m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"0.25rem"},children:l}),m.jsx("td",{style:{padding:"0.25rem"},children:String(f.level)}),m.jsx("td",{style:{padding:"0.25rem"},children:String(f.time)}),m.jsx("td",{style:{padding:"0.25rem"},children:(()=>{const w=Object.keys(s).find(y=>s[y]===f.curve);return w?`${w} (${String(f.curve)})`:String(f.curve)})()}),m.jsx("td",{style:{padding:"0.25rem"},children:l===0?null:m.jsxs("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[m.jsx("button",{className:"button is-small","aria-label":`Move point ${l} up`,title:"Move up",type:"button",onClick:()=>u(l),disabled:l<=1,children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-arrow-up","aria-hidden":"true"})})}),m.jsx("button",{className:"button is-small","aria-label":`Move point ${l} down`,title:"Move down",type:"button",onClick:()=>o(l),disabled:l===t.length-1,children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-arrow-down","aria-hidden":"true"})})}),m.jsx("button",{className:"button is-small is-danger",onClick:()=>i(l),"aria-label":`Remove point ${l}`,title:"Remove point",type:"button",children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-trash-alt","aria-hidden":"true"})})})]})})]},l))})]})}),m.jsxs("div",{style:{marginTop:"1rem"},children:[m.jsx("h4",{className:"title is-6",children:"Derived arrays (SuperCollider)"}),m.jsx("p",{className:"help",children:"These arrays are generated from the points above: levels, times (durations between points), and curves (per-segment)."}),m.jsx("div",{style:{marginTop:"0.5rem",fontFamily:"monospace",background:"#fafafa",padding:"0.75rem",borderRadius:6,border:"1px solid #eee"},children:(()=>{const f=t.map(N=>Number(N.level)),l=t.slice(1).map(N=>Number(N.time)),w=t.slice(1).map(N=>Number(N.curve)),y=l.reduce((N,F)=>N+(Number.isFinite(F)?F:0),0),x=Number(y.toFixed(3));return m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("strong",{children:"levels"})," = ",JSON.stringify(f)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"times"})," = ",JSON.stringify(l)," ",m.jsxs("span",{style:{color:"#7a7a7a"},children:["// ",x,"s total"]})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"curves"})," = ",JSON.stringify(w)]})]})})()})]})]})]}),m.jsxs("div",{className:`modal ${p?"is-active":""}`,role:"dialog","aria-modal":p,children:[m.jsx("div",{className:"modal-background",onClick:()=>v(!1)}),m.jsxs("div",{className:"modal-card",style:{maxWidth:"900px",width:"min(900px, 96vw)"},children:[m.jsxs("header",{className:"modal-card-head",children:[m.jsx("p",{className:"modal-card-title",children:"Envelope storage (local)"}),m.jsx("button",{className:"delete","aria-label":"close",onClick:()=>v(!1)})]}),m.jsx("section",{className:"modal-card-body",children:m.jsxs("div",{className:"content",children:[m.jsxs("p",{className:"help",children:["JSON stored under ",m.jsx("code",{children:e}),". Edit, paste, or copy it here. Save will replace the stored value and update the editor."]}),m.jsx("textarea",{className:"textarea",rows:14,style:{fontFamily:"monospace"},value:g,onChange:f=>E(f.target.value)}),C?m.jsx("p",{className:"has-text-danger",style:{marginTop:"0.5rem"},children:C}):null]})}),m.jsxs("footer",{className:"modal-card-foot",style:{justifyContent:"flex-end"},children:[m.jsx("button",{className:"button",onClick:()=>v(!1),children:"Cancel"}),m.jsx("button",{className:"button is-primary",onClick:c,children:"Save"})]})]})]})]})}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(null,arguments)}var T0={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Me(e){return typeof e=="number"}function Je(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function b0(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function O0(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function I0(e){return e&&e.constructor.prototype.isUnit===!0||!1}function en(e){return typeof e=="string"}var be=Array.isArray;function at(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function fo(e){return Array.isArray(e)||at(e)}function B1(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function j1(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function k1(e){return e&&e.constructor.prototype.isRange===!0||!1}function wl(e){return e&&e.constructor.prototype.isIndex===!0||!1}function T1(e){return typeof e=="boolean"}function b1(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function O1(e){return e&&e.constructor.prototype.isHelp===!0||!1}function I1(e){return typeof e=="function"}function z1(e){return e instanceof Date}function P1(e){return e instanceof RegExp}function xl(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!b0(e)&&!O0(e))}function $1(e){return e===null}function R1(e){return e===void 0}function L1(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function U1(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function V1(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function W1(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function H1(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function q1(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Q1(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function G1(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function K1(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Z1(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Y1(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function J1(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function X1(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ev(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function tv(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function nv(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function rv(e){return e&&e.constructor.prototype.isChain===!0||!1}function _i(e){var t=typeof e;return t==="object"?e===null?"null":Je(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Qe(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Qe(n)});if(e instanceof Date)return new Date(e.valueOf());if(Je(e))return e;if(xl(e))return iv(e,Qe);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function iv(e,t){var n={};for(var r in e)qi(e,r)&&(n[r]=t(e[r]));return n}function uv(e,t){for(var n in t)qi(t,n)&&(e[n]=t[n]);return e}function Hr(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Hr(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Hr(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function qi(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ov(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],u=e[i];u!==void 0&&(n[i]=u)}return n}var sv=["Matrix","Array"],av=["number","BigNumber","Fraction"],eu=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(T0)};co(eu,T0,{MATRIX_OPTIONS:sv,NUMBER_OPTIONS:av});function $c(){return!0}function kt(){return!1}function pr(){}const Rc="Argument is not a typed-function.";function z0(){function e(M){return typeof M=="object"&&M!==null&&M.constructor===Object}const t=[{name:"number",test:function(M){return typeof M=="number"}},{name:"string",test:function(M){return typeof M=="string"}},{name:"boolean",test:function(M){return typeof M=="boolean"}},{name:"Function",test:function(M){return typeof M=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(M){return M instanceof Date}},{name:"RegExp",test:function(M){return M instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(M){return M===null}},{name:"undefined",test:function(M){return M===void 0}}],n={name:"any",test:$c,isAny:!0};let r,i,u=0,o={createCount:0};function s(M){const b=r.get(M);if(b)return b;let R='Unknown type "'+M+'"';const H=M.toLowerCase();let Y;for(Y of i)if(Y.toLowerCase()===H){R+='. Did you mean "'+Y+'" ?';break}throw new TypeError(R)}function a(M){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const R=b?s(b).index:i.length,H=[];for(let K=0;K<M.length;++K){if(!M[K]||typeof M[K].name!="string"||typeof M[K].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ee=M[K].name;if(r.has(ee))throw new TypeError('Duplicate type name "'+ee+'"');H.push(ee),r.set(ee,{name:ee,test:M[K].test,isAny:M[K].isAny,index:R+K,conversionsTo:[]})}const Y=i.slice(R);i=i.slice(0,R).concat(H).concat(Y);for(let K=R+H.length;K<i.length;++K)r.get(i[K]).index=K}function h(){r=new Map,i=[],u=0,a([n],!1)}h(),a(t);function p(){let M;for(M of i)r.get(M).conversionsTo=[];u=0}function v(M){const b=i.filter(R=>{const H=r.get(R);return!H.isAny&&H.test(M)});return b.length?b:["any"]}function g(M){return M&&typeof M=="function"&&"_typedFunctionData"in M}function E(M,b,R){if(!g(M))throw new TypeError(Rc);const H=R&&R.exact,Y=Array.isArray(b)?b.join(","):b,K=w(Y),ee=D(K);if(!H||ee in M.signatures){const G=M._typedFunctionData.signatureMap.get(ee);if(G)return G}const A=K.length;let S;if(H){S=[];let G;for(G in M.signatures)S.push(M._typedFunctionData.signatureMap.get(G))}else S=M._typedFunctionData.signatures;for(let G=0;G<A;++G){const V=K[G],te=[];let O;for(O of S){const re=F(O.params,G);if(!(!re||V.restParam&&!re.restParam)){if(!re.hasAny){const ae=l(re);if(V.types.some(fe=>!ae.has(fe.name)))continue}te.push(O)}}if(S=te,S.length===0)break}let z;for(z of S)if(z.params.length<=A)return z;throw new TypeError("Signature not found (signature: "+(M.name||"unnamed")+"("+D(K,", ")+"))")}function C(M,b,R){return E(M,b,R).implementation}function d(M,b){const R=s(b);if(R.test(M))return M;const H=R.conversionsTo;if(H.length===0)throw new Error("There are no conversions to "+b+" defined.");for(let Y=0;Y<H.length;Y++)if(s(H[Y].from).test(M))return H[Y].convert(M);throw new Error("Cannot convert "+M+" to "+b)}function D(M){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return M.map(R=>R.name).join(b)}function c(M){const b=M.indexOf("...")===0,H=(b?M.length>3?M.slice(3):"any":M).split("|").map(A=>s(A.trim()));let Y=!1,K=b?"...":"";return{types:H.map(function(A){return Y=A.isAny||Y,K+=A.name+"|",{name:A.name,typeIndex:A.index,test:A.test,isAny:A.isAny,conversion:null,conversionIndex:-1}}),name:K.slice(0,-1),hasAny:Y,hasConversion:!1,restParam:b}}function f(M){const b=M.types.map(ee=>ee.name),R=q(b);let H=M.hasAny,Y=M.name;const K=R.map(function(ee){const A=s(ee.from);return H=A.isAny||H,Y+="|"+ee.from,{name:ee.from,typeIndex:A.index,test:A.test,isAny:A.isAny,conversion:ee,conversionIndex:ee.index}});return{types:M.types.concat(K),name:Y,hasAny:H,hasConversion:K.length>0,restParam:M.restParam}}function l(M){return M.typeSet||(M.typeSet=new Set,M.types.forEach(b=>M.typeSet.add(b.name))),M.typeSet}function w(M){const b=[];if(typeof M!="string")throw new TypeError("Signatures must be strings");const R=M.trim();if(R==="")return b;const H=R.split(",");for(let Y=0;Y<H.length;++Y){const K=c(H[Y].trim());if(K.restParam&&Y!==H.length-1)throw new SyntaxError('Unexpected rest parameter "'+H[Y]+'": only allowed for the last parameter');if(K.types.length===0)return null;b.push(K)}return b}function y(M){const b=we(M);return b?b.restParam:!1}function x(M){if(!M||M.types.length===0)return $c;if(M.types.length===1)return s(M.types[0].name).test;if(M.types.length===2){const b=s(M.types[0].name).test,R=s(M.types[1].name).test;return function(Y){return b(Y)||R(Y)}}else{const b=M.types.map(function(R){return s(R.name).test});return function(H){for(let Y=0;Y<b.length;Y++)if(b[Y](H))return!0;return!1}}}function N(M){let b,R,H;if(y(M)){b=Re(M).map(x);const Y=b.length,K=x(we(M)),ee=function(A){for(let S=Y;S<A.length;S++)if(!K(A[S]))return!1;return!0};return function(S){for(let z=0;z<b.length;z++)if(!b[z](S[z]))return!1;return ee(S)&&S.length>=Y+1}}else return M.length===0?function(K){return K.length===0}:M.length===1?(R=x(M[0]),function(K){return R(K[0])&&K.length===1}):M.length===2?(R=x(M[0]),H=x(M[1]),function(K){return R(K[0])&&H(K[1])&&K.length===2}):(b=M.map(x),function(K){for(let ee=0;ee<b.length;ee++)if(!b[ee](K[ee]))return!1;return K.length===b.length})}function F(M,b){return b<M.length?M[b]:y(M)?we(M):null}function _(M,b){const R=F(M,b);return R?l(R):new Set}function j(M){return M.conversion===null||M.conversion===void 0}function T(M,b){const R=new Set;return M.forEach(H=>{const Y=_(H.params,b);let K;for(K of Y)R.add(K)}),R.has("any")?["any"]:Array.from(R)}function k(M,b,R){let H,Y;const K=M||"unnamed";let ee=R,A;for(A=0;A<b.length;A++){const V=[];if(ee.forEach(te=>{const O=F(te.params,A),re=x(O);(A<te.params.length||y(te.params))&&re(b[A])&&V.push(te)}),V.length===0){if(Y=T(ee,A),Y.length>0){const te=v(b[A]);return H=new TypeError("Unexpected type of argument in function "+K+" (expected: "+Y.join(" or ")+", actual: "+te.join(" | ")+", index: "+A+")"),H.data={category:"wrongType",fn:K,index:A,actual:te,expected:Y},H}}else ee=V}const S=ee.map(function(V){return y(V.params)?1/0:V.params.length});if(b.length<Math.min.apply(null,S))return Y=T(ee,A),H=new TypeError("Too few arguments in function "+K+" (expected: "+Y.join(" or ")+", index: "+b.length+")"),H.data={category:"tooFewArgs",fn:K,index:b.length,expected:Y},H;const z=Math.max.apply(null,S);if(b.length>z)return H=new TypeError("Too many arguments in function "+K+" (expected: "+z+", actual: "+b.length+")"),H.data={category:"tooManyArgs",fn:K,index:b.length,expectedLength:z},H;const G=[];for(let V=0;V<b.length;++V)G.push(v(b[V]).join("|"));return H=new TypeError('Arguments of type "'+G.join(", ")+'" do not match any of the defined signatures of function '+K+"."),H.data={category:"mismatch",actual:G},H}function $(M){let b=i.length+1;for(let R=0;R<M.types.length;R++)j(M.types[R])&&(b=Math.min(b,M.types[R].typeIndex));return b}function P(M){let b=u+1;for(let R=0;R<M.types.length;R++)j(M.types[R])||(b=Math.min(b,M.types[R].conversionIndex));return b}function L(M,b){if(M.hasAny){if(!b.hasAny)return 1}else if(b.hasAny)return-1;if(M.restParam){if(!b.restParam)return 1}else if(b.restParam)return-1;if(M.hasConversion){if(!b.hasConversion)return 1}else if(b.hasConversion)return-1;const R=$(M)-$(b);if(R<0)return-1;if(R>0)return 1;const H=P(M)-P(b);return H<0?-1:H>0?1:0}function B(M,b){const R=M.params,H=b.params,Y=we(R),K=we(H),ee=y(R),A=y(H);if(ee&&Y.hasAny){if(!A||!K.hasAny)return 1}else if(A&&K.hasAny)return-1;let S=0,z=0,G;for(G of R)G.hasAny&&++S,G.hasConversion&&++z;let V=0,te=0;for(G of H)G.hasAny&&++V,G.hasConversion&&++te;if(S!==V)return S-V;if(ee&&Y.hasConversion){if(!A||!K.hasConversion)return 1}else if(A&&K.hasConversion)return-1;if(z!==te)return z-te;if(ee){if(!A)return 1}else if(A)return-1;const O=(R.length-H.length)*(ee?-1:1);if(O!==0)return O;const re=[];let ae=0;for(let Ae=0;Ae<R.length;++Ae){const _e=L(R[Ae],H[Ae]);re.push(_e),ae+=_e}if(ae!==0)return ae;let fe;for(fe of re)if(fe!==0)return fe;return 0}function q(M){if(M.length===0)return[];const b=M.map(s);M.length>1&&b.sort((Y,K)=>Y.index-K.index);let R=b[0].conversionsTo;if(M.length===1)return R;R=R.concat([]);const H=new Set(M);for(let Y=1;Y<b.length;++Y){let K;for(K of b[Y].conversionsTo)H.has(K.from)||(R.push(K),H.add(K.from))}return R}function I(M,b){let R=b;if(M.some(Y=>Y.hasConversion)){const Y=y(M),K=M.map(Q);R=function(){const A=[],S=Y?arguments.length-1:arguments.length;for(let z=0;z<S;z++)A[z]=K[z](arguments[z]);return Y&&(A[S]=arguments[S].map(K[S])),b.apply(this,A)}}let H=R;if(y(M)){const Y=M.length-1;H=function(){return R.apply(this,xe(arguments,0,Y).concat([xe(arguments,Y)]))}}return H}function Q(M){let b,R,H,Y;const K=[],ee=[];switch(M.types.forEach(function(A){A.conversion&&(K.push(s(A.conversion.from).test),ee.push(A.conversion.convert))}),ee.length){case 0:return function(S){return S};case 1:return b=K[0],H=ee[0],function(S){return b(S)?H(S):S};case 2:return b=K[0],R=K[1],H=ee[0],Y=ee[1],function(S){return b(S)?H(S):R(S)?Y(S):S};default:return function(S){for(let z=0;z<ee.length;z++)if(K[z](S))return ee[z](S);return S}}}function U(M){function b(R,H,Y){if(H<R.length){const K=R[H];let ee=[];if(K.restParam){const A=K.types.filter(j);A.length<K.types.length&&ee.push({types:A,name:"..."+A.map(S=>S.name).join("|"),hasAny:A.some(S=>S.isAny),hasConversion:!1,restParam:!0}),ee.push(K)}else ee=K.types.map(function(A){return{types:[A],name:A.name,hasAny:A.isAny,hasConversion:A.conversion,restParam:!1}});return de(ee,function(A){return b(R,H+1,Y.concat([A]))})}else return[Y]}return b(M,0,[])}function ne(M,b){const R=Math.max(M.length,b.length);for(let A=0;A<R;A++){const S=_(M,A),z=_(b,A);let G=!1,V;for(V of z)if(S.has(V)){G=!0;break}if(!G)return!1}const H=M.length,Y=b.length,K=y(M),ee=y(b);return K?ee?H===Y:Y>=H:ee?H>=Y:H===Y}function ue(M){return M.map(b=>Ut(b)?gt(b.referToSelf.callback):Lt(b)?Ue(b.referTo.references,b.referTo.callback):b)}function le(M,b,R){const H=[];let Y;for(Y of M){let K=R[Y];if(typeof K!="number")throw new TypeError('No definition for referenced signature "'+Y+'"');if(K=b[K],typeof K!="function")return!1;H.push(K)}return H}function me(M,b,R){const H=ue(M),Y=new Array(H.length).fill(!1);let K=!0;for(;K;){K=!1;let ee=!0;for(let A=0;A<H.length;++A){if(Y[A])continue;const S=H[A];if(Ut(S))H[A]=S.referToSelf.callback(R),H[A].referToSelf=S.referToSelf,Y[A]=!0,ee=!1;else if(Lt(S)){const z=le(S.referTo.references,H,b);z?(H[A]=S.referTo.callback.apply(this,z),H[A].referTo=S.referTo,Y[A]=!0,ee=!1):K=!0}}if(ee&&K)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return H}function Ee(M){const b=/\bthis(\(|\.signatures\b)/;Object.keys(M).forEach(R=>{const H=M[R];if(b.test(H.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ve(M,b){if(o.createCount++,Object.keys(b).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Ee(b);const R=[],H=[],Y={},K=[];let ee;for(ee in b){if(!Object.prototype.hasOwnProperty.call(b,ee))continue;const Ce=w(ee);if(!Ce)continue;R.forEach(function(ui){if(ne(ui,Ce))throw new TypeError('Conflicting signatures "'+D(ui)+'" and "'+D(Ce)+'".')}),R.push(Ce);const yt=H.length;H.push(b[ee]);const Wh=Ce.map(f);let ou;for(ou of U(Wh)){const ui=D(ou);K.push({params:ou,name:ui,fn:yt}),ou.every(Hh=>!Hh.hasConversion)&&(Y[ui]=yt)}}K.sort(B);const A=me(H,Y,ii);let S;for(S in Y)Object.prototype.hasOwnProperty.call(Y,S)&&(Y[S]=A[Y[S]]);const z=[],G=new Map;for(S of K)G.has(S.name)||(S.fn=A[S.fn],z.push(S),G.set(S.name,S));const V=z[0]&&z[0].params.length<=2&&!y(z[0].params),te=z[1]&&z[1].params.length<=2&&!y(z[1].params),O=z[2]&&z[2].params.length<=2&&!y(z[2].params),re=z[3]&&z[3].params.length<=2&&!y(z[3].params),ae=z[4]&&z[4].params.length<=2&&!y(z[4].params),fe=z[5]&&z[5].params.length<=2&&!y(z[5].params),Ae=V&&te&&O&&re&&ae&&fe;for(let Ce=0;Ce<z.length;++Ce)z[Ce].test=N(z[Ce].params);const _e=V?x(z[0].params[0]):kt,ft=te?x(z[1].params[0]):kt,uu=O?x(z[2].params[0]):kt,Xr=re?x(z[3].params[0]):kt,ei=ae?x(z[4].params[0]):kt,ti=fe?x(z[5].params[0]):kt,ni=V?x(z[0].params[1]):kt,ri=te?x(z[1].params[1]):kt,Uo=O?x(z[2].params[1]):kt,xn=re?x(z[3].params[1]):kt,fr=ae?x(z[4].params[1]):kt,Qn=fe?x(z[5].params[1]):kt;for(let Ce=0;Ce<z.length;++Ce)z[Ce].implementation=I(z[Ce].params,z[Ce].fn);const Vo=V?z[0].implementation:pr,Wo=te?z[1].implementation:pr,Mh=O?z[2].implementation:pr,Bh=re?z[3].implementation:pr,jh=ae?z[4].implementation:pr,kh=fe?z[5].implementation:pr,Th=V?z[0].params.length:-1,bh=te?z[1].params.length:-1,Oh=O?z[2].params.length:-1,Ih=re?z[3].params.length:-1,zh=ae?z[4].params.length:-1,Ph=fe?z[5].params.length:-1,$h=Ae?6:0,Rh=z.length,Lh=z.map(Ce=>Ce.test),Uh=z.map(Ce=>Ce.implementation),Vh=function(){for(let yt=$h;yt<Rh;yt++)if(Lh[yt](arguments))return Uh[yt].apply(this,arguments);return o.onMismatch(M,arguments,z)};function ii(Ce,yt){return arguments.length===Th&&_e(Ce)&&ni(yt)?Vo.apply(this,arguments):arguments.length===bh&&ft(Ce)&&ri(yt)?Wo.apply(this,arguments):arguments.length===Oh&&uu(Ce)&&Uo(yt)?Mh.apply(this,arguments):arguments.length===Ih&&Xr(Ce)&&xn(yt)?Bh.apply(this,arguments):arguments.length===zh&&ei(Ce)&&fr(yt)?jh.apply(this,arguments):arguments.length===Ph&&ti(Ce)&&Qn(yt)?kh.apply(this,arguments):Vh.apply(this,arguments)}try{Object.defineProperty(ii,"name",{value:M})}catch{}return ii.signatures=Y,ii._typedFunctionData={signatures:z,signatureMap:G},ii}function ge(M,b,R){throw k(M,b,R)}function Re(M){return xe(M,0,M.length-1)}function we(M){return M[M.length-1]}function xe(M,b,R){return Array.prototype.slice.call(M,b,R)}function rt(M,b){for(let R=0;R<M.length;R++)if(b(M[R]))return M[R]}function de(M,b){return Array.prototype.concat.apply([],M.map(b))}function ye(){const M=Re(arguments).map(R=>D(w(R))),b=we(arguments);if(typeof b!="function")throw new TypeError("Callback function expected as last argument");return Ue(M,b)}function Ue(M,b){return{referTo:{references:M,callback:b}}}function gt(M){if(typeof M!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:M}}}function Lt(M){return M&&typeof M.referTo=="object"&&Array.isArray(M.referTo.references)&&typeof M.referTo.callback=="function"}function Ut(M){return M&&typeof M.referToSelf=="object"&&typeof M.referToSelf.callback=="function"}function Dn(M,b){if(!M)return b;if(b&&b!==M){const R=new Error("Function names do not match (expected: "+M+", actual: "+b+")");throw R.data={actual:b,expected:M},R}return M}function wn(M){let b;for(const R in M)Object.prototype.hasOwnProperty.call(M,R)&&(g(M[R])||typeof M[R].signature=="string")&&(b=Dn(b,M[R].name));return b}function Jr(M,b){let R;for(R in b)if(Object.prototype.hasOwnProperty.call(b,R)){if(R in M&&b[R]!==M[R]){const H=new Error('Signature "'+R+'" is defined twice');throw H.data={signature:R,sourceFunction:b[R],destFunction:M[R]},H}M[R]=b[R]}}const Lo=o;o=function(M){const b=typeof M=="string",R=b?1:0;let H=b?M:"";const Y={};for(let K=R;K<arguments.length;++K){const ee=arguments[K];let A={},S;if(typeof ee=="function"?(S=ee.name,typeof ee.signature=="string"?A[ee.signature]=ee:g(ee)&&(A=ee.signatures)):e(ee)&&(A=ee,b||(S=wn(ee))),Object.keys(A).length===0){const z=new TypeError("Argument to 'typed' at index "+K+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:K,argument:ee},z}b||(H=Dn(H,S)),Jr(Y,A)}return ve(H||"",Y)},o.create=z0,o.createCount=Lo.createCount,o.onMismatch=ge,o.throwMismatchError=ge,o.createError=k,o.clear=h,o.clearConversions=p,o.addTypes=a,o._findType=s,o.referTo=ye,o.referToSelf=gt,o.convert=d,o.findSignature=E,o.find=C,o.isTypedFunction=g,o.warnAgainstDeprecatedThis=!0,o.addType=function(M,b){let R="any";b!==!1&&r.has("Object")&&(R="Object"),o.addTypes([M],R)};function iu(M){if(!M||typeof M.from!="string"||typeof M.to!="string"||typeof M.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(M.to===M.from)throw new SyntaxError('Illegal to define conversion from "'+M.from+'" to itself.')}return o.addConversion=function(M){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};iu(M);const R=s(M.to),H=R.conversionsTo.find(Y=>Y.from===M.from);if(H)if(b&&b.override)o.removeConversion({from:H.from,to:M.to,convert:H.convert});else throw new Error('There is already a conversion from "'+M.from+'" to "'+R.name+'"');R.conversionsTo.push({from:M.from,convert:M.convert,index:u++})},o.addConversions=function(M,b){M.forEach(R=>o.addConversion(R,b))},o.removeConversion=function(M){iu(M);const b=s(M.to),R=rt(b.conversionsTo,Y=>Y.from===M.from);if(!R)throw new Error("Attempt to remove nonexistent conversion from "+M.from+" to "+M.to);if(R.convert!==M.convert)throw new Error("Conversion to remove does not match existing conversion");const H=b.conversionsTo.indexOf(R);b.conversionsTo.splice(H,1)},o.resolve=function(M,b){if(!g(M))throw new TypeError(Rc);const R=M._typedFunctionData.signatures;for(let H=0;H<R.length;++H)if(R[H].test(b))return R[H];return null},o}const Lc=z0();function Ke(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function gs(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ke(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Ke(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),u="i".concat(n)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(u)}function Da(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=P0(t);switch(n){case"fixed":return cv(e,r);case"exponential":return $0(e,r);case"engineering":return lv(e,r);case"bin":return gs(e,2,i);case"oct":return gs(e,8,i);case"hex":return gs(e,16,i);case"auto":return fv(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function P0(e){var t="auto",n,r;if(e!==void 0)if(Me(e))n=e;else if(Je(e))n=e.toNumber();else if(xl(e))e.precision!==void 0&&(n=Uc(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(r=Uc(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:r}}function Io(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function lv(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Io(e),r=zo(n,t),i=r.exponent,u=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Me(t))for(;t>u.length||i-o+1>u.length;)u.push(0);else for(var s=Math.abs(i-o)-(u.length-1),a=0;a<s;a++)u.push(0);for(var h=Math.abs(i-o),p=1;h>0;)p++,h--;var v=u.slice(p).join(""),g=Me(t)&&v.length||v.match(/[1-9]/)?"."+v:"",E=u.slice(0,p).join("")+g+"e"+(i>=0?"+":"")+o.toString();return r.sign+E}function cv(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Io(e),r=typeof t=="number"?zo(n,n.exponent+1+t):n,i=r.coefficients,u=r.exponent+1,o=u+(t||0);return i.length<o&&(i=i.concat(zr(o-i.length))),u<0&&(i=zr(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function $0(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Io(e),r=t?zo(n,t):n,i=r.coefficients,u=r.exponent;i.length<t&&(i=i.concat(zr(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function fv(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=Vc(n==null?void 0:n.lowerExp,-3),i=Vc(n==null?void 0:n.upperExp,5),u=Io(e),o=t?zo(u,t):u;if(o.exponent<r||o.exponent>=i)return $0(e,t);var s=o.coefficients,a=o.exponent;s.length<t&&(s=s.concat(zr(t-s.length))),s=s.concat(zr(a-s.length+1+(s.length<t?t-s.length:0))),s=zr(-a).concat(s);var h=a>0?a:0;return h<s.length-1&&s.splice(h+1,0,"."),o.sign+s.join("")}function zo(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var u=t-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function zr(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function dv(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var hv=Number.EPSILON||2220446049250313e-31;function Qi(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=hv?!0:r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function Uc(e,t){if(Me(e))return e;if(Je(e))return e.toNumber();t()}function Vc(e,t){return Me(e)?e:Je(e)?e.toNumber():t}function pe(e,t,n,r){function i(u){var o=ov(u,t.map(vv));return pv(e,t,u),n(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function pv(e,t,n){var r=t.filter(u=>!mv(u)).every(u=>n[u]!==void 0);if(!r){var i=t.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function mv(e){return e&&e[0]==="?"}function vv(e){return e&&e[0]==="?"?e.slice(1):e}function gv(e,t){if(L0(e)&&R0(e,t))return e[t];throw typeof e[t]=="function"&&wv(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function yv(e,t,n){if(L0(e)&&R0(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Dv(e,t){return t in e}function R0(e,t){return!e||typeof e!="object"?!1:qi(xv,t)?!0:!(t in Object.prototype||t in Function.prototype)}function wv(e,t){return e==null||typeof e[t]!="function"||qi(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:qi(Ev,t)?!0:!(t in Object.prototype||t in Function.prototype)}function L0(e){return typeof e=="object"&&e&&e.constructor===Object}var xv={length:!0,name:!0},Ev={toString:!0,valueOf:!0,toLocaleString:!0};class Nv{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return gv(this.wrappedObject,t)}set(t,n){return yv(this.wrappedObject,t,n),this}has(t){return Dv(this.wrappedObject,t)}entries(){return Cv(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Cv(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function Fv(e){return e?e instanceof Map||e instanceof Nv||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var U0=function(){return U0=Lc.create,Lc},Av=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Sv=pe("typed",Av,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=t,o=U0();return o.clear(),o.addTypes([{name:"number",test:Me},{name:"Complex",test:b0},{name:"BigNumber",test:Je},{name:"Fraction",test:O0},{name:"Unit",test:I0},{name:"identifier",test:s=>en&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:en},{name:"Chain",test:rv},{name:"Array",test:be},{name:"Matrix",test:at},{name:"DenseMatrix",test:B1},{name:"SparseMatrix",test:j1},{name:"Range",test:k1},{name:"Index",test:wl},{name:"boolean",test:T1},{name:"ResultSet",test:b1},{name:"Help",test:O1},{name:"function",test:I1},{name:"Date",test:z1},{name:"RegExp",test:P1},{name:"null",test:$1},{name:"undefined",test:R1},{name:"AccessorNode",test:L1},{name:"ArrayNode",test:U1},{name:"AssignmentNode",test:V1},{name:"BlockNode",test:W1},{name:"ConditionalNode",test:H1},{name:"ConstantNode",test:q1},{name:"FunctionNode",test:G1},{name:"FunctionAssignmentNode",test:Q1},{name:"IndexNode",test:K1},{name:"Node",test:Z1},{name:"ObjectNode",test:Y1},{name:"OperatorNode",test:J1},{name:"ParenthesisNode",test:X1},{name:"RangeNode",test:ev},{name:"RelationalNode",test:tv},{name:"SymbolNode",test:nv},{name:"Map",test:Fv},{name:"Object",test:xl}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(a){if(n||ys(a),dv(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new n(a)}},{from:"number",to:"Complex",convert:function(a){return r||Cu(a),new r(a,0)}},{from:"BigNumber",to:"Complex",convert:function(a){return r||Cu(a),new r(a.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return r||Cu(a),new r(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){u||Ds(a);var h=new u(a);if(h.valueOf()!==a)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+a+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(a){var h=Number(a);if(isNaN(h))throw new Error('Cannot convert "'+a+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(a){n||ys(a);try{return new n(a)}catch{throw new Error('Cannot convert "'+a+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(a){u||Ds(a);try{return new u(a)}catch{throw new Error('Cannot convert "'+a+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(a){r||Cu(a);try{return new r(a)}catch{throw new Error('Cannot convert "'+a+'" to Complex')}}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return n||ys(a),new n(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return u||Ds(a),new u(+a)}},{from:"boolean",to:"string",convert:function(a){return String(a)}},{from:"Array",to:"Matrix",convert:function(a){return i||_v(),new i(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}]),o.onMismatch=(s,a,h)=>{var p=o.createError(s,a,h);if(["wrongType","mismatch"].includes(p.data.category)&&a.length===1&&fo(a[0])&&h.some(g=>!g.params.includes(","))){var v=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw v.data=p.data,v}throw p},o.onMismatch=(s,a,h)=>{var p=o.createError(s,a,h);if(["wrongType","mismatch"].includes(p.data.category)&&a.length===1&&fo(a[0])&&h.some(g=>!g.params.includes(","))){var v=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw v.data=p.data,v}throw p},o});function ys(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Cu(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function _v(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ds(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Mr=9e15,qn=1e9,wa="0123456789abcdef",ho="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",po="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",xa={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Mr,maxE:Mr,crypto:!1},V0,dn,ce=!0,Po="[DecimalError] ",Un=Po+"Invalid argument: ",W0=Po+"Precision limit exceeded",H0=Po+"crypto unavailable",q0="[object Decimal]",ct=Math.floor,He=Math.pow,Mv=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Bv=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,jv=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Q0=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kt=1e7,se=7,kv=9007199254740991,Tv=ho.length-1,Ea=po.length-1,Z={toStringTag:q0};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),oe(e)};Z.ceil=function(){return oe(new this.constructor(this),this.e+1,2)};Z.clampedTo=Z.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Un+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};Z.comparedTo=Z.cmp=function(e){var t,n,r,i,u=this,o=u.d,s=(e=new u.constructor(e)).d,a=u.s,h=e.s;if(!o||!s)return!a||!h?NaN:a!==h?a:o===s?0:!o^a<0?1:-1;if(!o[0]||!s[0])return o[0]?a:s[0]?-h:0;if(a!==h)return a;if(u.e!==e.e)return u.e>e.e^a<0?1:-1;for(r=o.length,i=s.length,t=0,n=r<i?r:i;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^a<0?1:-1;return r===i?0:r>i^a<0?1:-1};Z.cosine=Z.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+se,r.rounding=1,n=bv(r,J0(r,n)),r.precision=e,r.rounding=t,oe(dn==2||dn==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};Z.cubeRoot=Z.cbrt=function(){var e,t,n,r,i,u,o,s,a,h,p=this,v=p.constructor;if(!p.isFinite()||p.isZero())return new v(p);for(ce=!1,u=p.s*He(p.s*p,1/3),!u||Math.abs(u)==1/0?(n=Xe(p.d),e=p.e,(u=(e-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=He(n,1/3),e=ct((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?n="5e"+e:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new v(n),r.s=p.s):r=new v(u.toString()),o=(e=v.precision)+3;;)if(s=r,a=s.times(s).times(s),h=a.plus(p),r=Se(h.plus(p).times(s),h.plus(a),o+2,1),Xe(s.d).slice(0,o)===(n=Xe(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(oe(s,e+1,0),s.times(s).times(s).eq(p))){r=s;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(oe(r,e+1,1),t=!r.times(r).times(r).eq(p));break}return ce=!0,oe(r,e,v.rounding,t)};Z.decimalPlaces=Z.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-ct(this.e/se))*se,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};Z.dividedBy=Z.div=function(e){return Se(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.divToInt=function(e){var t=this,n=t.constructor;return oe(Se(t,new n(e),0,1,1),n.precision,n.rounding)};Z.equals=Z.eq=function(e){return this.cmp(e)===0};Z.floor=function(){return oe(new this.constructor(this),this.e+1,3)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){var t=this.cmp(e);return t==1||t===0};Z.hyperbolicCosine=Z.cosh=function(){var e,t,n,r,i,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/Ro(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=qr(o,1,u.times(t),new o(1),!0);for(var a,h=e,p=new o(8);h--;)a=u.times(u),u=s.minus(a.times(p.minus(a.times(p))));return oe(u,o.precision=n,o.rounding=r,!0)};Z.hyperbolicSine=Z.sinh=function(){var e,t,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,n=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=qr(u,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/Ro(5,e)),i=qr(u,2,i,i,!0);for(var o,s=new u(5),a=new u(16),h=new u(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(a.times(o).plus(h))))}return u.precision=t,u.rounding=n,oe(i,t,n,!0)};Z.hyperbolicTangent=Z.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Se(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};Z.inverseCosine=Z.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return n!==-1?n===0?e.isNeg()?nn(t,r,i):new t(0):new t(NaN):e.isZero()?nn(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))};Z.inverseHyperbolicCosine=Z.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ce=!1,n=n.times(n).minus(1).sqrt().plus(n),ce=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};Z.inverseHyperbolicSine=Z.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ce=!1,n=n.times(n).plus(1).sqrt().plus(n),ce=!0,r.precision=e,r.rounding=t,n.ln())};Z.inverseHyperbolicTangent=Z.atanh=function(){var e,t,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?oe(new u(i),e,t,!0):(u.precision=n=r-i.e,i=Se(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};Z.inverseSine=Z.asin=function(){var e,t,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),n=u.precision,r=u.rounding,t!==-1?t===0?(e=nn(u,n+4,r).times(.5),e.s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};Z.inverseTangent=Z.atan=function(){var e,t,n,r,i,u,o,s,a,h=this,p=h.constructor,v=p.precision,g=p.rounding;if(h.isFinite()){if(h.isZero())return new p(h);if(h.abs().eq(1)&&v+4<=Ea)return o=nn(p,v+4,g).times(.25),o.s=h.s,o}else{if(!h.s)return new p(NaN);if(v+4<=Ea)return o=nn(p,v+4,g).times(.5),o.s=h.s,o}for(p.precision=s=v+10,p.rounding=1,n=Math.min(28,s/se+2|0),e=n;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(ce=!1,t=Math.ceil(s/se),r=1,a=h.times(h),o=new p(h),i=h;e!==-1;)if(i=i.times(a),u=o.minus(i.div(r+=2)),i=i.times(a),o=u.plus(i.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),ce=!0,oe(o,p.precision=v,p.rounding=g,!0)};Z.isFinite=function(){return!!this.d};Z.isInteger=Z.isInt=function(){return!!this.d&&ct(this.e/se)>this.d.length-2};Z.isNaN=function(){return!this.s};Z.isNegative=Z.isNeg=function(){return this.s<0};Z.isPositive=Z.isPos=function(){return this.s>0};Z.isZero=function(){return!!this.d&&this.d[0]===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,n,r,i,u,o,s,a,h=this,p=h.constructor,v=p.precision,g=p.rounding,E=5;if(e==null)e=new p(10),t=!0;else{if(e=new p(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new p(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new p(n&&!n[0]?-1/0:h.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(ce=!1,s=v+E,o=jn(h,s),r=t?mo(p,s+10):jn(e,s),a=Se(o,r,s,1),Gi(a.d,i=v,g))do if(s+=10,o=jn(h,s),r=t?mo(p,s+10):jn(e,s),a=Se(o,r,s,1),!u){+Xe(a.d).slice(i+1,i+15)+1==1e14&&(a=oe(a,v+1,0));break}while(Gi(a.d,i+=10,g));return ce=!0,oe(a,v,g)};Z.minus=Z.sub=function(e){var t,n,r,i,u,o,s,a,h,p,v,g,E=this,C=E.constructor;if(e=new C(e),!E.d||!e.d)return!E.s||!e.s?e=new C(NaN):E.d?e.s=-e.s:e=new C(e.d||E.s!==e.s?E:NaN),e;if(E.s!=e.s)return e.s=-e.s,E.plus(e);if(h=E.d,g=e.d,s=C.precision,a=C.rounding,!h[0]||!g[0]){if(g[0])e.s=-e.s;else if(h[0])e=new C(E);else return new C(a===3?-0:0);return ce?oe(e,s,a):e}if(n=ct(e.e/se),p=ct(E.e/se),h=h.slice(),u=p-n,u){for(v=u<0,v?(t=h,u=-u,o=g.length):(t=g,n=p,o=h.length),r=Math.max(Math.ceil(s/se),o)+2,u>r&&(u=r,t.length=1),t.reverse(),r=u;r--;)t.push(0);t.reverse()}else{for(r=h.length,o=g.length,v=r<o,v&&(o=r),r=0;r<o;r++)if(h[r]!=g[r]){v=h[r]<g[r];break}u=0}for(v&&(t=h,h=g,g=t,e.s=-e.s),o=h.length,r=g.length-o;r>0;--r)h[o++]=0;for(r=g.length;r>u;){if(h[--r]<g[r]){for(i=r;i&&h[--i]===0;)h[i]=Kt-1;--h[i],h[r]+=Kt}h[r]-=g[r]}for(;h[--o]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(e.d=h,e.e=$o(h,n),ce?oe(e,s,a):e):new C(a===3?-0:0)};Z.modulo=Z.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?oe(new r(n),r.precision,r.rounding):(ce=!1,r.modulo==9?(t=Se(n,e.abs(),0,3,1),t.s*=e.s):t=Se(n,e,0,r.modulo,1),t=t.times(e),ce=!0,n.minus(t))};Z.naturalExponential=Z.exp=function(){return Na(this)};Z.naturalLogarithm=Z.ln=function(){return jn(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,oe(e)};Z.plus=Z.add=function(e){var t,n,r,i,u,o,s,a,h,p,v=this,g=v.constructor;if(e=new g(e),!v.d||!e.d)return!v.s||!e.s?e=new g(NaN):v.d||(e=new g(e.d||v.s===e.s?v:NaN)),e;if(v.s!=e.s)return e.s=-e.s,v.minus(e);if(h=v.d,p=e.d,s=g.precision,a=g.rounding,!h[0]||!p[0])return p[0]||(e=new g(v)),ce?oe(e,s,a):e;if(u=ct(v.e/se),r=ct(e.e/se),h=h.slice(),i=u-r,i){for(i<0?(n=h,i=-i,o=p.length):(n=p,r=u,o=h.length),u=Math.ceil(s/se),o=u>o?u+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=h.length,i=p.length,o-i<0&&(i=o,n=p,p=h,h=n),t=0;i;)t=(h[--i]=h[i]+p[i]+t)/Kt|0,h[i]%=Kt;for(t&&(h.unshift(t),++r),o=h.length;h[--o]==0;)h.pop();return e.d=h,e.e=$o(h,r),ce?oe(e,s,a):e};Z.precision=Z.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Un+e);return n.d?(t=G0(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};Z.round=function(){var e=this,t=e.constructor;return oe(new t(e),e.e+1,t.rounding)};Z.sine=Z.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+se,r.rounding=1,n=Iv(r,J0(r,n)),r.precision=e,r.rounding=t,oe(dn>2?n.neg():n,e,t,!0)):new r(NaN)};Z.squareRoot=Z.sqrt=function(){var e,t,n,r,i,u,o=this,s=o.d,a=o.e,h=o.s,p=o.constructor;if(h!==1||!s||!s[0])return new p(!h||h<0&&(!s||s[0])?NaN:s?o:1/0);for(ce=!1,h=Math.sqrt(+o),h==0||h==1/0?(t=Xe(s),(t.length+a)%2==0&&(t+="0"),h=Math.sqrt(t),a=ct((a+1)/2)-(a<0||a%2),h==1/0?t="5e"+a:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+a),r=new p(t)):r=new p(h.toString()),n=(a=p.precision)+3;;)if(u=r,r=u.plus(Se(o,u,n+2,1)).times(.5),Xe(u.d).slice(0,n)===(t=Xe(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(oe(u,a+1,0),u.times(u).eq(o))){r=u;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(oe(r,a+1,1),e=!r.times(r).eq(o));break}return ce=!0,oe(r,a,p.rounding,e)};Z.tangent=Z.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=Se(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,oe(dn==2||dn==4?n.neg():n,e,t,!0)):new r(NaN)};Z.times=Z.mul=function(e){var t,n,r,i,u,o,s,a,h,p=this,v=p.constructor,g=p.d,E=(e=new v(e)).d;if(e.s*=p.s,!g||!g[0]||!E||!E[0])return new v(!e.s||g&&!g[0]&&!E||E&&!E[0]&&!g?NaN:!g||!E?e.s/0:e.s*0);for(n=ct(p.e/se)+ct(e.e/se),a=g.length,h=E.length,a<h&&(u=g,g=E,E=u,o=a,a=h,h=o),u=[],o=a+h,r=o;r--;)u.push(0);for(r=h;--r>=0;){for(t=0,i=a+r;i>r;)s=u[i]+E[r]*g[i-r-1]+t,u[i--]=s%Kt|0,t=s/Kt|0;u[i]=(u[i]+t)%Kt|0}for(;!u[--o];)u.pop();return t?++n:u.shift(),e.d=u,e.e=$o(u,n),ce?oe(e,v.precision,v.rounding):e};Z.toBinary=function(e,t){return El(this,2,e,t)};Z.toDecimalPlaces=Z.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ft(e,0,qn),t===void 0?t=r.rounding:Ft(t,0,8),oe(n,e+n.e+1,t))};Z.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=on(r,!0):(Ft(e,0,qn),t===void 0?t=i.rounding:Ft(t,0,8),r=oe(new i(r),e+1,t),n=on(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Z.toFixed=function(e,t){var n,r,i=this,u=i.constructor;return e===void 0?n=on(i):(Ft(e,0,qn),t===void 0?t=u.rounding:Ft(t,0,8),r=oe(new u(i),e+i.e+1,t),n=on(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};Z.toFraction=function(e){var t,n,r,i,u,o,s,a,h,p,v,g,E=this,C=E.d,d=E.constructor;if(!C)return new d(E);if(h=n=new d(1),r=a=new d(0),t=new d(r),u=t.e=G0(C)-E.e-1,o=u%se,t.d[0]=He(10,o<0?se+o:o),e==null)e=u>0?t:h;else{if(s=new d(e),!s.isInt()||s.lt(h))throw Error(Un+s);e=s.gt(t)?u>0?t:h:s}for(ce=!1,s=new d(Xe(C)),p=d.precision,d.precision=u=C.length*se*2;v=Se(s,t,0,1,1),i=n.plus(v.times(r)),i.cmp(e)!=1;)n=r,r=i,i=h,h=a.plus(v.times(i)),a=i,i=t,t=s.minus(v.times(i)),s=i;return i=Se(e.minus(n),r,0,1,1),a=a.plus(i.times(h)),n=n.plus(i.times(r)),a.s=h.s=E.s,g=Se(h,r,u,1).minus(E).abs().cmp(Se(a,n,u,1).minus(E).abs())<1?[h,r]:[a,n],d.precision=p,ce=!0,g};Z.toHexadecimal=Z.toHex=function(e,t){return El(this,16,e,t)};Z.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:Ft(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ce=!1,n=Se(n,e,0,t,1).times(e),ce=!0,oe(n)):(e.s=n.s,n=e),n};Z.toNumber=function(){return+this};Z.toOctal=function(e,t){return El(this,8,e,t)};Z.toPower=Z.pow=function(e){var t,n,r,i,u,o,s=this,a=s.constructor,h=+(e=new a(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new a(He(+s,h));if(s=new a(s),s.eq(1))return s;if(r=a.precision,u=a.rounding,e.eq(1))return oe(s,r,u);if(t=ct(e.e/se),t>=e.d.length-1&&(n=h<0?-h:h)<=kv)return i=K0(a,s,n,r),e.s<0?new a(1).div(i):oe(i,r,u);if(o=s.s,o<0){if(t<e.d.length-1)return new a(NaN);if(e.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return n=He(+s,h),t=n==0||!isFinite(n)?ct(h*(Math.log("0."+Xe(s.d))/Math.LN10+s.e+1)):new a(n+"").e,t>a.maxE+1||t<a.minE-1?new a(t>0?o/0:0):(ce=!1,a.rounding=s.s=1,n=Math.min(12,(t+"").length),i=Na(e.times(jn(s,r+n)),r),i.d&&(i=oe(i,r+5,1),Gi(i.d,r,u)&&(t=r+10,i=oe(Na(e.times(jn(s,t+n)),t),t+5,1),+Xe(i.d).slice(r+1,r+15)+1==1e14&&(i=oe(i,r+1,0)))),i.s=o,ce=!0,a.rounding=u,oe(i,r,u))};Z.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=on(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Ft(e,1,qn),t===void 0?t=i.rounding:Ft(t,0,8),r=oe(new i(r),e,t),n=on(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};Z.toSignificantDigits=Z.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ft(e,1,qn),t===void 0?t=r.rounding:Ft(t,0,8)),oe(new r(n),e,t)};Z.toString=function(){var e=this,t=e.constructor,n=on(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};Z.truncated=Z.trunc=function(){return oe(new this.constructor(this),this.e+1,1)};Z.valueOf=Z.toJSON=function(){var e=this,t=e.constructor,n=on(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Xe(e){var t,n,r,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,t=1;t<i;t++)r=e[t]+"",n=se-r.length,n&&(u+=An(n)),u+=r;o=e[t],r=o+"",n=se-r.length,n&&(u+=An(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Ft(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Un+e)}function Gi(e,t,n,r){var i,u,o,s;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=se,i=0):(i=Math.ceil((t+1)/se),t%=se),u=He(10,se-t),s=e[i]%u|0,r==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):o=(n<4&&s+1==u||n>3&&s+1==u/2)&&(e[i+1]/u/100|0)==He(10,t-2)-1||(s==u/2||s==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(r||n<4)&&s==9999||!r&&n>3&&s==4999):o=((r||n<4)&&s+1==u||!r&&n>3&&s+1==u/2)&&(e[i+1]/u/1e3|0)==He(10,t-3)-1,o}function zu(e,t,n){for(var r,i=[0],u,o=0,s=e.length;o<s;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=wa.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function bv(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/Ro(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=qr(e,1,t.times(i),new e(1));for(var u=n;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var Se=function(){function e(r,i,u){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%u|0,s=o/u|0;return s&&r.unshift(s),r}function t(r,i,u,o){var s,a;if(u!=o)a=u>o?1:-1;else for(s=a=0;s<u;s++)if(r[s]!=i[s]){a=r[s]>i[s]?1:-1;break}return a}function n(r,i,u,o){for(var s=0;u--;)r[u]-=s,s=r[u]<i[u]?1:0,r[u]=s*o+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,o,s,a){var h,p,v,g,E,C,d,D,c,f,l,w,y,x,N,F,_,j,T,k,$=r.constructor,P=r.s==i.s?1:-1,L=r.d,B=i.d;if(!L||!L[0]||!B||!B[0])return new $(!r.s||!i.s||(L?B&&L[0]==B[0]:!B)?NaN:L&&L[0]==0||!B?P*0:P/0);for(a?(E=1,p=r.e-i.e):(a=Kt,E=se,p=ct(r.e/E)-ct(i.e/E)),T=B.length,_=L.length,c=new $(P),f=c.d=[],v=0;B[v]==(L[v]||0);v++);if(B[v]>(L[v]||0)&&p--,u==null?(x=u=$.precision,o=$.rounding):s?x=u+(r.e-i.e)+1:x=u,x<0)f.push(1),C=!0;else{if(x=x/E+2|0,v=0,T==1){for(g=0,B=B[0],x++;(v<_||g)&&x--;v++)N=g*a+(L[v]||0),f[v]=N/B|0,g=N%B|0;C=g||v<_}else{for(g=a/(B[0]+1)|0,g>1&&(B=e(B,g,a),L=e(L,g,a),T=B.length,_=L.length),F=T,l=L.slice(0,T),w=l.length;w<T;)l[w++]=0;k=B.slice(),k.unshift(0),j=B[0],B[1]>=a/2&&++j;do g=0,h=t(B,l,T,w),h<0?(y=l[0],T!=w&&(y=y*a+(l[1]||0)),g=y/j|0,g>1?(g>=a&&(g=a-1),d=e(B,g,a),D=d.length,w=l.length,h=t(d,l,D,w),h==1&&(g--,n(d,T<D?k:B,D,a))):(g==0&&(h=g=1),d=B.slice()),D=d.length,D<w&&d.unshift(0),n(l,d,w,a),h==-1&&(w=l.length,h=t(B,l,T,w),h<1&&(g++,n(l,T<w?k:B,w,a))),w=l.length):h===0&&(g++,l=[0]),f[v++]=g,h&&l[0]?l[w++]=L[F]||0:(l=[L[F]],w=1);while((F++<_||l[0]!==void 0)&&x--);C=l[0]!==void 0}f[0]||f.shift()}if(E==1)c.e=p,V0=C;else{for(v=1,g=f[0];g>=10;g/=10)v++;c.e=v+p*E-1,oe(c,s?u+c.e+1:u,o,C)}return c}}();function oe(e,t,n,r){var i,u,o,s,a,h,p,v,g,E=e.constructor;e:if(t!=null){if(v=e.d,!v)return e;for(i=1,s=v[0];s>=10;s/=10)i++;if(u=t-i,u<0)u+=se,o=t,p=v[g=0],a=p/He(10,i-o-1)%10|0;else if(g=Math.ceil((u+1)/se),s=v.length,g>=s)if(r){for(;s++<=g;)v.push(0);p=a=0,i=1,u%=se,o=u-se+1}else break e;else{for(p=s=v[g],i=1;s>=10;s/=10)i++;u%=se,o=u-se+i,a=o<0?0:p/He(10,i-o-1)%10|0}if(r=r||t<0||v[g+1]!==void 0||(o<0?p:p%He(10,i-o-1)),h=n<4?(a||r)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||r||n==6&&(u>0?o>0?p/He(10,i-o):0:v[g-1])%10&1||n==(e.s<0?8:7)),t<1||!v[0])return v.length=0,h?(t-=e.e+1,v[0]=He(10,(se-t%se)%se),e.e=-t||0):v[0]=e.e=0,e;if(u==0?(v.length=g,s=1,g--):(v.length=g+1,s=He(10,se-u),v[g]=o>0?(p/He(10,i-o)%He(10,o)|0)*s:0),h)for(;;)if(g==0){for(u=1,o=v[0];o>=10;o/=10)u++;for(o=v[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(e.e++,v[0]==Kt&&(v[0]=1));break}else{if(v[g]+=s,v[g]!=Kt)break;v[g--]=0,s=1}for(u=v.length;v[--u]===0;)v.pop()}return ce&&(e.e>E.maxE?(e.d=null,e.e=NaN):e.e<E.minE&&(e.e=0,e.d=[0])),e}function on(e,t,n){if(!e.isFinite())return Y0(e);var r,i=e.e,u=Xe(e.d),o=u.length;return t?(n&&(r=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+An(r):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+An(-i-1)+u,n&&(r=n-o)>0&&(u+=An(r))):i>=o?(u+=An(i+1-o),n&&(r=n-i-1)>0&&(u=u+"."+An(r))):((r=i+1)<o&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(u+="."),u+=An(r))),u}function $o(e,t){var n=e[0];for(t*=se;n>=10;n/=10)t++;return t}function mo(e,t,n){if(t>Tv)throw ce=!0,n&&(e.precision=n),Error(W0);return oe(new e(ho),t,1,!0)}function nn(e,t,n){if(t>Ea)throw Error(W0);return oe(new e(po),t,n,!0)}function G0(e){var t=e.length-1,n=t*se+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function An(e){for(var t="";e--;)t+="0";return t}function K0(e,t,n,r){var i,u=new e(1),o=Math.ceil(r/se+4);for(ce=!1;;){if(n%2&&(u=u.times(t),Hc(u.d,o)&&(i=!0)),n=ct(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}t=t.times(t),Hc(t.d,o)}return ce=!0,u}function Wc(e){return e.d[e.d.length-1]&1}function Z0(e,t,n){for(var r,i,u=new e(t[0]),o=0;++o<t.length;){if(i=new e(t[o]),!i.s){u=i;break}r=u.cmp(i),(r===n||r===0&&u.s===n)&&(u=i)}return u}function Na(e,t){var n,r,i,u,o,s,a,h=0,p=0,v=0,g=e.constructor,E=g.rounding,C=g.precision;if(!e.d||!e.d[0]||e.e>17)return new g(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ce=!1,a=C):a=t,s=new g(.03125);e.e>-2;)e=e.times(s),v+=5;for(r=Math.log(He(2,v))/Math.LN10*2+5|0,a+=r,n=u=o=new g(1),g.precision=a;;){if(u=oe(u.times(e),a,1),n=n.times(++p),s=o.plus(Se(u,n,a,1)),Xe(s.d).slice(0,a)===Xe(o.d).slice(0,a)){for(i=v;i--;)o=oe(o.times(o),a,1);if(t==null)if(h<3&&Gi(o.d,a-r,E,h))g.precision=a+=10,n=u=s=new g(1),p=0,h++;else return oe(o,g.precision=C,E,ce=!0);else return g.precision=C,o}o=s}}function jn(e,t){var n,r,i,u,o,s,a,h,p,v,g,E=1,C=10,d=e,D=d.d,c=d.constructor,f=c.rounding,l=c.precision;if(d.s<0||!D||!D[0]||!d.e&&D[0]==1&&D.length==1)return new c(D&&!D[0]?-1/0:d.s!=1?NaN:D?0:d);if(t==null?(ce=!1,p=l):p=t,c.precision=p+=C,n=Xe(D),r=n.charAt(0),Math.abs(u=d.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(e),n=Xe(d.d),r=n.charAt(0),E++;u=d.e,r>1?(d=new c("0."+n),u++):d=new c(r+"."+n.slice(1))}else return h=mo(c,p+2,l).times(u+""),d=jn(new c(r+"."+n.slice(1)),p-C).plus(h),c.precision=l,t==null?oe(d,l,f,ce=!0):d;for(v=d,a=o=d=Se(d.minus(1),d.plus(1),p,1),g=oe(d.times(d),p,1),i=3;;){if(o=oe(o.times(g),p,1),h=a.plus(Se(o,new c(i),p,1)),Xe(h.d).slice(0,p)===Xe(a.d).slice(0,p))if(a=a.times(2),u!==0&&(a=a.plus(mo(c,p+2,l).times(u+""))),a=Se(a,new c(E),p,1),t==null)if(Gi(a.d,p-C,f,s))c.precision=p+=C,h=o=d=Se(v.minus(1),v.plus(1),p,1),g=oe(d.times(d),p,1),i=s=1;else return oe(a,c.precision=l,f,ce=!0);else return c.precision=l,a;a=h,i+=2}}function Y0(e){return String(e.s*e.s/0)}function Pu(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%se,n<0&&(r+=se),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=se;r<i;)e.d.push(+t.slice(r,r+=se));t=t.slice(r),r=se-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),ce&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Ov(e,t){var n,r,i,u,o,s,a,h,p;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Q0.test(t))return Pu(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Bv.test(t))n=16,t=t.toLowerCase();else if(Mv.test(t))n=2;else if(jv.test(t))n=8;else throw Error(Un+t);for(u=t.search(/p/i),u>0?(a=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,r=e.constructor,o&&(t=t.replace(".",""),s=t.length,u=s-u,i=K0(r,new r(n),u,u*2)),h=zu(t,n,Kt),p=h.length-1,u=p;h[u]===0;--u)h.pop();return u<0?new r(e.s*0):(e.e=$o(h,p),e.d=h,ce=!1,o&&(e=Se(e,i,s*4)),a&&(e=e.times(Math.abs(a)<54?He(2,a):Qr.pow(2,a))),ce=!0,e)}function Iv(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:qr(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Ro(5,n)),t=qr(e,2,t,t);for(var i,u=new e(5),o=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(u.plus(i.times(o.times(i).minus(s))));return t}function qr(e,t,n,r,i){var u,o,s,a,h=e.precision,p=Math.ceil(h/se);for(ce=!1,a=n.times(n),s=new e(r);;){if(o=Se(s.times(a),new e(t++*t++),h,1),s=i?r.plus(o):r.minus(o),r=Se(o.times(a),new e(t++*t++),h,1),o=s.plus(r),o.d[p]!==void 0){for(u=p;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=r,r=o,o=u}return ce=!0,o.d.length=p+1,o}function Ro(e,t){for(var n=e;--t;)n*=e;return n}function J0(e,t){var n,r=t.s<0,i=nn(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return dn=r?4:1,t;if(n=t.divToInt(i),n.isZero())dn=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(u))return dn=Wc(n)?r?2:3:r?4:1,t;dn=Wc(n)?r?1:4:r?3:2}return t.minus(i).abs()}function El(e,t,n,r){var i,u,o,s,a,h,p,v,g,E=e.constructor,C=n!==void 0;if(C?(Ft(n,1,qn),r===void 0?r=E.rounding:Ft(r,0,8)):(n=E.precision,r=E.rounding),!e.isFinite())p=Y0(e);else{for(p=on(e),o=p.indexOf("."),C?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,o>=0&&(p=p.replace(".",""),g=new E(1),g.e=p.length-o,g.d=zu(on(g),10,i),g.e=g.d.length),v=zu(p,10,i),u=a=v.length;v[--a]==0;)v.pop();if(!v[0])p=C?"0p+0":"0";else{if(o<0?u--:(e=new E(e),e.d=v,e.e=u,e=Se(e,g,n,r,0,i),v=e.d,u=e.e,h=V0),o=v[n],s=i/2,h=h||v[n+1]!==void 0,h=r<4?(o!==void 0||h)&&(r===0||r===(e.s<0?3:2)):o>s||o===s&&(r===4||h||r===6&&v[n-1]&1||r===(e.s<0?8:7)),v.length=n,h)for(;++v[--n]>i-1;)v[n]=0,n||(++u,v.unshift(1));for(a=v.length;!v[a-1];--a);for(o=0,p="";o<a;o++)p+=wa.charAt(v[o]);if(C){if(a>1)if(t==16||t==8){for(o=t==16?4:3,--a;a%o;a++)p+="0";for(v=zu(p,i,t),a=v.length;!v[a-1];--a);for(o=1,p="1.";o<a;o++)p+=wa.charAt(v[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)p="0"+p;p="0."+p}else if(++u>a)for(u-=a;u--;)p+="0";else u<a&&(p=p.slice(0,u)+"."+p.slice(u))}p=(t==16?"0x":t==2?"0b":t==8?"0o":"")+p}return e.s<0?"-"+p:p}function Hc(e,t){if(e.length>t)return e.length=t,!0}function zv(e){return new this(e).abs()}function Pv(e){return new this(e).acos()}function $v(e){return new this(e).acosh()}function Rv(e,t){return new this(e).plus(t)}function Lv(e){return new this(e).asin()}function Uv(e){return new this(e).asinh()}function Vv(e){return new this(e).atan()}function Wv(e){return new this(e).atanh()}function Hv(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,u=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=nn(this,u,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?nn(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=nn(this,u,1).times(.5),n.s=e.s):t.s<0?(this.precision=u,this.rounding=1,n=this.atan(Se(e,t,u,1)),t=nn(this,u,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Se(e,t,u,1)),n}function qv(e){return new this(e).cbrt()}function Qv(e){return oe(e=new this(e),e.e+1,2)}function Gv(e,t,n){return new this(e).clamp(t,n)}function Kv(e){if(!e||typeof e!="object")throw Error(Po+"Object expected");var t,n,r,i=e.defaults===!0,u=["precision",1,qn,"rounding",0,8,"toExpNeg",-Mr,0,"toExpPos",0,Mr,"maxE",0,Mr,"minE",-Mr,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=xa[n]),(r=e[n])!==void 0)if(ct(r)===r&&r>=u[t+1]&&r<=u[t+2])this[n]=r;else throw Error(Un+n+": "+r);if(n="crypto",i&&(this[n]=xa[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(H0);else this[n]=!1;else throw Error(Un+n+": "+r);return this}function Zv(e){return new this(e).cos()}function Yv(e){return new this(e).cosh()}function X0(e){var t,n,r;function i(u){var o,s,a,h=this;if(!(h instanceof i))return new i(u);if(h.constructor=i,qc(u)){h.s=u.s,ce?!u.d||u.e>i.maxE?(h.e=NaN,h.d=null):u.e<i.minE?(h.e=0,h.d=[0]):(h.e=u.e,h.d=u.d.slice()):(h.e=u.e,h.d=u.d?u.d.slice():u.d);return}if(a=typeof u,a==="number"){if(u===0){h.s=1/u<0?-1:1,h.e=0,h.d=[0];return}if(u<0?(u=-u,h.s=-1):h.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;ce?o>i.maxE?(h.e=NaN,h.d=null):o<i.minE?(h.e=0,h.d=[0]):(h.e=o,h.d=[u]):(h.e=o,h.d=[u]);return}if(u*0!==0){u||(h.s=NaN),h.e=NaN,h.d=null;return}return Pu(h,u.toString())}if(a==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),h.s=-1):(s===43&&(u=u.slice(1)),h.s=1),Q0.test(u)?Pu(h,u):Ov(h,u);if(a==="bigint")return u<0?(u=-u,h.s=-1):h.s=1,Pu(h,u.toString());throw Error(Un+u)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Kv,i.clone=X0,i.isDecimal=qc,i.abs=zv,i.acos=Pv,i.acosh=$v,i.add=Rv,i.asin=Lv,i.asinh=Uv,i.atan=Vv,i.atanh=Wv,i.atan2=Hv,i.cbrt=qv,i.ceil=Qv,i.clamp=Gv,i.cos=Zv,i.cosh=Yv,i.div=Jv,i.exp=Xv,i.floor=eg,i.hypot=tg,i.ln=ng,i.log=rg,i.log10=ug,i.log2=ig,i.max=og,i.min=sg,i.mod=ag,i.mul=lg,i.pow=cg,i.random=fg,i.round=dg,i.sign=hg,i.sin=pg,i.sinh=mg,i.sqrt=vg,i.sub=gg,i.sum=yg,i.tan=Dg,i.tanh=wg,i.trunc=xg,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Jv(e,t){return new this(e).div(t)}function Xv(e){return new this(e).exp()}function eg(e){return oe(e=new this(e),e.e+1,3)}function tg(){var e,t,n=new this(0);for(ce=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ce=!0,new this(1/0);n=t}return ce=!0,n.sqrt()}function qc(e){return e instanceof Qr||e&&e.toStringTag===q0||!1}function ng(e){return new this(e).ln()}function rg(e,t){return new this(e).log(t)}function ig(e){return new this(e).log(2)}function ug(e){return new this(e).log(10)}function og(){return Z0(this,arguments,-1)}function sg(){return Z0(this,arguments,1)}function ag(e,t){return new this(e).mod(t)}function lg(e,t){return new this(e).mul(t)}function cg(e,t){return new this(e).pow(t)}function fg(e){var t,n,r,i,u=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Ft(e,1,qn),r=Math.ceil(e/se),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));u<r;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);u<r;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(s.push(i%1e7),u+=4);u=r/4}else throw Error(H0);else for(;u<r;)s[u++]=Math.random()*1e7|0;for(r=s[--u],e%=se,r&&e&&(i=He(10,se-e),s[u]=(r/i|0)*i);s[u]===0;u--)s.pop();if(u<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=se)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<se&&(n-=se-r)}return o.e=n,o.d=s,o}function dg(e){return oe(e=new this(e),e.e+1,this.rounding)}function hg(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function pg(e){return new this(e).sin()}function mg(e){return new this(e).sinh()}function vg(e){return new this(e).sqrt()}function gg(e,t){return new this(e).sub(t)}function yg(){var e=0,t=arguments,n=new this(t[e]);for(ce=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ce=!0,oe(n,this.precision,this.rounding)}function Dg(e){return new this(e).tan()}function wg(e){return new this(e).tanh()}function xg(e){return oe(e=new this(e),e.e+1,1)}Z[Symbol.for("nodejs.util.inspect.custom")]=Z.toString;Z[Symbol.toStringTag]="Decimal";var Qr=Z.constructor=X0(xa);ho=new Qr(ho);po=new Qr(po);var Eg="BigNumber",Ng=["?on","config"],Cg=pe(Eg,Ng,e=>{var{on:t,config:n}=e,r=Qr.clone({precision:n.precision,modulo:Qr.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const ot=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Tt=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Fg=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},ws=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},mr=function(){throw SyntaxError("Invalid Param")};function xs(e,t){const n=Math.abs(e),r=Math.abs(t);return e===0?Math.log(r):t===0?Math.log(n):n<3e3&&r<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Ag={re:0,im:0},Yn=function(e,t){const n=Ag;if(e==null)n.re=n.im=0;else if(t!==void 0)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return W.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return W.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else e.length===2?(n.re=e[0],n.im=e[1]):mr();break;case"string":n.im=n.re=0;const r=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;r===null&&mr();for(let o=0;o<r.length;o++){const s=r[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&mr(),r[o+1]!==" "&&!isNaN(r[o+1])?(n.im+=parseFloat((u%2?"-":"")+r[o+1]),o++):n.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&mr(),r[o+1]==="i"||r[o+1]==="I"?(n.im+=parseFloat((u%2?"-":"")+s),o++):n.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&mr();break;case"number":n.im=0,n.re=e;break;default:mr()}return isNaN(n.re)||isNaN(n.im),n};function W(e,t){if(!(this instanceof W))return new W(e,t);const n=Yn(e,t);this.re=n.re,this.im=n.im}W.prototype={re:0,im:0,sign:function(){const e=ws(this.re,this.im);return new W(this.re/e,this.im/e)},add:function(e,t){const n=Yn(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?W.NAN:W.INFINITY:new W(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=Yn(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?W.NAN:W.INFINITY:new W(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=Yn(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;return r&&o||i&&u?W.NAN:r||i?W.INFINITY:n.im===0&&this.im===0?new W(this.re*n.re,0):new W(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=Yn(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;if(u&&o||r&&i)return W.NAN;if(o||r)return W.INFINITY;if(u||i)return W.ZERO;if(n.im===0)return new W(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const s=n.re/n.im,a=n.re*s+n.im;return new W((this.re*s+this.im)/a,(this.im*s-this.re)/a)}else{const s=n.im/n.re,a=n.im*s+n.re;return new W((this.re+this.im*s)/a,(this.im-this.re*s)/a)}},pow:function(e,t){const n=Yn(e,t),r=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return W.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new W(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new W(Math.pow(this.im,n.re),0);case 1:return new W(0,Math.pow(this.im,n.re));case 2:return new W(-Math.pow(this.im,n.re),0);case 3:return new W(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return W.ZERO;const u=Math.atan2(this.im,this.re),o=xs(this.re,this.im);let s=Math.exp(n.re*o-n.im*u),a=n.im*o+n.re*u;return new W(s*Math.cos(a),s*Math.sin(a))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new W(Math.sqrt(e),0):new W(0,Math.sqrt(-e));const n=ws(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new W(r,t<0?-i:i):new W(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return this.im===0?new W(e,0):new W(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new W(Math.expm1(e)*Math.cos(t)+Fg(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new W(Math.log(e),0):new W(xs(e,t),Math.atan2(t,e))},abs:function(){return ws(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new W(Math.sin(e)*ot(t),Math.cos(e)*Tt(t))},cos:function(){const e=this.re,t=this.im;return new W(Math.cos(e)*ot(t),-Math.sin(e)*Tt(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+ot(t);return new W(Math.sin(e)/n,Tt(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-ot(t);return new W(-Math.sin(e)/n,Tt(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*ot(2*t)+.5*Math.cos(2*e);return new W(Math.cos(e)*ot(t)/n,Math.sin(e)*Tt(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*ot(2*t)-.5*Math.cos(2*e);return new W(Math.sin(e)*ot(t)/n,-Math.cos(e)*Tt(t)/n)},asin:function(){const e=this.re,t=this.im,n=new W(t*t-e*e+1,-2*e*t).sqrt(),r=new W(n.re-t,n.im+e).log();return new W(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new W(t*t-e*e+1,-2*e*t).sqrt(),r=new W(n.re-t,n.im+e).log();return new W(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new W(0,1/0);if(t===-1)return new W(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new W((1-t*t-e*e)/n,-2*e/n).log();return new W(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new W(Math.atan2(1,e),0);const n=e*e+t*t;return n!==0?new W(e/n,-t/n).atan():new W(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new W(0,1/0);const n=e*e+t*t;return n!==0?new W(e/n,-t/n).acos():new W(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new W(Math.PI/2,1/0);const n=e*e+t*t;return n!==0?new W(e/n,-t/n).asin():new W(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new W(Tt(e)*Math.cos(t),ot(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new W(ot(e)*Math.cos(t),Tt(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=ot(e)+Math.cos(t);return new W(Tt(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=ot(e)-Math.cos(t);return new W(Tt(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-ot(2*e);return new W(-2*Tt(e)*Math.cos(t)/n,2*ot(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+ot(2*e);return new W(2*ot(e)*Math.cos(t)/n,-2*Tt(e)*Math.sin(t)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,n=e>1&&t===0,r=1-e,i=1+e,u=r*r+t*t,o=u!==0?new W((i*r-t*t)/u,(t*r+i*t)/u):new W(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=xs(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new W(0,Math.PI/2);const n=e*e+t*t;return n!==0?new W(e/n,-t/n).atanh():new W(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new W(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+t*t;return n!==0?new W(e/n,-t/n).asinh():new W(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return W.INFINITY;const n=e*e+t*t;return n!==0?new W(e/n,-t/n).acosh():new W(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return W.INFINITY;if(this.isInfinite())return W.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new W(e/n,-t/n)},conjugate:function(){return new W(this.re,-this.im)},neg:function(){return new W(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new W(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new W(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new W(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=Yn(e,t);return Math.abs(n.re-this.re)<=W.EPSILON&&Math.abs(n.im-this.im)<=W.EPSILON},clone:function(){return new W(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<W.EPSILON&&(e=0),Math.abs(t)<W.EPSILON&&(t=0),t===0?n+e:(e!==0?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),t!==1&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};W.ZERO=new W(0,0);W.ONE=new W(1,0);W.I=new W(0,1);W.PI=new W(Math.PI,0);W.E=new W(Math.E,0);W.INFINITY=new W(1/0,1/0);W.NAN=new W(NaN,NaN);W.EPSILON=1e-15;var Sg="Complex",_g=[],Mg=pe(Sg,_g,()=>(Object.defineProperty(W,"name",{value:"Complex"}),W.prototype.constructor=W,W.prototype.type="Complex",W.prototype.isComplex=!0,W.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},W.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},W.prototype.format=function(e){var t="",n=this.im,r=this.re,i=Da(this.re,e),u=Da(this.im,e),o=Me(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=u+"i":n<0?n===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+u+"i",t},W.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return W(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(Me(n)){if(I0(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Me(r))return new W({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},W.prototype.valueOf=W.prototype.toString,W.fromJSON=function(e){return new W(e)},W.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},W),{isClass:!0}),eh={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=2e3,i={s:1,n:0,d:1};function u(c,f){if(isNaN(c=parseInt(c,10)))throw d();return c*f}function o(c,f){if(f===0)throw C();var l=Object.create(E.prototype);l.s=c<0?-1:1,c=c<0?-c:c;var w=g(c,f);return l.n=c/w,l.d=f/w,l}function s(c){for(var f={},l=c,w=2,y=4;y<=l;){for(;l%w===0;)l/=w,f[w]=(f[w]||0)+1;y+=1+2*w++}return l!==c?l>1&&(f[l]=(f[l]||0)+1):f[c]=(f[c]||0)+1,f}var a=function(c,f){var l=0,w=1,y=1,x=0,N=0,F=0,_=1,j=1,T=0,k=1,$=1,P=1,L=1e7,B;if(c!=null)if(f!==void 0){if(l=c,w=f,y=l*w,l%1!==0||w%1!==0)throw D()}else switch(typeof c){case"object":{if("d"in c&&"n"in c)l=c.n,w=c.d,"s"in c&&(l*=c.s);else if(0 in c)l=c[0],1 in c&&(w=c[1]);else throw d();y=l*w;break}case"number":{if(c<0&&(y=c,c=-c),c%1===0)l=c;else if(c>0){for(c>=1&&(j=Math.pow(10,Math.floor(1+Math.log(c)/Math.LN10)),c/=j);k<=L&&P<=L;)if(B=(T+$)/(k+P),c===B){k+P<=L?(l=T+$,w=k+P):P>k?(l=$,w=P):(l=T,w=k);break}else c>B?(T+=$,k+=P):($+=T,P+=k),k>L?(l=$,w=P):(l=T,w=k);l*=j}else(isNaN(c)||isNaN(f))&&(w=l=NaN);break}case"string":{if(k=c.match(/\d+|./g),k===null)throw d();if(k[T]==="-"?(y=-1,T++):k[T]==="+"&&T++,k.length===T+1?N=u(k[T++],y):k[T+1]==="."||k[T]==="."?(k[T]!=="."&&(x=u(k[T++],y)),T++,(T+1===k.length||k[T+1]==="("&&k[T+3]===")"||k[T+1]==="'"&&k[T+3]==="'")&&(N=u(k[T],y),_=Math.pow(10,k[T].length),T++),(k[T]==="("&&k[T+2]===")"||k[T]==="'"&&k[T+2]==="'")&&(F=u(k[T+1],y),j=Math.pow(10,k[T+1].length)-1,T+=3)):k[T+1]==="/"||k[T+1]===":"?(N=u(k[T],y),_=u(k[T+2],1),T+=3):k[T+3]==="/"&&k[T+1]===" "&&(x=u(k[T],y),N=u(k[T+2],y),_=u(k[T+4],1),T+=5),k.length<=T){w=_*j,y=l=F+w*x+j*N;break}}default:throw d()}if(w===0)throw C();i.s=y<0?-1:1,i.n=Math.abs(l),i.d=Math.abs(w)};function h(c,f,l){for(var w=1;f>0;c=c*c%l,f>>=1)f&1&&(w=w*c%l);return w}function p(c,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var l=10%f,w=1;l!==1;w++)if(l=l*10%f,w>r)return 0;return w}function v(c,f,l){for(var w=1,y=h(10,l,f),x=0;x<300;x++){if(w===y)return x;w=w*10%f,y=y*10%f}return 0}function g(c,f){if(!c)return f;if(!f)return c;for(;;){if(c%=f,!c)return f;if(f%=c,!f)return c}}function E(c,f){if(a(c,f),this instanceof E)c=g(i.d,i.n),this.s=i.s,this.n=i.n/c,this.d=i.d/c;else return o(i.s*i.n,i.d)}var C=function(){return new Error("Division by Zero")},d=function(){return new Error("Invalid argument")},D=function(){return new Error("Parameters must be integer")};E.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(c,f){return a(c,f),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(c,f){return a(c,f),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(c,f){return a(c,f),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(c,f){return a(c,f),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(c,f){if(isNaN(this.n)||isNaN(this.d))return new E(NaN);if(c===void 0)return o(this.s*this.n%this.d,1);if(a(c,f),i.n===0&&this.d===0)throw C();return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(c,f){return a(c,f),o(g(i.n,this.n)*g(i.d,this.d),i.d*this.d)},lcm:function(c,f){return a(c,f),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,g(i.n,this.n)*g(i.d,this.d))},ceil:function(c){return c=Math.pow(10,c||0),isNaN(this.n)||isNaN(this.d)?new E(NaN):o(Math.ceil(c*this.s*this.n/this.d),c)},floor:function(c){return c=Math.pow(10,c||0),isNaN(this.n)||isNaN(this.d)?new E(NaN):o(Math.floor(c*this.s*this.n/this.d),c)},round:function(c){return c=Math.pow(10,c||0),isNaN(this.n)||isNaN(this.d)?new E(NaN):o(Math.round(c*this.s*this.n/this.d),c)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(c,f){if(a(c,f),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var l=s(this.n),w=s(this.d),y=1,x=1;for(var N in l)if(N!=="1"){if(N==="0"){y=0;break}if(l[N]*=i.n,l[N]%i.d===0)l[N]/=i.d;else return null;y*=Math.pow(N,l[N])}for(var N in w)if(N!=="1"){if(w[N]*=i.n,w[N]%i.d===0)w[N]/=i.d;else return null;x*=Math.pow(N,w[N])}return i.s<0?o(x,y):o(y,x)},equals:function(c,f){return a(c,f),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(c,f){a(c,f);var l=this.s*this.n*i.d-i.s*i.n*this.d;return(0<l)-(l<0)},simplify:function(c){if(isNaN(this.n)||isNaN(this.d))return this;c=c||.001;for(var f=this.abs(),l=f.toContinued(),w=1;w<l.length;w++){for(var y=o(l[w-1],1),x=w-2;x>=0;x--)y=y.inverse().add(l[x]);if(Math.abs(y.sub(f).valueOf())<c)return y.mul(this.s)}return this},divisible:function(c,f){return a(c,f),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(c){var f,l="",w=this.n,y=this.d;return this.s<0&&(l+="-"),y===1?l+=w:(c&&(f=Math.floor(w/y))>0&&(l+=f,l+=" ",w%=y),l+=w,l+="/",l+=y),l},toLatex:function(c){var f,l="",w=this.n,y=this.d;return this.s<0&&(l+="-"),y===1?l+=w:(c&&(f=Math.floor(w/y))>0&&(l+=f,w%=y),l+="\\frac{",l+=w,l+="}{",l+=y,l+="}"),l},toContinued:function(){var c,f=this.n,l=this.d,w=[];if(isNaN(f)||isNaN(l))return w;do w.push(Math.floor(f/l)),c=f%l,f=l,l=c;while(f!==1);return w},toString:function(c){var f=this.n,l=this.d;if(isNaN(f)||isNaN(l))return"NaN";c=c||15;var w=p(f,l),y=v(f,l,w),x=this.s<0?"-":"";if(x+=f/l|0,f%=l,f*=10,f&&(x+="."),w){for(var N=y;N--;)x+=f/l|0,f%=l,f*=10;x+="(";for(var N=w;N--;)x+=f/l|0,f%=l,f*=10;x+=")"}else for(var N=c;f&&N--;)x+=f/l|0,f%=l,f*=10;return x}},Object.defineProperty(E,"__esModule",{value:!0}),E.default=E,E.Fraction=E,e.exports=E})()})(eh);var Bg=eh.exports;const sn=mf(Bg);var jg="Fraction",kg=[],Tg=pe(jg,kg,()=>(Object.defineProperty(sn,"name",{value:"Fraction"}),sn.prototype.constructor=sn,sn.prototype.type="Fraction",sn.prototype.isFraction=!0,sn.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},sn.fromJSON=function(e){return new sn(e)},sn),{isClass:!0}),bg="Matrix",Og=[],Ig=pe(bg,Og,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Es(e,t,n){var r=e.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ke(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),u="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function zg(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=P0(t);switch(n){case"fixed":return $g(e,r);case"exponential":return Qc(e,r);case"engineering":return Pg(e,r);case"bin":return Es(e,2,i);case"oct":return Es(e,8,i);case"hex":return Es(e,16,i);case"auto":{var u=Gc(t==null?void 0:t.lowerExp,-3),o=Gc(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var s,a=e.toSignificantDigits(r),h=a.e;return h>=u&&h<o?s=a.toFixed():s=Qc(e,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var p=arguments[2],v=arguments[4];return p!=="."?p+v:v})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Pg(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),u=i.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Qc(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function $g(e,t){return e.toFixed(t)}function Gc(e,t){return Me(e)?e:Je(e)?e.toNumber():t}function Dt(e,t){var n=Rg(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Rg(e,t){if(typeof e=="number")return Da(e,t);if(Je(e))return zg(e,t);if(Lg(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return th(e,t);if(en(e))return Kc(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>Kc(r)+": "+Dt(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function Kc(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in Zc?Zc[i]:i,r++}return'"'+n+'"'}var Zc={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function th(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=th(e[i],t);return n+="]",n}else return Dt(e,t)}function Lg(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Ne(e,t,n){if(!(this instanceof Ne))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ne.prototype=new RangeError;Ne.prototype.constructor=RangeError;Ne.prototype.name="DimensionError";Ne.prototype.isDimensionError=!0;function cr(e,t,n){if(!(this instanceof cr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}cr.prototype=new RangeError;cr.prototype.constructor=RangeError;cr.prototype.name="IndexError";cr.prototype.isIndexError=!0;function Pt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function nh(e,t,n){var r,i=e.length;if(i!==t[n])throw new Ne(i,t[n]);if(n<t.length-1){var u=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new Ne(t.length-1,t.length,"<");nh(e[r],t,u)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new Ne(t.length+1,t.length,">")}function Yc(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new Ne(e.length,0)}else nh(e,t,0)}function Oe(e,t){if(e!==void 0){if(!Me(e)||!Ke(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new cr(e,t)}}function Jc(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Me(i)||!Ke(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Dt(t)+")")}),(Me(e)||Je(e))&&(e=[e]);var r=n!==void 0?n:0;return Ca(e,t,0,r),e}function Ca(e,t,n,r){var i,u,o=e.length,s=t[n],a=Math.min(o,s);if(e.length=s,n<t.length-1){var h=n+1;for(i=0;i<a;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Ca(u,t,h,r);for(i=a;i<s;i++)u=[],e[i]=u,Ca(u,t,h,r)}else{for(i=0;i<a;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=a;i<s;i++)e[i]=r}}function rh(e,t){var n=Vg(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ne(0,r,"!=");t=Nl(t,r);var i=ih(t);if(r!==i)throw new Ne(i,r,"!=");try{return Ug(n,t)}catch(u){throw u instanceof Ne?new Ne(i,r,"!="):u}}function Nl(e,t){var n=ih(e),r=e.slice(),i=-1,u=e.indexOf(i),o=e.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,a=t%n===0;if(s)if(a)r[u]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function ih(e){return e.reduce((t,n)=>t*n,1)}function Ug(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var u=t[i];r=[];for(var o=n.length/u,s=0;s<o;s++)r.push(n.slice(s*u,(s+1)*u));n=r}return n}function uh(e,t,n,r){var i=r||Pt(e);if(n)for(var u=0;u<n;u++)e=[e],i.unshift(1);for(e=oh(e,t,0);i.length<t;)i.push(1);return e}function oh(e,t,n){var r,i;if(Array.isArray(e)){var u=n+1;for(r=0,i=e.length;r<i;r++)e[r]=oh(e[r],t,u)}else for(var o=n;o<t;o++)e=[e];return e}function Vg(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(r){Array.isArray(r)?r.forEach(n):t.push(r)}),t}function vo(e,t){for(var n,r=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(r=u.length),o&&u.length!==r)return;var s=o?vo(u,t):t(u);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function sh(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Ne(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=sh(e[u],t[u],n,r+1);return i}else return e.concat(t)}function ah(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return sh(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(g=>g.length),i=Math.max(...r),u=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],a=r[o],h=0;h<a;h++){var p=i-a+h;s[h]>u[p]&&(u[p]=s[h])}for(var v=0;v<t.length;v++)go(t[v],u);return u}function go(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var u=n-r+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[u]))}}function Xc(e,t){var n=Pt(e);if(Hr(n,t))return e;go(n,t);var r=Wg(n,t),i=r.length,u=[...Array(i-n.length).fill(1),...n],o=qg(e);n.length<i&&(o=rh(o,u),n=Pt(o));for(var s=0;s<i;s++)n[s]<r[s]&&(o=Hg(o,r[s],s),n=Pt(o));return o}function Hg(e,t,n){return ah(...Array(t).fill(e),n)}function qg(e){return co([],e)}function lh(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}var Qg="DenseMatrix",Gg=["Matrix"],Kg=pe(Qg,Gg,e=>{var{Matrix:t}=e;function n(p,v){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!en(v))throw new Error("Invalid datatype: "+v);if(at(p))p.type==="DenseMatrix"?(this._data=Qe(p._data),this._size=Qe(p._size),this._datatype=v||p._datatype):(this._data=p.toArray(),this._size=p.size(),this._datatype=v||p._datatype);else if(p&&be(p.data)&&be(p.size))this._data=p.data,this._size=p.size,Yc(this._data,this._size),this._datatype=v||p.datatype;else if(be(p))this._data=h(p),this._size=Pt(this._data),Yc(this._data,this._size),this._datatype=v;else{if(p)throw new TypeError("Unsupported type of data ("+_i(p)+")");this._data=[],this._size=[0],this._datatype=v}}n.prototype=new t,n.prototype.createDenseMatrix=function(p,v){return new n(p,v)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return vo(this._data,_i)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(p,v){return new n(p,v)},n.prototype.subset=function(p,v,g){switch(arguments.length){case 1:return r(this,p);case 2:case 3:return u(this,p,v,g);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(p){if(!be(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Ne(p.length,this._size.length);for(var v=0;v<p.length;v++)Oe(p[v],this._size[v]);for(var g=this._data,E=0,C=p.length;E<C;E++){var d=p[E];Oe(d,g.length),g=g[d]}return g},n.prototype.set=function(p,v,g){if(!be(p))throw new TypeError("Array expected");if(p.length<this._size.length)throw new Ne(p.length,this._size.length,"<");var E,C,d,D=p.map(function(f){return f+1});a(this,D,g);var c=this._data;for(E=0,C=p.length-1;E<C;E++)d=p[E],Oe(d,c.length),c=c[d];return d=p[p.length-1],Oe(d,c.length),c[d]=v,this};function r(p,v){if(!wl(v))throw new TypeError("Invalid index");var g=v.isScalar();if(g)return p.get(v.min());var E=v.size();if(E.length!==p._size.length)throw new Ne(E.length,p._size.length);for(var C=v.min(),d=v.max(),D=0,c=p._size.length;D<c;D++)Oe(C[D],p._size[D]),Oe(d[D],p._size[D]);return new n(i(p._data,v,E.length,0),p._datatype)}function i(p,v,g,E){var C=E===g-1,d=v.dimension(E);return C?d.map(function(D){return Oe(D,p.length),p[D]}).valueOf():d.map(function(D){Oe(D,p.length);var c=p[D];return i(c,v,g,E+1)}).valueOf()}function u(p,v,g,E){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var C=v.size(),d=v.isScalar(),D;if(at(g)?(D=g.size(),g=g.valueOf()):D=Pt(g),d){if(D.length!==0)throw new TypeError("Scalar expected");p.set(v.min(),g,E)}else{if(!Hr(D,C))try{D.length===0?g=Xc([g],C):g=Xc(g,C),D=Pt(g)}catch{}if(C.length<p._size.length)throw new Ne(C.length,p._size.length,"<");if(D.length<C.length){for(var c=0,f=0;C[c]===1&&D[c]===1;)c++;for(;C[c]===1;)f++,c++;g=uh(g,C.length,f,D)}if(!Hr(C,D))throw new Ne(C,D,">");var l=v.max().map(function(x){return x+1});a(p,l,E);var w=C.length,y=0;o(p._data,v,g,w,y)}return p}function o(p,v,g,E,C){var d=C===E-1,D=v.dimension(C);d?D.forEach(function(c,f){Oe(c),p[c]=g[f[0]]}):D.forEach(function(c,f){Oe(c),o(p[c],v,g[f[0]],E,C+1)})}n.prototype.resize=function(p,v,g){if(!fo(p))throw new TypeError("Array or Matrix expected");var E=p.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),C=g?this.clone():this;return s(C,E,v)};function s(p,v,g){if(v.length===0){for(var E=p._data;be(E);)E=E[0];return E}return p._size=v.slice(0),p._data=Jc(p._data,p._size,g),p}n.prototype.reshape=function(p,v){var g=v?this.clone():this;g._data=rh(g._data,p);var E=g._size.reduce((C,d)=>C*d);return g._size=Nl(p,E),g};function a(p,v,g){for(var E=p._size.slice(0),C=!1;E.length<v.length;)E.push(0),C=!0;for(var d=0,D=v.length;d<D;d++)v[d]>E[d]&&(E[d]=v[d],C=!0);C&&s(p,E,g)}n.prototype.clone=function(){var p=new n({data:Qe(this._data),size:Qe(this._size),datatype:this._datatype});return p},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(p){var v=this,g=lh(p),E=function D(c,f){return be(c)?c.map(function(l,w){return D(l,f.concat(w))}):g===1?p(c):g===2?p(c,f):p(c,f,v)},C=E(this._data,[]),d=this._datatype!==void 0?vo(C,_i):void 0;return new n(C,d)},n.prototype.forEach=function(p){var v=this,g=function E(C,d){be(C)?C.forEach(function(D,c){E(D,d.concat(c))}):p(C,d,v)};g(this._data,[])},n.prototype[Symbol.iterator]=function*(){var p=function*v(g,E){if(be(g))for(var C=0;C<g.length;C++)yield*v(g[C],E.concat(C));else yield{value:g,index:E}};yield*p(this._data,[])},n.prototype.rows=function(){var p=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var g=this._data;for(var E of g)p.push(new n([E],this._datatype));return p},n.prototype.columns=function(){var p=this,v=[],g=this.size();if(g.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var E=this._data,C=function(c){var f=E.map(l=>[l[c]]);v.push(new n(f,p._datatype))},d=0;d<g[1];d++)C(d);return v},n.prototype.toArray=function(){return Qe(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(p){return Dt(this._data,p)},n.prototype.toString=function(){return Dt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(p){if(p){if(Je(p)&&(p=p.toNumber()),!Me(p)||!Ke(p))throw new TypeError("The parameter k must be an integer number")}else p=0;for(var v=p>0?p:0,g=p<0?-p:0,E=this._size[0],C=this._size[1],d=Math.min(E-g,C-v),D=[],c=0;c<d;c++)D[c]=this._data[c+g][c+v];return new n({data:D,size:[d],datatype:this._datatype})},n.diagonal=function(p,v,g,E){if(!be(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(N){if(Je(N)&&(N=N.toNumber()),!Me(N)||!Ke(N)||N<1)throw new Error("Size values must be positive integers");return N}),g){if(Je(g)&&(g=g.toNumber()),!Me(g)||!Ke(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var C=g>0?g:0,d=g<0?-g:0,D=p[0],c=p[1],f=Math.min(D-d,c-C),l;if(be(v)){if(v.length!==f)throw new Error("Invalid value array length");l=function(F){return v[F]}}else if(at(v)){var w=v.size();if(w.length!==1||w[0]!==f)throw new Error("Invalid matrix length");l=function(F){return v.get([F])}}else l=function(){return v};E||(E=Je(l(0))?l(0).mul(0):0);var y=[];if(p.length>0){y=Jc(y,p,E);for(var x=0;x<f;x++)y[x+d][x+C]=l(x)}return new n({data:y,size:[D,c]})},n.fromJSON=function(p){return new n(p)},n.prototype.swapRows=function(p,v){if(!Me(p)||!Ke(p)||!Me(v)||!Ke(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Oe(p,this._size[0]),Oe(v,this._size[0]),n._swapRows(p,v,this._data),this},n._swapRows=function(p,v,g){var E=g[p];g[p]=g[v],g[v]=E};function h(p){return at(p)?h(p.valueOf()):be(p)?p.map(h):p}return n},{isClass:!0});function tu(e,t,n){return e&&typeof e.map=="function"?e.map(function(r){return tu(r,t)}):t(e)}var ef="isInteger",Zg=["typed"],Yg=pe(ef,Zg,e=>{var{typed:t}=e;return t(ef,{number:Ke,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":t.referToSelf(n=>r=>tu(r,n))})}),Jg="number",Cl="number, number";function ch(e,t){return e+t}ch.signature=Cl;function fh(e,t){return e-t}fh.signature=Cl;function dh(e,t){return e*t}dh.signature=Cl;function hh(e){return-e}hh.signature=Jg;function ph(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}function Xg(e,t,n){return Qi(e.re,t.re,n)&&Qi(e.im,t.im,n)}var mh=pe("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),yo="equalScalar",ey=["typed","config"],ty=pe(yo,ey,e=>{var{typed:t,config:n}=e,r=mh({typed:t});return t(yo,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return Qi(u,o,n.epsilon)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||ph(u,o,n.epsilon)},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Xg(u,o,n.epsilon)}},r)});pe(yo,["typed","config"],e=>{var{typed:t,config:n}=e;return t(yo,{"number, number":function(i,u){return Qi(i,u,n.epsilon)}})});var ny="SparseMatrix",ry=["typed","equalScalar","Matrix"],iy=pe(ny,ry,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(d,D){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!en(D))throw new Error("Invalid datatype: "+D);if(at(d))u(this,d,D);else if(d&&be(d.index)&&be(d.ptr)&&be(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=D||d.datatype;else if(be(d))o(this,d,D);else{if(d)throw new TypeError("Unsupported type of data ("+_i(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function u(d,D,c){D.type==="SparseMatrix"?(d._values=D._values?Qe(D._values):void 0,d._index=Qe(D._index),d._ptr=Qe(D._ptr),d._size=Qe(D._size),d._datatype=c||D._datatype):o(d,D.valueOf(),c||D._datatype)}function o(d,D,c){d._values=[],d._index=[],d._ptr=[],d._datatype=c;var f=D.length,l=0,w=n,y=0;if(en(c)&&(w=t.find(n,[c,c])||n,y=t.convert(0,c)),f>0){var x=0;do{d._ptr.push(d._index.length);for(var N=0;N<f;N++){var F=D[N];if(be(F)){if(x===0&&l<F.length&&(l=F.length),x<F.length){var _=F[x];w(_,y)||(d._values.push(_),d._index.push(N))}}else x===0&&l<1&&(l=1),w(F,y)||(d._values.push(F),d._index.push(N))}x++}while(x<l)}d._ptr.push(d._index.length),d._size=[f,l]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,D){return new i(d,D)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return vo(this._values,_i)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,D){return new i(d,D)},i.prototype.density=function(){var d=this._size[0],D=this._size[1];return d!==0&&D!==0?this._index.length/(d*D):0},i.prototype.subset=function(d,D,c){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,d);case 2:case 3:return a(this,d,D,c);default:throw new SyntaxError("Wrong number of arguments")}};function s(d,D){if(!wl(D))throw new TypeError("Invalid index");var c=D.isScalar();if(c)return d.get(D.min());var f=D.size();if(f.length!==d._size.length)throw new Ne(f.length,d._size.length);var l,w,y,x,N=D.min(),F=D.max();for(l=0,w=d._size.length;l<w;l++)Oe(N[l],d._size[l]),Oe(F[l],d._size[l]);var _=d._values,j=d._index,T=d._ptr,k=D.dimension(0),$=D.dimension(1),P=[],L=[];k.forEach(function(Q,U){L[Q]=U[0],P[Q]=!0});var B=_?[]:void 0,q=[],I=[];return $.forEach(function(Q){for(I.push(q.length),y=T[Q],x=T[Q+1];y<x;y++)l=j[y],P[l]===!0&&(q.push(L[l]),B&&B.push(_[y]))}),I.push(q.length),new i({values:B,index:q,ptr:I,size:f,datatype:d._datatype})}function a(d,D,c,f){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var l=D.size(),w=D.isScalar(),y;if(at(c)?(y=c.size(),c=c.toArray()):y=Pt(c),w){if(y.length!==0)throw new TypeError("Scalar expected");d.set(D.min(),c,f)}else{if(l.length!==1&&l.length!==2)throw new Ne(l.length,d._size.length,"<");if(y.length<l.length){for(var x=0,N=0;l[x]===1&&y[x]===1;)x++;for(;l[x]===1;)N++,x++;c=uh(c,l.length,N,y)}if(!Hr(l,y))throw new Ne(l,y,">");if(l.length===1){var F=D.dimension(0);F.forEach(function(T,k){Oe(T),d.set([T,0],c[k[0]],f)})}else{var _=D.dimension(0),j=D.dimension(1);_.forEach(function(T,k){Oe(T),j.forEach(function($,P){Oe($),d.set([T,$],c[k[0]][P[0]],f)})})}}return d}i.prototype.get=function(d){if(!be(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Ne(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=d[0],c=d[1];Oe(D,this._size[0]),Oe(c,this._size[1]);var f=h(D,this._ptr[c],this._ptr[c+1],this._index);return f<this._ptr[c+1]&&this._index[f]===D?this._values[f]:0},i.prototype.set=function(d,D,c){if(!be(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Ne(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var f=d[0],l=d[1],w=this._size[0],y=this._size[1],x=n,N=0;en(this._datatype)&&(x=t.find(n,[this._datatype,this._datatype])||n,N=t.convert(0,this._datatype)),(f>w-1||l>y-1)&&(g(this,Math.max(f+1,w),Math.max(l+1,y),c),w=this._size[0],y=this._size[1]),Oe(f,w),Oe(l,y);var F=h(f,this._ptr[l],this._ptr[l+1],this._index);return F<this._ptr[l+1]&&this._index[F]===f?x(D,N)?p(F,l,this._values,this._index,this._ptr):this._values[F]=D:x(D,N)||v(F,f,l,D,this._values,this._index,this._ptr),this};function h(d,D,c,f){if(c-D===0)return c;for(var l=D;l<c;l++)if(f[l]===d)return l;return D}function p(d,D,c,f,l){c.splice(d,1),f.splice(d,1);for(var w=D+1;w<l.length;w++)l[w]--}function v(d,D,c,f,l,w,y){l.splice(d,0,f),w.splice(d,0,D);for(var x=c+1;x<y.length;x++)y[x]++}i.prototype.resize=function(d,D,c){if(!fo(d))throw new TypeError("Array or Matrix expected");var f=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(f.length!==2)throw new Error("Only two dimensions matrix are supported");f.forEach(function(w){if(!Me(w)||!Ke(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Dt(f)+")")});var l=c?this.clone():this;return g(l,f[0],f[1],D)};function g(d,D,c,f){var l=f||0,w=n,y=0;en(d._datatype)&&(w=t.find(n,[d._datatype,d._datatype])||n,y=t.convert(0,d._datatype),l=t.convert(l,d._datatype));var x=!w(l,y),N=d._size[0],F=d._size[1],_,j,T;if(c>F){for(j=F;j<c;j++)if(d._ptr[j]=d._values.length,x)for(_=0;_<N;_++)d._values.push(l),d._index.push(_);d._ptr[c]=d._values.length}else c<F&&(d._ptr.splice(c+1,F-c),d._values.splice(d._ptr[c],d._values.length),d._index.splice(d._ptr[c],d._index.length));if(F=c,D>N){if(x){var k=0;for(j=0;j<F;j++){d._ptr[j]=d._ptr[j]+k,T=d._ptr[j+1]+k;var $=0;for(_=N;_<D;_++,$++)d._values.splice(T+$,0,l),d._index.splice(T+$,0,_),k++}d._ptr[F]=d._values.length}}else if(D<N){var P=0;for(j=0;j<F;j++){d._ptr[j]=d._ptr[j]-P;var L=d._ptr[j],B=d._ptr[j+1]-P;for(T=L;T<B;T++)_=d._index[T],_>D-1&&(d._values.splice(T,1),d._index.splice(T,1),P++)}d._ptr[j]=d._values.length}return d._size[0]=D,d._size[1]=c,d}i.prototype.reshape=function(d,D){if(!be(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(Q){if(!Me(Q)||!Ke(Q)||Q<=-2||Q===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Dt(d)+")")});var c=this._size[0]*this._size[1];d=Nl(d,c);var f=d[0]*d[1];if(c!==f)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var l=D?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return l;for(var w=[],y=0;y<l._ptr.length;y++)for(var x=0;x<l._ptr[y+1]-l._ptr[y];x++)w.push(y);for(var N=l._values.slice(),F=l._index.slice(),_=0;_<l._index.length;_++){var j=F[_],T=w[_],k=j*l._size[1]+T;w[_]=k%d[1],F[_]=Math.floor(k/d[1])}l._values.length=0,l._index.length=0,l._ptr.length=d[1]+1,l._size=d.slice();for(var $=0;$<l._ptr.length;$++)l._ptr[$]=0;for(var P=0;P<N.length;P++){var L=F[P],B=w[P],q=N[P],I=h(L,l._ptr[B],l._ptr[B+1],l._index);v(I,L,B,q,l._values,l._index,l._ptr)}return l},i.prototype.clone=function(){var d=new i({values:this._values?Qe(this._values):void 0,index:Qe(this._index),ptr:Qe(this._ptr),size:Qe(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var c=this,f=this._size[0],l=this._size[1],w=lh(d),y=function(N,F,_){return w===1?d(N):w===2?d(N,[F,_]):d(N,[F,_],c)};return E(this,0,f-1,0,l-1,y,D)};function E(d,D,c,f,l,w,y){var x=[],N=[],F=[],_=n,j=0;en(d._datatype)&&(_=t.find(n,[d._datatype,d._datatype])||n,j=t.convert(0,d._datatype));for(var T=function(le,me,Ee){le=w(le,me,Ee),_(le,j)||(x.push(le),N.push(me))},k=f;k<=l;k++){F.push(x.length);var $=d._ptr[k],P=d._ptr[k+1];if(y)for(var L=$;L<P;L++){var B=d._index[L];B>=D&&B<=c&&T(d._values[L],B-D,k-f)}else{for(var q={},I=$;I<P;I++){var Q=d._index[I];q[Q]=d._values[I]}for(var U=D;U<=c;U++){var ne=U in q?q[U]:0;T(ne,U-D,k-f)}}}return F.push(x.length),new i({values:x,index:N,ptr:F,size:[c-D+1,l-f+1]})}i.prototype.forEach=function(d,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var c=this,f=this._size[0],l=this._size[1],w=0;w<l;w++){var y=this._ptr[w],x=this._ptr[w+1];if(D)for(var N=y;N<x;N++){var F=this._index[N];d(this._values[N],[F,w],c)}else{for(var _={},j=y;j<x;j++){var T=this._index[j];_[T]=this._values[j]}for(var k=0;k<f;k++){var $=k in _?_[k]:0;d($,[k,w],c)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],D=0;D<d;D++)for(var c=this._ptr[D],f=this._ptr[D+1],l=c;l<f;l++){var w=this._index[l];yield{value:this._values[l],index:[w,D]}}},i.prototype.toArray=function(){return C(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return C(this._values,this._index,this._ptr,this._size,!1)};function C(d,D,c,f,l){var w=f[0],y=f[1],x=[],N,F;for(N=0;N<w;N++)for(x[N]=[],F=0;F<y;F++)x[N][F]=0;for(F=0;F<y;F++)for(var _=c[F],j=c[F+1],T=_;T<j;T++)N=D[T],x[N][F]=d?l?Qe(d[T]):d[T]:1;return x}return i.prototype.format=function(d){for(var D=this._size[0],c=this._size[1],f=this.density(),l="Sparse Matrix ["+Dt(D,d)+" x "+Dt(c,d)+"] density: "+Dt(f,d)+`
`,w=0;w<c;w++)for(var y=this._ptr[w],x=this._ptr[w+1],N=y;N<x;N++){var F=this._index[N];l+=`
    (`+Dt(F,d)+", "+Dt(w,d)+") ==> "+(this._values?Dt(this._values[N],d):"X")}return l},i.prototype.toString=function(){return Dt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(Je(d)&&(d=d.toNumber()),!Me(d)||!Ke(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var D=d>0?d:0,c=d<0?-d:0,f=this._size[0],l=this._size[1],w=Math.min(f-c,l-D),y=[],x=[],N=[];N[0]=0;for(var F=D;F<l&&y.length<w;F++)for(var _=this._ptr[F],j=this._ptr[F+1],T=_;T<j;T++){var k=this._index[T];if(k===F-D+c){y.push(this._values[T]),x[y.length-1]=k-c;break}}return N.push(y.length),new i({values:y,index:x,ptr:N,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,D,c,f,l){if(!be(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(Q){if(Je(Q)&&(Q=Q.toNumber()),!Me(Q)||!Ke(Q)||Q<1)throw new Error("Size values must be positive integers");return Q}),c){if(Je(c)&&(c=c.toNumber()),!Me(c)||!Ke(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var w=n,y=0;en(l)&&(w=t.find(n,[l,l])||n,y=t.convert(0,l));var x=c>0?c:0,N=c<0?-c:0,F=d[0],_=d[1],j=Math.min(F-N,_-x),T;if(be(D)){if(D.length!==j)throw new Error("Invalid value array length");T=function(U){return D[U]}}else if(at(D)){var k=D.size();if(k.length!==1||k[0]!==j)throw new Error("Invalid matrix length");T=function(U){return D.get([U])}}else T=function(){return D};for(var $=[],P=[],L=[],B=0;B<_;B++){L.push($.length);var q=B-x;if(q>=0&&q<j){var I=T(q);w(I,y)||(P.push(q+N),$.push(I))}}return L.push($.length),new i({values:$,index:P,ptr:L,size:[F,_]})},i.prototype.swapRows=function(d,D){if(!Me(d)||!Ke(d)||!Me(D)||!Ke(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Oe(d,this._size[0]),Oe(D,this._size[0]),i._swapRows(d,D,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,D,c,f,l){for(var w=f[d],y=f[d+1],x=w;x<y;x++)l(c[x],D[x])},i._swapRows=function(d,D,c,f,l,w){for(var y=0;y<c;y++){var x=w[y],N=w[y+1],F=h(d,x,N,l),_=h(D,x,N,l);if(F<N&&_<N&&l[F]===d&&l[_]===D){if(f){var j=f[F];f[F]=f[_],f[_]=j}continue}if(F<N&&l[F]===d&&(_>=N||l[_]!==D)){var T=f?f[F]:void 0;l.splice(_,0,D),f&&f.splice(_,0,T),l.splice(_<=F?F+1:F,1),f&&f.splice(_<=F?F+1:F,1);continue}if(_<N&&l[_]===D&&(F>=N||l[F]!==d)){var k=f?f[_]:void 0;l.splice(F,0,d),f&&f.splice(F,0,k),l.splice(F<=_?_+1:_,1),f&&f.splice(F<=_?_+1:_,1)}}},i},{isClass:!0}),uy="fraction",oy=["typed","Fraction"],sy=pe(uy,oy,e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,u){return new n(i,u)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Object:function(i){return new n(i)},"Array | Matrix":t.referToSelf(r=>i=>tu(i,r))})}),tf="matrix",ay=["typed","Matrix","DenseMatrix","SparseMatrix"],ly=pe(tf,ay,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(tf,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,a){return u([],s,a)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,a){if(s==="dense"||s==="default"||s===void 0)return new r(o,a);if(s==="sparse")return new i(o,a);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),nf="unaryMinus",cy=["typed"],fy=pe(nf,cy,e=>{var{typed:t}=e;return t(nf,{number:hh,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:t.referToSelf(n=>r=>{var i=r.clone();return i.value=t.find(n,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(n=>r=>tu(r,n))})}),rf="addScalar",dy=["typed"],hy=pe(rf,dy,e=>{var{typed:t}=e;return t(rf,{"number, number":ch,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),uf="subtractScalar",py=["typed"],my=pe(uf,py,e=>{var{typed:t}=e;return t(uf,{"number, number":fh,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),vy="matAlgo11xS0s",gy=["typed","equalScalar"],yy=pe(vy,gy,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,o,s){var a=i._values,h=i._index,p=i._ptr,v=i._size,g=i._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E=v[0],C=v[1],d,D=n,c=0,f=o;typeof g=="string"&&(d=g,D=t.find(n,[d,d]),c=t.convert(0,d),u=t.convert(u,d),f=t.find(o,[d,d]));for(var l=[],w=[],y=[],x=0;x<C;x++){y[x]=w.length;for(var N=p[x],F=p[x+1],_=N;_<F;_++){var j=h[_],T=s?f(u,a[_]):f(a[_],u);D(T,c)||(w.push(j),l.push(T))}}return y[C]=w.length,i.createSparseMatrix({values:l,index:w,ptr:y,size:[E,C],datatype:d})}}),Dy="matAlgo12xSfs",wy=["typed","DenseMatrix"],vh=pe(Dy,wy,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,o,s){var a=i._values,h=i._index,p=i._ptr,v=i._size,g=i._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E=v[0],C=v[1],d,D=o;typeof g=="string"&&(d=g,u=t.convert(u,d),D=t.find(o,[d,d]));for(var c=[],f=[],l=[],w=0;w<C;w++){for(var y=w+1,x=p[w],N=p[w+1],F=x;F<N;F++){var _=h[F];f[_]=a[F],l[_]=y}for(var j=0;j<E;j++)w===0&&(c[j]=[]),l[j]===y?c[j][w]=s?D(u,f[j]):D(f[j],u):c[j][w]=s?D(u,0):D(0,u)}return new n({data:c,size:[E,C],datatype:d})}}),xy="matAlgo14xDs",Ey=["typed"],gh=pe(xy,Ey,e=>{var{typed:t}=e;return function(i,u,o,s){var a=i._data,h=i._size,p=i._datatype,v,g=o;typeof p=="string"&&(v=p,u=t.convert(u,v),g=t.find(o,[v,v]));var E=h.length>0?n(g,0,h,h[0],a,u,s):[];return i.createDenseMatrix({data:E,size:Qe(h),datatype:v})};function n(r,i,u,o,s,a,h){var p=[];if(i===u.length-1)for(var v=0;v<o;v++)p[v]=h?r(a,s[v]):r(s[v],a);else for(var g=0;g<o;g++)p[g]=n(r,i+1,u,u[i+1],s[g],a,h);return p}}),Ny="matAlgo03xDSf",Cy=["typed"],yh=pe(Ny,Cy,e=>{var{typed:t}=e;return function(r,i,u,o){var s=r._data,a=r._size,h=r._datatype||r.getDataType(),p=i._values,v=i._index,g=i._ptr,E=i._size,C=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(a.length!==E.length)throw new Ne(a.length,E.length);if(a[0]!==E[0]||a[1]!==E[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+E+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=a[0],D=a[1],c,f=0,l=u;typeof h=="string"&&h===C&&h!=="mixed"&&(c=h,f=t.convert(0,c),l=t.find(u,[c,c]));for(var w=[],y=0;y<d;y++)w[y]=[];for(var x=[],N=[],F=0;F<D;F++){for(var _=F+1,j=g[F],T=g[F+1],k=j;k<T;k++){var $=v[k];x[$]=o?l(p[k],s[$][F]):l(s[$][F],p[k]),N[$]=_}for(var P=0;P<d;P++)N[P]===_?w[P][F]=x[P]:w[P][F]=o?l(f,s[P][F]):l(s[P][F],f)}return r.createDenseMatrix({data:w,size:[d,D],datatype:h===r._datatype&&C===i._datatype?c:void 0})}}),Fy="matAlgo05xSfSf",Ay=["typed","equalScalar"],Dh=pe(Fy,Ay,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,o){var s=i._values,a=i._index,h=i._ptr,p=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType(),g=u._values,E=u._index,C=u._ptr,d=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(p.length!==d.length)throw new Ne(p.length,d.length);if(p[0]!==d[0]||p[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+d+")");var c=p[0],f=p[1],l,w=n,y=0,x=o;typeof v=="string"&&v===D&&v!=="mixed"&&(l=v,w=t.find(n,[l,l]),y=t.convert(0,l),x=t.find(o,[l,l]));var N=s&&g?[]:void 0,F=[],_=[],j=N?[]:void 0,T=N?[]:void 0,k=[],$=[],P,L,B,q;for(L=0;L<f;L++){_[L]=F.length;var I=L+1;for(B=h[L],q=h[L+1];B<q;B++)P=a[B],F.push(P),k[P]=I,j&&(j[P]=s[B]);for(B=C[L],q=C[L+1];B<q;B++)P=E[B],k[P]!==I&&F.push(P),$[P]=I,T&&(T[P]=g[B]);if(N)for(B=_[L];B<F.length;){P=F[B];var Q=k[P],U=$[P];if(Q===I||U===I){var ne=Q===I?j[P]:y,ue=U===I?T[P]:y,le=x(ne,ue);w(le,y)?F.splice(B,1):(N.push(le),B++)}}}return _[f]=F.length,i.createSparseMatrix({values:N,index:F,ptr:_,size:[c,f],datatype:v===i._datatype&&D===u._datatype?l:void 0})}}),Sy="matAlgo13xDD",_y=["typed"],My=pe(Sy,_y,e=>{var{typed:t}=e;return function(i,u,o){var s=i._data,a=i._size,h=i._datatype,p=u._data,v=u._size,g=u._datatype,E=[];if(a.length!==v.length)throw new Ne(a.length,v.length);for(var C=0;C<a.length;C++){if(a[C]!==v[C])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+v+")");E[C]=a[C]}var d,D=o;typeof h=="string"&&h===g&&(d=h,D=t.find(o,[d,d]));var c=E.length>0?n(D,0,E,E[0],s,p):[];return i.createDenseMatrix({data:c,size:E,datatype:d})};function n(r,i,u,o,s,a){var h=[];if(i===u.length-1)for(var p=0;p<o;p++)h[p]=r(s[p],a[p]);else for(var v=0;v<o;v++)h[v]=n(r,i+1,u,u[i+1],s[v],a[v]);return h}}),By="broadcast",jy=["concat"],ky=pe(By,jy,e=>{var{concat:t}=e;return function(i,u){var o=Math.max(i._size.length,u._size.length);if(i._size.length===u._size.length&&i._size.every((C,d)=>C===u._size[d]))return[i,u];for(var s=n(i._size,o,0),a=n(u._size,o,0),h=[],p=0;p<o;p++)h[p]=Math.max(s[p],a[p]);go(s,h),go(a,h);var v=i.clone(),g=u.clone();v._size.length<o?v.reshape(n(v._size,o,1)):g._size.length<o&&g.reshape(n(g._size,o,1));for(var E=0;E<o;E++)v._size[E]<h[E]&&(v=r(v,h[E],E)),g._size[E]<h[E]&&(g=r(g,h[E],E));return[v,g]};function n(i,u,o){return[...Array(u-i.length).fill(o),...i]}function r(i,u,o){return t(...Array(u).fill(i),o)}}),Ty="matrixAlgorithmSuite",by=["typed","matrix","concat"],Fl=pe(Ty,by,e=>{var{typed:t,matrix:n,concat:r}=e,i=My({typed:t}),u=gh({typed:t}),o=ky({concat:r});return function(a){var h=a.elop,p=a.SD||a.DS,v;h?(v={"DenseMatrix, DenseMatrix":(d,D)=>i(...o(d,D),h),"Array, Array":(d,D)=>i(...o(n(d),n(D)),h).valueOf(),"Array, DenseMatrix":(d,D)=>i(...o(n(d),D),h),"DenseMatrix, Array":(d,D)=>i(...o(d,n(D)),h)},a.SS&&(v["SparseMatrix, SparseMatrix"]=(d,D)=>a.SS(...o(d,D),h,!1)),a.DS&&(v["DenseMatrix, SparseMatrix"]=(d,D)=>a.DS(...o(d,D),h,!1),v["Array, SparseMatrix"]=(d,D)=>a.DS(...o(n(d),D),h,!1)),p&&(v["SparseMatrix, DenseMatrix"]=(d,D)=>p(...o(D,d),h,!0),v["SparseMatrix, Array"]=(d,D)=>p(...o(n(D),d),h,!0))):(v={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(D,c)=>i(...o(D,c),d)),"Array, Array":t.referToSelf(d=>(D,c)=>i(...o(n(D),n(c)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(D,c)=>i(...o(n(D),c),d)),"DenseMatrix, Array":t.referToSelf(d=>(D,c)=>i(...o(D,n(c)),d))},a.SS&&(v["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(D,c)=>a.SS(...o(D,c),d,!1))),a.DS&&(v["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(D,c)=>a.DS(...o(D,c),d,!1)),v["Array, SparseMatrix"]=t.referToSelf(d=>(D,c)=>a.DS(...o(n(D),c),d,!1))),p&&(v["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(D,c)=>p(...o(c,D),d,!0)),v["SparseMatrix, Array"]=t.referToSelf(d=>(D,c)=>p(...o(n(c),D),d,!0))));var g=a.scalar||"any",E=a.Ds||a.Ss;E&&(h?(v["DenseMatrix,"+g]=(d,D)=>u(d,D,h,!1),v[g+", DenseMatrix"]=(d,D)=>u(D,d,h,!0),v["Array,"+g]=(d,D)=>u(n(d),D,h,!1).valueOf(),v[g+", Array"]=(d,D)=>u(n(D),d,h,!0).valueOf()):(v["DenseMatrix,"+g]=t.referToSelf(d=>(D,c)=>u(D,c,d,!1)),v[g+", DenseMatrix"]=t.referToSelf(d=>(D,c)=>u(c,D,d,!0)),v["Array,"+g]=t.referToSelf(d=>(D,c)=>u(n(D),c,d,!1).valueOf()),v[g+", Array"]=t.referToSelf(d=>(D,c)=>u(n(c),D,d,!0).valueOf())));var C=a.sS!==void 0?a.sS:a.Ss;return h?(a.Ss&&(v["SparseMatrix,"+g]=(d,D)=>a.Ss(d,D,h,!1)),C&&(v[g+", SparseMatrix"]=(d,D)=>C(D,d,h,!0))):(a.Ss&&(v["SparseMatrix,"+g]=t.referToSelf(d=>(D,c)=>a.Ss(D,c,d,!1))),C&&(v[g+", SparseMatrix"]=t.referToSelf(d=>(D,c)=>C(c,D,d,!0)))),h&&h.signatures&&uv(v,h.signatures),v}}),Oy="matAlgo01xDSid",Iy=["typed"],wh=pe(Oy,Iy,e=>{var{typed:t}=e;return function(r,i,u,o){var s=r._data,a=r._size,h=r._datatype||r.getDataType(),p=i._values,v=i._index,g=i._ptr,E=i._size,C=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(a.length!==E.length)throw new Ne(a.length,E.length);if(a[0]!==E[0]||a[1]!==E[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+E+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=a[0],D=a[1],c=typeof h=="string"&&h!=="mixed"&&h===C?h:void 0,f=c?t.find(u,[c,c]):u,l,w,y=[];for(l=0;l<d;l++)y[l]=[];var x=[],N=[];for(w=0;w<D;w++){for(var F=w+1,_=g[w],j=g[w+1],T=_;T<j;T++)l=v[T],x[l]=o?f(p[T],s[l][w]):f(s[l][w],p[T]),N[l]=F;for(l=0;l<d;l++)N[l]===F?y[l][w]=x[l]:y[l][w]=s[l][w]}return r.createDenseMatrix({data:y,size:[d,D],datatype:h===r._datatype&&C===i._datatype?c:void 0})}}),zy="matAlgo04xSidSid",Py=["typed","equalScalar"],$y=pe(zy,Py,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,o){var s=i._values,a=i._index,h=i._ptr,p=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType(),g=u._values,E=u._index,C=u._ptr,d=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(p.length!==d.length)throw new Ne(p.length,d.length);if(p[0]!==d[0]||p[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+d+")");var c=p[0],f=p[1],l,w=n,y=0,x=o;typeof v=="string"&&v===D&&v!=="mixed"&&(l=v,w=t.find(n,[l,l]),y=t.convert(0,l),x=t.find(o,[l,l]));var N=s&&g?[]:void 0,F=[],_=[],j=s&&g?[]:void 0,T=s&&g?[]:void 0,k=[],$=[],P,L,B,q,I;for(L=0;L<f;L++){_[L]=F.length;var Q=L+1;for(q=h[L],I=h[L+1],B=q;B<I;B++)P=a[B],F.push(P),k[P]=Q,j&&(j[P]=s[B]);for(q=C[L],I=C[L+1],B=q;B<I;B++)if(P=E[B],k[P]===Q){if(j){var U=x(j[P],g[B]);w(U,y)?k[P]=null:j[P]=U}}else F.push(P),$[P]=Q,T&&(T[P]=g[B]);if(j&&T)for(B=_[L];B<F.length;)P=F[B],k[P]===Q?(N[B]=j[P],B++):$[P]===Q?(N[B]=T[P],B++):F.splice(B,1)}return _[f]=F.length,i.createSparseMatrix({values:N,index:F,ptr:_,size:[c,f],datatype:v===i._datatype&&D===u._datatype?l:void 0})}}),Ry="matAlgo10xSids",Ly=["typed","DenseMatrix"],xh=pe(Ry,Ly,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,o,s){var a=i._values,h=i._index,p=i._ptr,v=i._size,g=i._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E=v[0],C=v[1],d,D=o;typeof g=="string"&&(d=g,u=t.convert(u,d),D=t.find(o,[d,d]));for(var c=[],f=[],l=[],w=0;w<C;w++){for(var y=w+1,x=p[w],N=p[w+1],F=x;F<N;F++){var _=h[F];f[_]=a[F],l[_]=y}for(var j=0;j<E;j++)w===0&&(c[j]=[]),l[j]===y?c[j][w]=s?D(u,f[j]):D(f[j],u):c[j][w]=u}return new n({data:c,size:[E,C],datatype:d})}}),Uy="multiplyScalar",Vy=["typed"],Wy=pe(Uy,Vy,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":dh,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),of="multiply",Hy=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],qy=pe(of,Hy,e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:u,dot:o}=e,s=yy({typed:t,equalScalar:u}),a=gh({typed:t});function h(y,x){switch(y.length){case 1:switch(x.length){case 1:if(y[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(y[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+x[0]+")");break;case 2:if(y[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function p(y,x,N){if(N===0)throw new Error("Cannot multiply two empty vectors");return o(y,x)}function v(y,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return g(y,x)}function g(y,x){var N=y._data,F=y._size,_=y._datatype||y.getDataType(),j=x._data,T=x._size,k=x._datatype||x.getDataType(),$=F[0],P=T[1],L,B=r,q=i;_&&k&&_===k&&typeof _=="string"&&_!=="mixed"&&(L=_,B=t.find(r,[L,L]),q=t.find(i,[L,L]));for(var I=[],Q=0;Q<P;Q++){for(var U=q(N[0],j[0][Q]),ne=1;ne<$;ne++)U=B(U,q(N[ne],j[ne][Q]));I[Q]=U}return y.createDenseMatrix({data:I,size:[P],datatype:_===y._datatype&&k===x._datatype?L:void 0})}var E=t("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":f}),C=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":c,"SparseMatrix, DenseMatrix":l,"SparseMatrix, SparseMatrix":w});function d(y,x){var N=y._data,F=y._size,_=y._datatype||y.getDataType(),j=x._data,T=x._datatype||x.getDataType(),k=F[0],$=F[1],P,L=r,B=i;_&&T&&_===T&&typeof _=="string"&&_!=="mixed"&&(P=_,L=t.find(r,[P,P]),B=t.find(i,[P,P]));for(var q=[],I=0;I<k;I++){for(var Q=N[I],U=B(Q[0],j[0]),ne=1;ne<$;ne++)U=L(U,B(Q[ne],j[ne]));q[I]=U}return y.createDenseMatrix({data:q,size:[k],datatype:_===y._datatype&&T===x._datatype?P:void 0})}function D(y,x){var N=y._data,F=y._size,_=y._datatype||y.getDataType(),j=x._data,T=x._size,k=x._datatype||x.getDataType(),$=F[0],P=F[1],L=T[1],B,q=r,I=i;_&&k&&_===k&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(B=_,q=t.find(r,[B,B]),I=t.find(i,[B,B]));for(var Q=[],U=0;U<$;U++){var ne=N[U];Q[U]=[];for(var ue=0;ue<L;ue++){for(var le=I(ne[0],j[0][ue]),me=1;me<P;me++)le=q(le,I(ne[me],j[me][ue]));Q[U][ue]=le}}return y.createDenseMatrix({data:Q,size:[$,L],datatype:_===y._datatype&&k===x._datatype?B:void 0})}function c(y,x){var N=y._data,F=y._size,_=y._datatype||y.getDataType(),j=x._values,T=x._index,k=x._ptr,$=x._size,P=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!j)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=F[0],B=$[1],q,I=r,Q=i,U=u,ne=0;_&&P&&_===P&&typeof _=="string"&&_!=="mixed"&&(q=_,I=t.find(r,[q,q]),Q=t.find(i,[q,q]),U=t.find(u,[q,q]),ne=t.convert(0,q));for(var ue=[],le=[],me=[],Ee=x.createSparseMatrix({values:ue,index:le,ptr:me,size:[L,B],datatype:_===y._datatype&&P===x._datatype?q:void 0}),ve=0;ve<B;ve++){me[ve]=le.length;var ge=k[ve],Re=k[ve+1];if(Re>ge)for(var we=0,xe=0;xe<L;xe++){for(var rt=xe+1,de=void 0,ye=ge;ye<Re;ye++){var Ue=T[ye];we!==rt?(de=Q(N[xe][Ue],j[ye]),we=rt):de=I(de,Q(N[xe][Ue],j[ye]))}we===rt&&!U(de,ne)&&(le.push(xe),ue.push(de))}}return me[B]=le.length,Ee}function f(y,x){var N=y._values,F=y._index,_=y._ptr,j=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=x._data,k=x._datatype||x.getDataType(),$=y._size[0],P=x._size[0],L=[],B=[],q=[],I,Q=r,U=i,ne=u,ue=0;j&&k&&j===k&&typeof j=="string"&&j!=="mixed"&&(I=j,Q=t.find(r,[I,I]),U=t.find(i,[I,I]),ne=t.find(u,[I,I]),ue=t.convert(0,I));var le=[],me=[];q[0]=0;for(var Ee=0;Ee<P;Ee++){var ve=T[Ee];if(!ne(ve,ue))for(var ge=_[Ee],Re=_[Ee+1],we=ge;we<Re;we++){var xe=F[we];me[xe]?le[xe]=Q(le[xe],U(ve,N[we])):(me[xe]=!0,B.push(xe),le[xe]=U(ve,N[we]))}}for(var rt=B.length,de=0;de<rt;de++){var ye=B[de];L[de]=le[ye]}return q[1]=B.length,y.createSparseMatrix({values:L,index:B,ptr:q,size:[$,1],datatype:j===y._datatype&&k===x._datatype?I:void 0})}function l(y,x){var N=y._values,F=y._index,_=y._ptr,j=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=x._data,k=x._datatype||x.getDataType(),$=y._size[0],P=x._size[0],L=x._size[1],B,q=r,I=i,Q=u,U=0;j&&k&&j===k&&typeof j=="string"&&j!=="mixed"&&(B=j,q=t.find(r,[B,B]),I=t.find(i,[B,B]),Q=t.find(u,[B,B]),U=t.convert(0,B));for(var ne=[],ue=[],le=[],me=y.createSparseMatrix({values:ne,index:ue,ptr:le,size:[$,L],datatype:j===y._datatype&&k===x._datatype?B:void 0}),Ee=[],ve=[],ge=0;ge<L;ge++){le[ge]=ue.length;for(var Re=ge+1,we=0;we<P;we++){var xe=T[we][ge];if(!Q(xe,U))for(var rt=_[we],de=_[we+1],ye=rt;ye<de;ye++){var Ue=F[ye];ve[Ue]!==Re?(ve[Ue]=Re,ue.push(Ue),Ee[Ue]=I(xe,N[ye])):Ee[Ue]=q(Ee[Ue],I(xe,N[ye]))}}for(var gt=le[ge],Lt=ue.length,Ut=gt;Ut<Lt;Ut++){var Dn=ue[Ut];ne[Ut]=Ee[Dn]}}return le[L]=ue.length,me}function w(y,x){var N=y._values,F=y._index,_=y._ptr,j=y._datatype||y._data===void 0?y._datatype:y.getDataType(),T=x._values,k=x._index,$=x._ptr,P=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=y._size[0],B=x._size[1],q=N&&T,I,Q=r,U=i;j&&P&&j===P&&typeof j=="string"&&j!=="mixed"&&(I=j,Q=t.find(r,[I,I]),U=t.find(i,[I,I]));for(var ne=q?[]:void 0,ue=[],le=[],me=y.createSparseMatrix({values:ne,index:ue,ptr:le,size:[L,B],datatype:j===y._datatype&&P===x._datatype?I:void 0}),Ee=q?[]:void 0,ve=[],ge,Re,we,xe,rt,de,ye,Ue,gt=0;gt<B;gt++){le[gt]=ue.length;var Lt=gt+1;for(rt=$[gt],de=$[gt+1],xe=rt;xe<de;xe++)if(Ue=k[xe],q)for(Re=_[Ue],we=_[Ue+1],ge=Re;ge<we;ge++)ye=F[ge],ve[ye]!==Lt?(ve[ye]=Lt,ue.push(ye),Ee[ye]=U(T[xe],N[ge])):Ee[ye]=Q(Ee[ye],U(T[xe],N[ge]));else for(Re=_[Ue],we=_[Ue+1],ge=Re;ge<we;ge++)ye=F[ge],ve[ye]!==Lt&&(ve[ye]=Lt,ue.push(ye));if(q)for(var Ut=le[gt],Dn=ue.length,wn=Ut;wn<Dn;wn++){var Jr=ue[wn];ne[wn]=Ee[Jr]}}return le[B]=ue.length,me}return t(of,i,{"Array, Array":t.referTo("Matrix, Matrix",y=>(x,N)=>{h(Pt(x),Pt(N));var F=y(n(x),n(N));return at(F)?F.valueOf():F}),"Matrix, Matrix":function(x,N){var F=x.size(),_=N.size();return h(F,_),F.length===1?_.length===1?p(x,N,F[0]):v(x,N):_.length===1?E(x,N):C(x,N)},"Matrix, Array":t.referTo("Matrix,Matrix",y=>(x,N)=>y(x,n(N))),"Array, Matrix":t.referToSelf(y=>(x,N)=>y(n(x,N.storage()),N)),"SparseMatrix, any":function(x,N){return s(x,N,i,!1)},"DenseMatrix, any":function(x,N){return a(x,N,i,!1)},"any, SparseMatrix":function(x,N){return s(N,x,i,!0)},"any, DenseMatrix":function(x,N){return a(N,x,i,!0)},"Array, any":function(x,N){return a(n(x),N,i,!1).valueOf()},"any, Array":function(x,N){return a(n(N),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(y=>(x,N,F)=>{for(var _=y(x,N),j=0;j<F.length;j++)_=y(_,F[j]);return _})})}),sf="subtract",Qy=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Gy=pe(sf,Qy,e=>{var{typed:t,matrix:n,equalScalar:r,subtractScalar:i,unaryMinus:u,DenseMatrix:o,concat:s}=e,a=wh({typed:t}),h=yh({typed:t}),p=Dh({typed:t,equalScalar:r}),v=xh({typed:t,DenseMatrix:o}),g=vh({typed:t,DenseMatrix:o}),E=Fl({typed:t,matrix:n,concat:s});return t(sf,{"any, any":i},E({elop:i,SS:p,DS:a,SD:h,Ss:g,sS:v}))}),af="conj",Ky=["typed"],Zy=pe(af,Ky,e=>{var{typed:t}=e;return t(af,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>r=>tu(r,n))})}),lf="concat",Yy=["typed","matrix","isInteger"],Jy=pe(lf,Yy,e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(lf,{"...Array | Matrix | number | BigNumber":function(u){var o,s=u.length,a=-1,h,p=!1,v=[];for(o=0;o<s;o++){var g=u[o];if(at(g)&&(p=!0),Me(g)||Je(g)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(h=a,a=g.valueOf(),!r(a))throw new TypeError("Integer number expected for dimension");if(a<0||o>0&&a>h)throw new cr(a,h+1)}else{var E=Qe(g).valueOf(),C=Pt(E);if(v[o]=E,h=a,a=C.length-1,o>0&&a!==h)throw new Ne(h+1,a+1)}}if(v.length===0)throw new SyntaxError("At least one matrix expected");for(var d=v.shift();v.length;)d=ah(d,v.shift(),a);return p?n(d):d},"...string":function(u){return u.join("")}})});function Xy(){throw new Error('No "matrix" implementation available')}var cf="size",eD=["typed","config","?matrix"],tD=pe(cf,eD,e=>{var{typed:t,config:n,matrix:r}=e;return t(cf,{Matrix:function(u){return u.create(u.size())},Array:Pt,string:function(u){return n.matrix==="Array"?[u.length]:r([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:r?r([]):Xy()}})}),Do="compare",nD=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],rD=pe(Do,nD,e=>{var{typed:t,config:n,equalScalar:r,matrix:i,BigNumber:u,Fraction:o,DenseMatrix:s,concat:a}=e,h=yh({typed:t}),p=Dh({typed:t,equalScalar:r}),v=vh({typed:t,DenseMatrix:s}),g=Fl({typed:t,matrix:i,concat:a}),E=mh({typed:t});return t(Do,iD({typed:t,config:n}),{"boolean, boolean":function(d,D){return d===D?0:d>D?1:-1},"BigNumber, BigNumber":function(d,D){return ph(d,D,n.epsilon)?new u(0):new u(d.cmp(D))},"Fraction, Fraction":function(d,D){return new o(d.compare(D))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},E,g({SS:p,DS:h,Ss:v}))}),iD=pe(Do,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Do,{"number, number":function(i,u){return Qi(i,u,n.epsilon)?0:i>u?1:-1}})}),ff="add",uD=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],oD=pe(ff,uD,e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:u,SparseMatrix:o,concat:s}=e,a=wh({typed:t}),h=$y({typed:t,equalScalar:i}),p=xh({typed:t,DenseMatrix:u}),v=Fl({typed:t,matrix:n,concat:s});return t(ff,{"any, any":r,"any, any, ...any":t.referToSelf(g=>(E,C,d)=>{for(var D=g(E,C),c=0;c<d.length;c++)D=g(D,d[c]);return D})},v({elop:r,DS:a,SS:h,Ss:p}))}),df="dot",sD=["typed","addScalar","multiplyScalar","conj","size"],aD=pe(df,sD,e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:u}=e;return t(df,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":a});function o(p,v){var g=h(p),E=h(v),C,d;if(g.length===1)C=g[0];else if(g.length===2&&g[1]===1)C=g[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");if(E.length===1)d=E[0];else if(E.length===2&&E[1]===1)d=E[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+E.join(", ")+")");if(C!==d)throw new RangeError("Vectors must have equal length ("+C+" != "+d+")");if(C===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return C}function s(p,v){var g=o(p,v),E=at(p)?p._data:p,C=at(p)?p._datatype||p.getDataType():void 0,d=at(v)?v._data:v,D=at(v)?v._datatype||v.getDataType():void 0,c=h(p).length===2,f=h(v).length===2,l=n,w=r;if(C&&D&&C===D&&typeof C=="string"&&C!=="mixed"){var y=C;l=t.find(n,[y,y]),w=t.find(r,[y,y])}if(!c&&!f){for(var x=w(i(E[0]),d[0]),N=1;N<g;N++)x=l(x,w(i(E[N]),d[N]));return x}if(!c&&f){for(var F=w(i(E[0]),d[0][0]),_=1;_<g;_++)F=l(F,w(i(E[_]),d[_][0]));return F}if(c&&!f){for(var j=w(i(E[0][0]),d[0]),T=1;T<g;T++)j=l(j,w(i(E[T][0]),d[T]));return j}if(c&&f){for(var k=w(i(E[0][0]),d[0][0]),$=1;$<g;$++)k=l(k,w(i(E[$][0]),d[$][0]));return k}}function a(p,v){o(p,v);for(var g=p._index,E=p._values,C=v._index,d=v._values,D=0,c=n,f=r,l=0,w=0;l<g.length&&w<C.length;){var y=g[l],x=C[w];if(y<x){l++;continue}if(y>x){w++;continue}y===x&&(D=c(D,f(E[l],d[w])),l++,w++)}return D}function h(p){return at(p)?p.size():u(p)}}),Eh=Cg({config:eu}),lD=Mg({}),Al=Tg({}),Sl=Ig({}),nu=Kg({Matrix:Sl}),nt=Sv({BigNumber:Eh,Complex:lD,DenseMatrix:nu,Fraction:Al}),_l=hy({typed:nt}),cD=Zy({typed:nt}),ru=ty({config:eu,typed:nt}),fD=Yg({typed:nt}),Nh=Wy({typed:nt}),Ch=iy({Matrix:Sl,equalScalar:ru,typed:nt}),dD=my({typed:nt}),hD=fy({typed:nt}),hf=sy({Fraction:Al,typed:nt}),Yr=ly({DenseMatrix:nu,Matrix:Sl,SparseMatrix:Ch,typed:nt}),pD=tD({matrix:Yr,config:eu,typed:nt}),Ml=Jy({isInteger:fD,matrix:Yr,typed:nt}),mD=Gy({DenseMatrix:nu,concat:Ml,equalScalar:ru,matrix:Yr,subtractScalar:dD,typed:nt,unaryMinus:hD}),vD=oD({DenseMatrix:nu,SparseMatrix:Ch,addScalar:_l,concat:Ml,equalScalar:ru,matrix:Yr,typed:nt}),gD=rD({BigNumber:Eh,DenseMatrix:nu,Fraction:Al,concat:Ml,config:eu,equalScalar:ru,matrix:Yr,typed:nt}),yD=aD({addScalar:_l,conj:cD,multiplyScalar:Nh,size:pD,typed:nt}),DD=qy({addScalar:_l,dot:yD,equalScalar:ru,matrix:Yr,multiplyScalar:Nh,typed:nt});function dt(e,t){return typeof e=="number"&&typeof t=="number"?hf(e,t):hf(e)}const Fa=(e,t)=>vD(e,t),Ns=(e,t)=>mD(e,t),Fh=(e,t)=>DD(e,t),Jt=(e,t)=>gD(e,t)<0,Br=e=>Number(e.valueOf());function pf(e){return dt(e)}function vr(){return{__rest:!0}}function wD({timeSig:e={beatsPerBar:4,beatUnit:4},bars:t=1,points:n=[]}){const r=dt(e.beatsPerBar*t,1),i=[];for(const f of n){const l=pf(f.startBeat),w=pf(f.duration),y=Math.max(1,Number(f.repeat||1)|0),x=Array.isArray(f.notes)&&f.notes.length>0?f.notes:[f],N=x.map(U=>Number.isFinite(Number(U.degree))?Number(U.degree):null).filter(U=>U!=null),F=x.map(U=>Number.isFinite(Number(U.octave))?Number(U.octave):null).filter(U=>U!=null),_=x.map(U=>Number.isFinite(Number(U.root))?Number(U.root):null).filter(U=>U!=null),j=x.map(U=>U&&typeof U.scale=="string"?U.scale:null),T=x.map(U=>Number.isFinite(Number(U.legato))?Number(U.legato):1),k=x.map(U=>Number.isFinite(Number(U.amp))?Number(U.amp):1),$=N.length<=1?N[0]??null:N,P=F.length<=1?F[0]??null:F,L=_.length<=1?_[0]??null:_,B=j.find(U=>U&&U!=="none")??null,q=T.length<=1?T[0]??1:T,I=k.length<=1?k[0]??1:k,Q=f&&f.strum!==""&&f.strum!=null&&Number.isFinite(Number(f.strum))?Number(f.strum):null;for(let U=0;U<y;U++){const ne=Fh(w,dt(U,1)),ue=B&&B!=="none"?B:null,le=Array.isArray(q)?q.map(me=>Number.isFinite(Number(me))?Number(me):1):Number.isFinite(Number(q))?Number(q):1;i.push({start:Fa(l,ne),dur:w,degree:$??null,octave:P??null,scale:ue,root:L??null,legato:le,amp:I,strum:Q})}}i.sort((f,l)=>Jt(f.start,l.start)?-1:Jt(l.start,f.start)?1:Jt(f.dur,l.dur)?-1:Jt(l.dur,f.dur)?1:0);const u=[];let o=dt(0,1);for(let f=0;f<i.length;f++){const l=i[f];if(Jt(o,l.start)){const F=Ns(l.start,o);u.push({rest:!0,dur:F}),o=l.start}const w=Fa(l.start,l.dur),y=f+1<i.length?i[f+1].start:r,x=Jt(y,w)?y:w,N=Jt(r,x)?r:x;if(Jt(o,N)){const F=Ns(N,o);u.push({rest:!1,dur:F,degree:l.degree??null,octave:l.octave??null,scale:l.scale??null,root:l.root??null,legato:l.legato==null?1:l.legato,amp:l.amp==null?1:l.amp,strum:l.strum==null?null:l.strum}),o=N}if(!Jt(o,r))break}Jt(o,r)&&u.push({rest:!0,dur:Ns(r,o)});const s=u.map(f=>f.dur),a=s.map(f=>Br(f)),h=[],p=[],v=[],g=[],E=[],C=[],d=[];let D=null,c=null;for(const f of u)h.push(f.rest?vr():f.degree==null?null:f.degree),p.push(f.rest?vr():f.octave==null?null:f.octave),!f.rest&&f.root!=null&&(D=f.root),v.push(D??0),f.rest?g.push(vr()):(c=f.scale==null?null:f.scale,g.push(c)),E.push(f.rest?vr():f.legato==null?1:f.legato),C.push(f.rest?vr():f.amp==null?1:f.amp),d.push(f.rest?vr():f.strum==null?0:f.strum);return{chunks:u,durs:a,dursFr:s,degrees:h,octaves:p,roots:v,scales:g,legatos:E,amps:C,strums:d,totalBeats:Br(r)}}function Ah(e){try{if(e&&typeof e=="object"&&"n"in e&&"d"in e){const t=e.s<0?"-":"",n=e.n,r=e.d;return r===1?`${t}${n}`:`${t}${n}/${r}`}if(e&&typeof e.toFraction=="function")return e.toFraction()}catch{}return String(e)}function Nn(e,t=n=>String(n)){const n=[];if(!Array.isArray(e)||e.length===0)return n;let r=e[0],i=1;for(let u=1;u<e.length;u++){const o=e[u];o===r?i++:(i>1?n.push(`Pn(${t(r)}, ${i})`):n.push(t(r)),r=o,i=1)}return i>1?n.push(`Pn(${t(r)}, ${i})`):n.push(t(r)),n}function xD({durs:e,dursFr:t,degrees:n,octaves:r,roots:i,scales:u,legatos:o,amps:s,strums:a},h={}){const{compress:p=!0,loopCount:v=null,instrument:g=""}=h,E=Number.isFinite(Number(v))&&Number(v)>0?String(Math.floor(Number(v))):"inf",C=(()=>{const B=String(g||"").trim();return B?B.startsWith("\\")?B:`\\${B}`:"\\default"})(),d=(B,q=I=>String(I))=>"["+B.map(q).join(", ")+"]",D=Array.isArray(r)?r.map(B=>B&&B.__rest||B==null?"Rest()":Array.isArray(B)?d(B,q=>String(q)):String(B)):[],c=D.length>0?p?Nn(D,B=>B).join(", "):D.join(", "):"",f=Array.isArray(n)?n.map(B=>B&&B.__rest||B==null?"Rest()":Array.isArray(B)?d(B,q=>String(q)):String(B)):[],l=f.length>0?p?Nn(f,B=>B).join(", "):f.join(", "):"",w=Array.isArray(i)?i.map(B=>B==null?"0":Array.isArray(B)?d(B,q=>String(q??0)):String(B)):[],y=w.length>0?p?Nn(w,B=>B).join(", "):w.join(", "):"",x=Array.isArray(u)?u.map(B=>{if(B&&B.__rest||B==null)return"Rest()";if(Array.isArray(B)){const q=B.find(I=>I!=null);return q?`Scale.${String(q)}`:"Rest()"}return`Scale.${String(B)}`}):[],N=x.length>0?p?Nn(x,B=>B).join(", "):x.join(", "):"",F=Array.isArray(o)?o.map(B=>B&&B.__rest||B==null?"Rest()":Array.isArray(B)?d(B,q=>String(q)):String(B)):[],_=F.length>0?p?Nn(F,B=>B).join(", "):F.join(", "):"",j=Array.isArray(s)?s.map(B=>B&&B.__rest||B==null?"Rest()":Array.isArray(B)?d(B,q=>String(q)):String(B)):[],T=j.length>0?p?Nn(j,B=>B).join(", "):j.join(", "):"",k=Array.isArray(a)?a.map(B=>B&&B.__rest||B==null?"Rest()":Array.isArray(B)?d(B,q=>String(q)):String(B)):[],$=k.length>0?p?Nn(k,B=>B).join(", "):k.join(", "):"",P=Array.isArray(t)&&t.length>0?t.map(B=>Ah(B)):e.map(B=>String(+Number(B).toFixed(6))),L=P.length>0?p?Nn(P,B=>B).join(", "):P.join(", "):"";return`(
Pbind(
  \\instrument, ${C},
  \\scale, Pseq([${N}], ${E}),
  \\root,  Pseq([${y}], ${E}),
  \\octave, Pseq([${c}], ${E}),
  \\degree, Pseq([${l}], ${E}),
  \\legato, Pseq([${_}], ${E}),
  \\amp, Pseq([${T}], ${E}),
  \\strum, Pseq([${$}], ${E}),
  \\dur,  Pseq([${L}], ${E})
).play
)`}function Sh({note:e="C",octave:t="4",selectedDegree:n="",selectedScaleId:r="",onNoteChange:i,onOctaveChange:u,onSelectedScaleChange:o,onSelectedDegreeChange:s,scales:a=[],selectedScale:h=null}){var ee;const p="musiclab:pbind:points",v="musiclab:pbind:settings",g="musiclab:pbind:form",E="musiclab:pbind:previewOptions",C="musiclab:pbind:showKeys",[d,D]=X.useState(4),[c,f]=X.useState(4),[l,w]=X.useState(1),[y,x]=X.useState([]),[N,F]=X.useState({startBeat:"0",duration:"1",legato:"1",amp:"1",repeat:1}),[_,j]=X.useState(null),[T,k]=X.useState(!0),[$,P]=X.useState(""),[L,B]=X.useState(""),[q,I]=X.useState(!0),Q=A=>Array.isArray(A)?[...A].sort((S,z)=>{const G=Number.isFinite(Number(S==null?void 0:S.octave))?Number(S.octave):Number.NEGATIVE_INFINITY,V=Number.isFinite(Number(z==null?void 0:z.octave))?Number(z.octave):Number.NEGATIVE_INFINITY;if(G!==V)return G-V;const te=Number.isFinite(Number(S==null?void 0:S.degree))?Number(S.degree):Number.NEGATIVE_INFINITY,O=Number.isFinite(Number(z==null?void 0:z.degree))?Number(z.degree):Number.NEGATIVE_INFINITY;return te-O}):A,[U,ne]=X.useState(!1),[ue,le]=X.useState(""),[me,Ee]=X.useState(""),[ve,ge]=X.useState(!1),[Re,we]=X.useState(!1),[xe,rt]=X.useState(null),[de,ye]=X.useState(0);function Ue(){try{const A=localStorage.getItem(p);if(A)try{le(JSON.stringify(JSON.parse(A),null,2))}catch{le(A)}else le(JSON.stringify(y,null,2))}catch{le(JSON.stringify(y,null,2))}Ee(""),ne(!0)}function gt(){Ee("");let A;try{A=JSON.parse(ue)}catch{Ee("Invalid JSON. Please fix and try again.");return}if(!Array.isArray(A)){Ee("JSON must be an array of points: [{ startBeat, duration, repeat, notes: [{ legato, amp, scale, root, degree, octave }] }, ...]");return}const S=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],z=S.indexOf(e)>=0?S.indexOf(e):0,G=r||"none",V=O=>({legato:Number.isFinite(Number(O==null?void 0:O.legato))?Number(O.legato):1,amp:Number.isFinite(Number(O==null?void 0:O.amp))?Number(O.amp):1,scale:typeof(O==null?void 0:O.scale)=="string"?O.scale:G,root:Number.isFinite(Number(O==null?void 0:O.root))?Number(O.root):z,degree:Number.isFinite(Number(O==null?void 0:O.degree))?Number(O.degree):Number.isFinite(Number(n))?Number(n):null,octave:Number.isFinite(Number(O==null?void 0:O.octave))?Number(O.octave):Number.isFinite(Number(t))?Number(t):null}),te=A.filter(O=>O&&typeof O=="object").map(O=>{const re={startBeat:String(O.startBeat??"0"),duration:String(O.duration??"1"),repeat:Math.max(1,Number(O.repeat??1)|0)},ae=Array.isArray(O.notes)&&O.notes.length>0?O.notes.map(V):[V(O)],fe=O.strum===""||O.strum==null?"":String(O.strum);return{...re,strum:fe,notes:ae}});try{const O=te.map(re=>({...re,notes:Q(re.notes)}));localStorage.setItem(p,JSON.stringify(O)),x(O)}catch{x(te)}ne(!1)}function Lt(){const A=_;if(!A)return!1;try{dt(A.startBeat),dt(A.duration)}catch{return window.alert("Please enter valid startBeat and duration (e.g., 1, 0.5, 1/3)"),!1}const S=Math.max(1,Number(A.repeat)|0),z=(Array.isArray(A.notes)&&A.notes.length>0?A.notes:[{}]).map(G=>{const V=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],te=Number.isFinite(Number(G==null?void 0:G.root))?(Number(G.root)%12+12)%12:V.indexOf(e)>=0?V.indexOf(e):0,O=typeof(G==null?void 0:G.scale)=="string"?G.scale:r||"none",re=Number.isFinite(Number(G==null?void 0:G.legato))?Number(G.legato):1,ae=Number.isFinite(Number(G==null?void 0:G.amp))?Number(G.amp):1,fe=Number.isFinite(Number(G==null?void 0:G.degree))?Number(G.degree):Number.isFinite(Number(n))?Number(n):null,Ae=Number.isFinite(Number(G==null?void 0:G.octave))?Number(G.octave):Number.isFinite(Number(t))?Number(t):null;return{legato:re,amp:ae,scale:O,root:te,degree:fe,octave:Ae}});return x(G=>[...G,{startBeat:String(A.startBeat),duration:String(A.duration),repeat:S,strum:A.strum==null?"":String(A.strum),notes:z}]),!0}function Ut(A){x(S=>S.filter((z,G)=>G!==A))}function Dn(A){x(S=>{const z=S[A];if(!z)return S;let G,V;try{G=dt(z.startBeat)}catch{return S}try{V=dt(z.duration)}catch{return S}const te=Math.max(1,Number(z.repeat)|0),O=Fh(V,dt(te,1)),re=Fa(G,O),ae={startBeat:`${re.n}/${re.d}`.replace(/\/1$/,""),duration:String(z.duration),repeat:1,strum:z.strum==null?"":String(z.strum),notes:(Array.isArray(z.notes)?z.notes:[]).map(fe=>({...fe}))};return[...S,ae]})}function wn(){if(!Re||xe==null)return!1;const A=_;if(!A)return!1;try{dt(A.startBeat),dt(A.duration)}catch{return window.alert("Please enter valid startBeat and duration (e.g., 1, 0.5, 1/3)"),!1}const S=Math.max(1,Number(A.repeat)|0),z=(Array.isArray(A.notes)&&A.notes.length>0?A.notes:[{}]).map(V=>{const te=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],O=Number.isFinite(Number(V==null?void 0:V.root))?(Number(V.root)%12+12)%12:te.indexOf(e)>=0?te.indexOf(e):0,re=typeof(V==null?void 0:V.scale)=="string"?V.scale:r||"none",ae=Number.isFinite(Number(V==null?void 0:V.legato))?Number(V.legato):1,fe=Number.isFinite(Number(V==null?void 0:V.amp))?Number(V.amp):1,Ae=Number.isFinite(Number(V==null?void 0:V.degree))?Number(V.degree):Number.isFinite(Number(n))?Number(n):null,_e=Number.isFinite(Number(V==null?void 0:V.octave))?Number(V.octave):Number.isFinite(Number(t))?Number(t):null;return{legato:ae,amp:fe,scale:re,root:O,degree:Ae,octave:_e}}),G={startBeat:String(A.startBeat),duration:String(A.duration),repeat:S,strum:A.strum==null?"":String(A.strum),notes:z};return x(V=>V.map((te,O)=>O===xe?G:te)),!0}X.useEffect(()=>{try{const A=localStorage.getItem(p);if(A){const S=JSON.parse(A);if(Array.isArray(S)){const z=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],G=z.indexOf(e)>=0?z.indexOf(e):0,V=O=>({legato:Number.isFinite(Number(O==null?void 0:O.legato))?Number(O.legato):1,amp:Number.isFinite(Number(O==null?void 0:O.amp))?Number(O.amp):1,scale:typeof(O==null?void 0:O.scale)=="string"?O.scale:r||"none",root:Number.isFinite(Number(O==null?void 0:O.root))?Number(O.root):G,degree:Number.isFinite(Number(O==null?void 0:O.degree))?Number(O.degree):Number.isFinite(Number(n))?Number(n):null,octave:Number.isFinite(Number(O==null?void 0:O.octave))?Number(O.octave):Number.isFinite(Number(t))?Number(t):null}),te=S.filter(O=>O&&typeof O=="object").map(O=>{const re={startBeat:String(O.startBeat??"0"),duration:String(O.duration??"1"),repeat:Math.max(1,Number(O.repeat??1)|0)},ae=Array.isArray(O.notes)&&O.notes.length>0?O.notes.map(V):[V(O)],fe=O.strum===""||O.strum==null?"":String(O.strum);return{...re,strum:fe,notes:ae}});x(te)}}}catch{}},[]),X.useEffect(()=>{try{const A=localStorage.getItem(v);if(A){const S=JSON.parse(A);if(S&&typeof S=="object"){const z=Math.max(1,Number(S.beatsPerBar??4)|0),G=Math.max(1,Number(S.beatUnit??4)|0),V=Math.max(1,Number(S.bars??1)|0);D(z),f(G),w(V)}}}catch{}try{const A=localStorage.getItem(g);if(A){const S=JSON.parse(A);S&&typeof S=="object"&&F({startBeat:String(S.startBeat??"0"),duration:String(S.duration??"1"),legato:String(S.legato??"1"),amp:String(S.amp??"1"),repeat:Math.max(1,Number(S.repeat??1)|0)})}}catch{}},[]),X.useEffect(()=>{try{const A=y.map(S=>({...S,notes:Q(S.notes)}));localStorage.setItem(p,JSON.stringify(A))}catch{}},[y]),X.useEffect(()=>{try{localStorage.setItem(v,JSON.stringify({beatsPerBar:d,beatUnit:c,bars:l}))}catch{}},[d,c,l]),X.useEffect(()=>{try{localStorage.setItem(g,JSON.stringify(N))}catch{}},[N]),X.useEffect(()=>{try{const A=localStorage.getItem(E);if(A){const S=JSON.parse(A);S&&typeof S=="object"&&(typeof S.compressOutput=="boolean"&&k(S.compressOutput),Object.prototype.hasOwnProperty.call(S,"loopCount")&&P(String(S.loopCount??"")),typeof S.instrument=="string"&&B(S.instrument))}}catch{}},[]),X.useEffect(()=>{try{const A=localStorage.getItem(C);if(A!=null){let S;try{S=JSON.parse(A)}catch{S=A==="true"||A==="1"}I(!!S)}}catch{}},[]),X.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify({compressOutput:T,loopCount:$,instrument:L}))}catch{}},[T,$,L]),X.useEffect(()=>{try{localStorage.setItem(C,JSON.stringify(q))}catch{}},[q]),X.useEffect(()=>{if(!ve)return;function A(S){S.key==="Escape"&&ge(!1)}return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[ve]),X.useEffect(()=>{if(!ve||Re)return;const A=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],S=A.indexOf(e)>=0?A.indexOf(e):0,z=r||"none",G=Number(n),V=Number.isFinite(G)?G:null,te=Number.isFinite(Number(t))?Number(t):null;j({startBeat:String(N.startBeat??"0"),duration:String(N.duration??"1"),repeat:Math.max(1,Number(N.repeat??1)|0),strum:"",notes:[{legato:String(N.legato??"1"),amp:String(N.amp??"1"),scale:z,root:S,degree:V,octave:te}]}),ye(0)},[ve]);function Jr(){j(A=>{if(!A)return A;const S=Array.isArray(A.notes)?[...A.notes]:[],G={...S[de]||S[0]||{legato:"1",amp:"1",scale:r||"none",root:0,degree:null,octave:null}};return S.push(G),ye(S.length-1),{...A,notes:S}})}function Lo(){j(A=>{if(!A)return A;const S=Array.isArray(A.notes)?[...A.notes]:[];if(S.length<=1)return A;const z=Math.min(de,S.length-1);S.splice(z,1);const G=Math.max(0,z-1);return ye(G),{...A,notes:S}})}X.useEffect(()=>{if(!ve||Re)return;const A=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],S=A.indexOf(e)>=0?A.indexOf(e):0,z=r||"none",G=Number(n),V=Number.isFinite(G)?G:null,te=Number.isFinite(Number(t))?Number(t):null;j({startBeat:String(N.startBeat??"0"),duration:String(N.duration??"1"),repeat:Math.max(1,Number(N.repeat??1)|0),strum:"",notes:[{legato:String(N.legato??"1"),amp:String(N.amp??"1"),scale:z,root:S,degree:V,octave:te}]})},[ve]);function iu(){we(!1),rt(null),ge(!0)}function M(A){const S=y[A];if(!S)return;const z=(Array.isArray(S.notes)&&S.notes.length>0?S.notes:[{}]).map(G=>({legato:G.legato==null?"1":String(G.legato),amp:G.amp==null?"1":String(G.amp),scale:typeof G.scale=="string"?G.scale:r||"none",root:Number.isFinite(Number(G.root))?Number(G.root):0,degree:Number.isFinite(Number(G.degree))?Number(G.degree):null,octave:Number.isFinite(Number(G.octave))?Number(G.octave):null}));j({startBeat:String(S.startBeat??"0"),duration:String(S.duration??"1"),repeat:Math.max(1,Number(S.repeat??1)|0),strum:S.strum==null?"":String(S.strum),notes:z}),ye(0),we(!0),rt(A),ge(!0)}function b(){ge(!1),we(!1),rt(null)}const R=X.useMemo(()=>{const A=[];if(!_||!Array.isArray(_.notes))return A;for(const S of _.notes){const z=Number(S==null?void 0:S.degree),G=Number(S==null?void 0:S.octave),V=Number.isFinite(Number(S==null?void 0:S.root))?(Number(S.root)%12+12)%12:null;if(!Number.isFinite(z)||!Number.isFinite(G)||!Number.isFinite(V))continue;const O=(G+1)*12+V+z;Number.isFinite(O)&&A.push(O)}return Array.from(new Set(A)).sort((S,z)=>S-z)},[_]),H=X.useMemo(()=>wD({timeSig:{beatsPerBar:d},bars:l,points:y}),[d,c,l,y]),Y=X.useMemo(()=>xD(H,{compress:T,loopCount:$,instrument:L}),[H,T,$,L]);function K({highlighted:A}){const S=X.useRef(null),z=X.useMemo(()=>{const te=(A||[]).map(Number).filter(Ae=>Number.isFinite(Ae));if(te.length===0)return{start:21,end:108};let O=Math.min(...te),re=Math.max(...te);O=Math.max(21,O-7),re=Math.min(108,re+7);const ae=Math.max(21,O-O%12),fe=Math.min(108,re+(11-re%12));return fe-ae<12?{start:Math.max(21,ae-6),end:Math.min(108,fe+6)}:{start:ae,end:fe}},[A]);return X.useEffect(()=>{S.current&&Array.isArray(A)&&S.current.scrollToMidis(A)},[A]),m.jsx("div",{style:{width:"100%",maxWidth:"100%",overflowX:"auto"},children:m.jsx(lo,{ref:S,highlighted:A,startMidi:z.start,endMidi:z.end,hideScrollbar:!1})})}return m.jsxs("section",{className:"tool-panel",children:[m.jsxs("div",{className:"level",children:[m.jsx("div",{className:"level-left",children:m.jsx("h2",{className:"title is-3",children:"Pbind"})}),m.jsx("div",{className:"level-right",children:m.jsx("div",{className:"level-item",children:m.jsxs("button",{type:"button",className:"button is-small",onClick:Ue,disabled:y.length<1,title:y.length<1?"Add at least one point to enable":"Export/Import Pbind points",children:[m.jsx("span",{className:"icon is-small",style:{marginRight:6},children:m.jsx("i",{className:"fas fa-database","aria-hidden":"true"})}),m.jsx("span",{children:"Export / Import"})]})})})]}),m.jsxs("div",{className:"content",children:[m.jsxs("div",{className:"box",children:[m.jsx("h3",{className:"title is-6",children:"Timeline settings"}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Beats per bar"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",min:1,value:d,onChange:A=>D(Math.max(1,Number(A.target.value)|0))})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Beat unit"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",min:1,value:c,onChange:A=>f(Math.max(1,Number(A.target.value)|0))})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Bars"}),m.jsx("div",{className:"control",children:m.jsx("input",{className:"input is-small",type:"number",min:1,value:l,onChange:A=>w(Math.max(1,Number(A.target.value)|0))})})]})]})]}),m.jsxs("div",{className:"box",children:[m.jsx("h3",{className:"title is-6",style:{marginBottom:"0.5rem"},children:"Timeline"}),m.jsxs("div",{style:{position:"relative",width:"100%",height:"36px",border:"1px solid #ddd",borderRadius:"4px",background:"#fafafa",overflow:"hidden"},children:[Array.from({length:Math.max(0,d*l-1)}).map((A,S)=>m.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:`${(S+1)/(d*l)*100}%`,width:"1px",background:(S+1)%d===0?"#bbb":"#e3e3e3"}},`beat-${S}`)),m.jsx("div",{style:{display:"flex",height:"100%",width:"100%"},children:(()=>{let A=0;return H.chunks.map((S,z)=>{const G=H.durs[z]/(H.totalBeats||1)*100,V=Array.isArray(S.degree)?S.degree.filter(_e=>Number.isFinite(Number(_e))):S.degree!=null&&Number.isFinite(Number(S.degree))?[Number(S.degree)]:[],te=!S.rest&&V.length>0,O=te&&V.length>1,re=_e=>`hsl(${(Math.round(Number(_e))%12+12)%12*30}, 70%, 60%)`,ae=(()=>{if(!te)return`rest, dur: ${String(S.dur)}`;if(O)return`chord (${V.length} notes), degrees [${V.join(", ")}], dur: ${String(S.dur)}`;const _e=V[0],ft=Array.isArray(S.octave)?S.octave[0]:S.octave;return`note #${A+1} (degree ${_e}${ft!=null?` @ octave ${ft}`:""}), dur: ${String(S.dur)}`})(),fe=te&&!O&&G>=6,Ae=te&&!O?String(++A):"";if(!te)return m.jsx("div",{title:ae,style:{position:"relative",width:`${G}%`,height:"100%",background:"#dcdcdc",borderRight:"1px solid rgba(255,255,255,0.9)"}},z);if(!O){const _e=re(V[0]??0);return m.jsx("div",{title:ae,style:{position:"relative",width:`${G}%`,height:"100%",background:_e,borderRight:"1px solid rgba(255,255,255,0.9)"},children:fe&&m.jsx("span",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"10px",lineHeight:1,color:"#fff",textShadow:"0 1px 2px rgba(0,0,0,0.65)",pointerEvents:"none",userSelect:"none"},children:Ae})},z)}return m.jsx("div",{title:ae,style:{position:"relative",width:`${G}%`,height:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid rgba(255,255,255,0.9)",background:"transparent"},children:V.map((_e,ft)=>m.jsx("div",{style:{flex:"1 1 0",background:re(_e),borderTop:ft===0?"none":"1px solid rgba(255,255,255,0.9)"}},`deg-${ft}`))},z)})})()})]}),m.jsx("div",{style:{marginTop:"4px",width:"100%",display:"flex"},children:Array.from({length:Math.max(1,d*l)}).map((A,S)=>m.jsx("div",{style:{flex:"1 1 0",textAlign:"left",fontSize:"10px",color:"#777",lineHeight:"1",paddingTop:"2px",paddingLeft:"2px",borderRight:S<d*l-1?"1px solid #f0f0f0":"none"},title:`Beat ${S%d+1}${l>1?` (bar ${Math.floor(S/d)+1})`:""}`,children:m.jsx("span",{style:{fontWeight:S%d===0?600:400},children:S%d+1})},`beat-marker-${S}`))}),m.jsx("div",{style:{marginTop:"2px",width:"100%",display:"flex"},children:Array.from({length:Math.max(1,l)}).map((A,S)=>m.jsx("div",{style:{flex:`0 0 ${100/Math.max(1,l)}%`,textAlign:"left",fontSize:"10px",color:"#555",lineHeight:"1",paddingTop:"2px",paddingLeft:"2px",borderRight:S<l-1?"1px solid #e8e8e8":"none"},title:`Bar ${S+1}`,children:m.jsxs("span",{style:{fontWeight:600},children:["Bar ",S+1]})},`bar-marker-${S}`))})]}),m.jsxs("div",{className:"box",children:[m.jsxs("div",{className:"level",style:{marginBottom:"0.5rem"},children:[m.jsx("div",{className:"level-left",children:m.jsx("h3",{className:"title is-6",style:{margin:0},children:"Points"})}),m.jsxs("div",{className:"level-right",children:[m.jsx("div",{className:"level-item",children:m.jsxs("label",{className:"checkbox is-size-7",title:"Show keys for each point",style:{display:"inline-flex",alignItems:"center"},children:[m.jsx("input",{type:"checkbox",checked:q,onChange:A=>I(A.target.checked),style:{marginRight:"0.35rem"}}),m.jsx("span",{role:"img","aria-label":"Show keys",children:""})]})}),m.jsx("div",{className:"level-item",children:m.jsxs("button",{className:"button is-primary is-small",onClick:iu,children:[m.jsx("span",{className:"icon is-small",style:{marginRight:6},children:m.jsx("i",{className:"fas fa-plus","aria-hidden":"true"})}),m.jsx("span",{children:"Add"})]})})]})]}),y.length===0?m.jsx("p",{className:"has-text-grey",children:"No points yet."}):m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.75rem"},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Start"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Duration"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Strum"}),m.jsx("th",{style:{textAlign:"left",padding:"0.25rem"},children:"Notes"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:y.map((A,S)=>({p:A,idx:S})).sort((A,S)=>{const z=Br(dt(A.p.startBeat)),G=Br(dt(S.p.startBeat));if(z!==G)return z-G;const V=Br(dt(A.p.duration)),te=Br(dt(S.p.duration));return V!==te?V-te:A.idx-S.idx}).map(({p:A,idx:S},z)=>{const G=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],V=Array.isArray(A.notes)?A.notes:[],te=(()=>{const O=new Set;for(const re of V){const ae=Number(re==null?void 0:re.degree),fe=Number(re==null?void 0:re.octave),Ae=Number.isFinite(Number(re==null?void 0:re.root))?(Number(re.root)%12+12)%12:null;if(!Number.isFinite(ae)||!Number.isFinite(fe)||!Number.isFinite(Ae))continue;const ft=(fe+1)*12+Ae+ae;Number.isFinite(ft)&&O.add(ft)}return Array.from(O.values()).sort((re,ae)=>re-ae)})();return m.jsxs(m.Fragment,{children:[m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"0.25rem"},children:String(A.startBeat)}),m.jsx("td",{style:{padding:"0.25rem"},children:(()=>{const O=String(A.duration),re=Math.max(1,Number(A.repeat)|0);return re>1?`${O} x ${re}`:O})()}),m.jsx("td",{style:{padding:"0.25rem"},children:A.strum==null||A.strum===""?"":String(A.strum)}),m.jsx("td",{style:{padding:"0.25rem"},children:m.jsxs("table",{className:"table is-striped is-narrow is-fullwidth is-hoverable",style:{margin:0,fontSize:"0.75rem"},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{padding:"0.25rem"},children:"Root / Scale"}),m.jsx("th",{style:{padding:"0.25rem"},children:"Oct@Deg"}),m.jsx("th",{style:{padding:"0.25rem"},children:"Legato"}),m.jsx("th",{style:{padding:"0.25rem"},children:"Amp"})]})}),m.jsx("tbody",{children:(V.length>0?V:[null]).map((O,re)=>{if(!O)return m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"0.25rem"},children:""}),m.jsx("td",{style:{padding:"0.25rem"},children:""}),m.jsx("td",{style:{padding:"0.25rem"},children:""})]},`empty-${re}`);const ae=O.scale||"",fe=Number(O.root),Ae=Number.isFinite(fe),_e=Ae?(fe%12+12)%12:null,ft=Ae?G[_e]:"";O.octave==null||String(O.octave),O.degree==null||String(O.degree);const uu=O.legato==null?"1":String(O.legato),Xr=O.amp==null?"1":String(O.amp),ei=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let ti="";do{const xn=Number(O.degree),fr=Number(O.octave);if(!Number.isFinite(xn)||!Number.isFinite(fr)||!Number.isFinite(_e))break;const Qn=(fr+1)*12+_e+xn;if(!Number.isFinite(Qn))break;const Vo=(Qn%12+12)%12,Wo=Math.floor(Qn/12)-1;ti=`${ei[Vo]}${Wo}`}while(!1);const ni=O.octave,ri=O.degree,Uo=ni==null&&ri==null?"":`${ni==null?"":String(ni)}@${ri==null?"":String(ri)}${ti!==""?` (${ti})`:""}`;return m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"0.25rem"},children:Ae&&ae!==""?`${ft} (${_e}) ${ae}`:Ae?`${ft} (${_e})`:ae}),m.jsxs("td",{style:{padding:"0.25rem",display:"flex",alignItems:"center",gap:"0.35rem"},children:[(()=>{const xn=Number.isFinite(Number(O.degree))?Number(O.degree):null,fr=xn==null?0:(Math.round(xn)%12+12)%12*30,Qn=xn!=null;return m.jsx("span",{"aria-hidden":"true",style:{width:"10px",height:"10px",borderRadius:"2px",background:Qn?`hsl(${fr}, 70%, 60%)`:"#dcdcdc",boxShadow:"0 0 0 1px rgba(0,0,0,0.1)"}})})(),m.jsx("span",{children:Uo})]}),m.jsx("td",{style:{padding:"0.25rem"},children:uu}),m.jsx("td",{style:{padding:"0.25rem"},children:Xr})]},`note-${re}`)})})]})}),m.jsxs("td",{style:{padding:"0.25rem"},children:[m.jsx("button",{className:"button is-small is-info",onClick:()=>M(S),"aria-label":"Edit point",title:"Edit point",style:{marginRight:"0.25rem"},children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-edit","aria-hidden":"true"})})}),m.jsx("button",{className:"button is-small is-success",onClick:()=>Dn(S),"aria-label":"Copy point forward",title:"Copy point (shift after its span, set repeat=1)",style:{marginRight:"0.25rem"},children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-copy","aria-hidden":"true"})})}),m.jsx("button",{className:"button is-small is-danger",onClick:()=>Ut(S),"aria-label":"Remove point",title:"Remove point",children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})})]})]},`${S}-${String(A.startBeat)}-${String(A.duration)}`),q&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,style:{padding:"0.25rem 0.25rem 0.75rem",overflowX:"hidden"},children:m.jsxs("div",{style:{border:"1px solid #e6e6e6",borderRadius:4,padding:"0.5rem",background:"#fafafa"},children:[m.jsx("div",{className:"is-size-7 has-text-grey",style:{marginBottom:4},children:"Keys for this point"}),m.jsx(K,{highlighted:te})]})})},`kb-${S}`)]})})})]})]}),m.jsxs("div",{className:"box",children:[m.jsx("h3",{className:"title is-6",children:"Pbind preview"}),m.jsxs("div",{className:"is-size-7",children:[m.jsxs("div",{style:{marginBottom:"0.5rem"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Total beats:"})," ",H.totalBeats]}),m.jsxs("div",{children:[m.jsx("strong",{children:"dur"})," = [",Array.isArray(H.dursFr)&&H.dursFr.length>0?H.dursFr.map(A=>Ah(A)).join(", "):H.durs.map(A=>{var S;return Number(((S=A.toFixed)==null?void 0:S.call(A,6))??A).toString()}).join(", "),"]"]})]}),m.jsx("div",{style:{marginBottom:"0.5rem"},children:m.jsxs("label",{className:"checkbox is-size-7",style:{display:"inline-flex",alignItems:"center"},children:[m.jsx("input",{type:"checkbox",checked:T,onChange:A=>k(A.target.checked),style:{marginRight:"0.4rem"}}),"Compress output with Pn()"]})}),m.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsxs("div",{className:"field",style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[m.jsx("label",{htmlFor:"instrument",className:"label is-small",style:{margin:0},children:"Instrument"}),m.jsx("input",{id:"instrument",className:"input is-small",type:"text",placeholder:"default or pmGrowl",value:L,onChange:A=>B(A.target.value),style:{width:"12rem"}})]}),m.jsxs("div",{className:"field",style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[m.jsx("label",{htmlFor:"loop-count",className:"label is-small",style:{margin:0},children:"Loop count"}),m.jsx("input",{id:"loop-count",className:"input is-small",type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"inf",value:$,onChange:A=>P(A.target.value),style:{width:"6rem"}})]})]}),m.jsx("textarea",{className:"textarea is-small",rows:Math.max(8,Math.min(20,(((ee=Y.match(/\n/g))==null?void 0:ee.length)||0)+2)),style:{fontFamily:"monospace"},readOnly:!0,value:Y,onFocus:A=>A.target.select()})]})]})]}),m.jsxs("div",{className:`modal ${U?"is-active":""}`,role:"dialog","aria-modal":U,children:[m.jsx("div",{className:"modal-background",onClick:()=>ne(!1)}),m.jsxs("div",{className:"modal-card",style:{maxWidth:"900px",width:"min(900px, 96vw)"},children:[m.jsxs("header",{className:"modal-card-head",children:[m.jsx("p",{className:"modal-card-title",children:"Pbind points (local storage)"}),m.jsx("button",{className:"delete","aria-label":"close",onClick:()=>ne(!1)})]}),m.jsx("section",{className:"modal-card-body",children:m.jsxs("div",{className:"content",children:[m.jsxs("p",{className:"help",children:["JSON stored under ",m.jsx("code",{children:p}),". Edit, paste, or copy it here. Save will replace the stored value and update the editor."]}),m.jsx("textarea",{className:"textarea",rows:14,style:{fontFamily:"monospace"},value:ue,onChange:A=>le(A.target.value)}),me?m.jsx("p",{className:"has-text-danger",style:{marginTop:"0.5rem"},children:me}):null]})}),m.jsxs("footer",{className:"modal-card-foot",style:{justifyContent:"flex-end"},children:[m.jsx("button",{className:"button",onClick:()=>ne(!1),children:"Cancel"}),m.jsx("button",{className:"button is-primary",onClick:gt,children:"Save"})]})]})]}),m.jsxs("div",{className:`modal ${ve?"is-active":""}`,role:"dialog","aria-modal":ve,children:[m.jsx("div",{className:"modal-background",onClick:b}),m.jsxs("div",{className:"modal-card",style:{maxWidth:"900px",width:"min(900px, 96vw)"},children:[m.jsxs("header",{className:"modal-card-head",children:[m.jsx("p",{className:"modal-card-title",children:Re?"Edit Pbind point":"Add Pbind point"}),m.jsx("button",{className:"delete","aria-label":"close",onClick:b})]}),m.jsxs("section",{className:"modal-card-body",children:[m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Start beat"}),m.jsx("input",{className:"input is-small",type:"text",placeholder:"e.g. 1 or 3/2",value:(_==null?void 0:_.startBeat)??"",onChange:A=>j(S=>S&&{...S,startBeat:A.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Duration"}),m.jsx("input",{className:"input is-small",type:"text",placeholder:"e.g. 1/3, 1/4",value:(_==null?void 0:_.duration)??"",onChange:A=>j(S=>S&&{...S,duration:A.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Repeat"}),m.jsx("input",{className:"input is-small",type:"number",min:1,value:(_==null?void 0:_.repeat)??1,onChange:A=>j(S=>S&&{...S,repeat:Math.max(1,Number(A.target.value)|0)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label is-small",children:"Strum"}),m.jsx("input",{className:"input is-small",type:"number",step:"any",min:0,placeholder:"e.g. 0.02",value:(_==null?void 0:_.strum)??"",onChange:A=>j(S=>S&&{...S,strum:A.target.value})})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0.75rem 0 0.25rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx("span",{className:"has-text-weight-semibold is-size-7",children:"Notes (notes[])"}),m.jsx("span",{className:"tag is-info is-light",children:Array.isArray(_==null?void 0:_.notes)?_.notes.length:0})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx("button",{type:"button",className:"button is-primary is-small",onClick:Jr,"aria-label":"Add note",title:"Add note",children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-plus","aria-hidden":"true"})})}),m.jsx("button",{type:"button",className:"button is-danger is-small",onClick:Lo,disabled:!_||!Array.isArray(_.notes)||_.notes.length<=1,"aria-label":"Remove note",title:"Remove note",children:m.jsx("span",{className:"icon is-small",children:m.jsx("i",{className:"fas fa-trash","aria-hidden":"true"})})})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"0.4rem",marginBottom:"0.25rem"},children:[m.jsx("span",{className:"is-size-7",style:{opacity:.7},children:"Select note:"}),((_==null?void 0:_.notes)||[]).map((A,S)=>m.jsx("button",{type:"button",className:`button is-small ${S===de?"is-primary is-light":""}`,onClick:()=>ye(S),children:S+1},`sel-note-${S}`))]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end",flexWrap:"wrap",marginTop:"0.5rem"},children:[(()=>{const A=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],S=_&&Array.isArray(_.notes)&&_.notes[de]||{},z=Number.isFinite(Number(S.root))?(Number(S.root)%12+12)%12:0,G=A[z]||"C";return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"note-select-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Key"}),m.jsx("div",{className:"select is-small",children:m.jsx("select",{id:"note-select-pbind",value:G,"aria-label":"Key name",onChange:V=>{const te=V.target.value,O=A.indexOf(te);j(re=>{if(!re)return re;const ae=[...re.notes],fe={...ae[de]||{}};return fe.root=O>=0?O:0,ae[de]=fe,{...re,notes:ae}})},children:A.map(V=>m.jsx("option",{value:V,children:V},V))})})]})})(),(()=>{const A=_&&Array.isArray(_.notes)&&_.notes[de]||{},S=typeof A.scale=="string"?A.scale:"";return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"scale-select-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Scale"}),m.jsx("div",{className:"select is-small",children:m.jsxs("select",{id:"scale-select-pbind",value:S,"aria-label":"Selected scale",onChange:z=>{const G=z.target.value;j(V=>{if(!V)return V;const te=[...V.notes],O={...te[de]||{}};return O.scale=G,te[de]=O,{...V,notes:te}})},style:{minWidth:"160px"},children:[m.jsx("option",{value:"",children:" none "}),Array.isArray(a)?a.map(z=>m.jsx("option",{value:z.id,children:z.name},z.id)):null]})})]})})(),(()=>{const A=_&&Array.isArray(_.notes)&&_.notes[de]||{},S=A.octave==null?"":String(A.octave);return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"octave-select-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Octave"}),m.jsx("div",{className:"select is-small",children:m.jsxs("select",{id:"octave-select-pbind",value:S,"aria-label":"Octave",onChange:z=>{const G=z.target.value===""?null:Number(z.target.value);j(V=>{if(!V)return V;const te=[...V.notes],O={...te[de]||{}};return O.octave=G,te[de]=O,{...V,notes:te}})},children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"0",children:"0"}),m.jsx("option",{value:"1",children:"1"}),m.jsx("option",{value:"2",children:"2"}),m.jsx("option",{value:"3",children:"3"}),m.jsx("option",{value:"4",children:"4"}),m.jsx("option",{value:"5",children:"5"}),m.jsx("option",{value:"6",children:"6"}),m.jsx("option",{value:"7",children:"7"}),m.jsx("option",{value:"8",children:"8"})]})})]})})(),(()=>{const A=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],S=_&&Array.isArray(_.notes)&&_.notes[de]||{},z=Number.isFinite(Number(S.root))?(Number(S.root)%12+12)%12:0,G=typeof S.scale=="string"?S.scale:"",V=Array.isArray(a)?a.find(O=>O.id===G):null,te=S.degree==null?"":String(S.degree);return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"degree-select-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Degrees"}),m.jsx("div",{className:"select is-small",children:m.jsxs("select",{id:"degree-select-pbind",value:te,"aria-label":"Selected degree",onChange:O=>{const re=O.target.value===""?null:Number(O.target.value);j(ae=>{if(!ae)return ae;const fe=[...ae.notes],Ae={...fe[de]||{}};return Ae.degree=re,fe[de]=Ae,{...ae,notes:fe}})},disabled:!V||!Array.isArray(V.degrees)||V.degrees.length===0,style:{minWidth:"140px"},children:[m.jsx("option",{value:"",children:" degree "}),V&&Array.isArray(V.degrees)?V.degrees.map(O=>{const re=Number(O),ae=z+re,fe=A[(ae%12+12)%12],Ae=Math.floor(ae/12),_e=Number.isFinite(Number(S.octave))?Number(S.octave):0,ft=_e+Ae,Xr=(_e+1)*12+z+re,ei=`${O}) ${fe}${ft} (${Xr})`;return m.jsx("option",{value:String(O),children:ei},O)}):null]})})]})})(),(()=>{const A=_&&Array.isArray(_.notes)&&_.notes[de]||{},S=A.legato==null?"1":String(A.legato);return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"legato-input-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Legato"}),m.jsx("input",{id:"legato-input-pbind",className:"input is-small",type:"number",step:"any",min:0,value:S,onChange:z=>{const G=z.target.value;j(V=>{if(!V)return V;const te=[...V.notes],O={...te[de]||{}};return O.legato=G,te[de]=O,{...V,notes:te}})},style:{width:"6rem"}})]})})(),(()=>{const A=_&&Array.isArray(_.notes)&&_.notes[de]||{},S=A.amp==null?"1":String(A.amp);return m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"amp-input-pbind",className:"label is-small",style:{marginBottom:"0.25rem"},children:"Amp"}),m.jsx("input",{id:"amp-input-pbind",className:"input is-small",type:"number",step:"any",min:0,value:S,onChange:z=>{const G=z.target.value;j(V=>{if(!V)return V;const te=[...V.notes],O={...te[de]||{}};return O.amp=G,te[de]=O,{...V,notes:te}})},style:{width:"6rem"}})]})})()]}),m.jsxs("div",{style:{marginTop:"0.75rem"},children:[m.jsx("div",{className:"is-size-7 has-text-grey",style:{marginBottom:4},children:"Keys for this point (draft)"}),m.jsx("div",{style:{border:"1px solid #e6e6e6",borderRadius:4,padding:"0.5rem",background:"#fafafa",maxWidth:"100%",overflowX:"auto"},children:m.jsx(K,{highlighted:R})})]})]}),m.jsxs("footer",{className:"modal-card-foot",style:{justifyContent:"flex-end"},children:[m.jsx("button",{className:"button",onClick:b,children:"Cancel"}),Re?m.jsx("button",{className:"button is-primary",onClick:()=>{wn()&&b()},children:"Save changes"}):m.jsx("button",{className:"button is-primary",onClick:()=>{Lt()&&b()},children:"Add point"})]})]})]})]})}const pi=[{id:"scales",label:"Scales",element:m.jsx(_0,{})},{id:"chords",label:"Chords",element:m.jsx(M0,{})},{id:"envelope",label:"Envelope",element:m.jsx(M1,{})},{id:"pbind",label:"Pbind",element:m.jsx(Sh,{})}];function ED(){const[e,t]=X.useState(()=>{try{return localStorage.getItem("musiclab:activeTab")||pi[0].id}catch{return pi[0].id}});X.useEffect(()=>{try{localStorage.setItem("musiclab:activeTab",e)}catch{}},[e]);const[n,r]=X.useState(()=>{try{const D=localStorage.getItem("musiclab:note")||"C";return D==="A#"?"B":D==="D#"?"E":D}catch{return"C"}}),[i,u]=X.useState(()=>{try{return localStorage.getItem("musiclab:octave")||"4"}catch{return"4"}});X.useEffect(()=>{try{localStorage.setItem("musiclab:note",n)}catch{}},[n]),X.useEffect(()=>{try{localStorage.setItem("musiclab:octave",i)}catch{}},[i]);const[o,s]=X.useState(()=>{try{return localStorage.getItem("musiclab:selectedScale")||""}catch{return""}});X.useEffect(()=>{try{o?localStorage.setItem("musiclab:selectedScale",o):localStorage.removeItem("musiclab:selectedScale")}catch{}},[o]);const[a,h]=X.useState("");X.useEffect(()=>{h("")},[o]);const[p,v]=X.useState({status:"idle",data:null,error:null}),[g,E]=X.useState(()=>{try{const D=localStorage.getItem("musiclab:scalesToCompare");if(!D)return new Set;const c=JSON.parse(D);return new Set(Array.isArray(c)?c:[])}catch{return new Set}});X.useEffect(()=>{try{const D=Array.from(g);localStorage.setItem("musiclab:scalesToCompare",JSON.stringify(D))}catch{}},[g]);const C=X.useMemo(()=>(Array.isArray(p.data)?p.data:[]).find(c=>c.id===o)||null,[p.data,o]);X.useEffect(()=>{const D=C&&Array.isArray(C.degrees)?C.degrees:[];a===""&&D.length>0&&h(String(D[0])),C||a!==""&&h("")},[C,a]),X.useEffect(()=>{p.status==="idle"&&(v({status:"loading",data:null,error:null}),fetch("/api/scales").then(async D=>{if(!D.ok){const c=await D.text();throw new Error(c||`Request failed with status ${D.status}`)}return D.json()}).then(D=>{v({status:"success",data:(D==null?void 0:D.scales)??[],error:null})}).catch(D=>{v({status:"error",data:null,error:D instanceof Error?D.message:String(D)})}))},[p.status]);const d=X.useMemo(()=>{const D=pi.find(c=>c.id===e)??pi[0];return D.id==="scales"?m.jsx(_0,{status:p.status,scales:Array.isArray(p.data)?p.data:[],error:p.error,selectedToCompare:g,onToggleCompare:c=>{E(f=>{const l=new Set(f);return l.has(c)?l.delete(c):l.add(c),l})},note:n,octave:i,selectedScaleId:o,onSelectedScaleChange:c=>s(c)}):D.id==="chords"?m.jsx(M0,{note:n,octave:i}):D.id==="pbind"?m.jsx(Sh,{note:n,octave:i,selectedDegree:a,selectedScaleId:o,onNoteChange:c=>r(c),onOctaveChange:c=>u(c),onSelectedScaleChange:c=>s(c),onSelectedDegreeChange:c=>h(c),scales:Array.isArray(p.data)?p.data:[],selectedScale:C}):D.element},[e,p,g,n,i,o,a]);return m.jsxs("main",{className:"app",children:[m.jsxs("header",{className:"app__header level",children:[m.jsx("div",{className:"level-left",children:m.jsx("h1",{children:"MusicLab"})}),m.jsx("div",{className:"level-right",children:m.jsx("div",{className:"level-item",children:m.jsxs("div",{className:"field is-grouped is-grouped-multiline",style:{alignItems:"center"},children:[m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column",marginRight:"0.5rem"},children:[m.jsx("label",{htmlFor:"note-select",className:"label is-medium",style:{marginBottom:"0.25rem",fontSize:"1.05rem"},children:"Key"}),m.jsx("div",{className:"select is-medium",children:m.jsxs("select",{id:"note-select",value:n,"aria-label":"Key name",onChange:D=>r(D.target.value),style:{fontSize:"1rem"},children:[m.jsx("option",{value:"C",children:"C"}),m.jsx("option",{value:"C#",children:"C#"}),m.jsx("option",{value:"D",children:"D"}),m.jsx("option",{value:"E",children:"E"}),m.jsx("option",{value:"E",children:"E"}),m.jsx("option",{value:"F",children:"F"}),m.jsx("option",{value:"F#",children:"F#"}),m.jsx("option",{value:"G",children:"G"}),m.jsx("option",{value:"G#",children:"G#"}),m.jsx("option",{value:"A",children:"A"}),m.jsx("option",{value:"B",children:"B"}),m.jsx("option",{value:"B",children:"B"})]})})]}),m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column",marginLeft:"0.5rem"},children:[m.jsx("label",{htmlFor:"scale-select-header",className:"label is-medium",style:{marginBottom:"0.25rem",fontSize:"1.05rem"},children:"Scale"}),m.jsx("div",{className:"select is-medium",children:m.jsxs("select",{id:"scale-select-header",value:o,"aria-label":"Selected scale",onChange:D=>s(D.target.value),style:{fontSize:"1rem",minWidth:"200px"},children:[m.jsx("option",{value:"",children:" none "}),Array.isArray(p.data)?p.data.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id)):null]})})]}),m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column"},children:[m.jsx("label",{htmlFor:"octave-select",className:"label is-medium",style:{marginBottom:"0.25rem",fontSize:"1.05rem"},children:"Octave"}),m.jsx("div",{className:"select is-medium",children:m.jsxs("select",{id:"octave-select",value:i,"aria-label":"Octave",onChange:D=>u(D.target.value),style:{fontSize:"1rem"},children:[m.jsx("option",{value:"0",children:"0"}),m.jsx("option",{value:"1",children:"1"}),m.jsx("option",{value:"2",children:"2"}),m.jsx("option",{value:"3",children:"3"}),m.jsx("option",{value:"4",children:"4"}),m.jsx("option",{value:"5",children:"5"}),m.jsx("option",{value:"6",children:"6"}),m.jsx("option",{value:"7",children:"7"}),m.jsx("option",{value:"8",children:"8"})]})})]}),m.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column",marginLeft:"0.5rem"},children:[m.jsx("label",{htmlFor:"degree-select-header",className:"label is-medium",style:{marginBottom:"0.25rem",fontSize:"1.05rem"},children:"Degrees"}),m.jsx("div",{className:"select is-medium",children:m.jsxs("select",{id:"degree-select-header",value:a,"aria-label":"Selected degree",onChange:D=>h(D.target.value),disabled:!C||!Array.isArray(C.degrees)||C.degrees.length===0,style:{fontSize:"1rem",minWidth:"160px"},children:[m.jsx("option",{value:"",children:" degree "}),C&&Array.isArray(C.degrees)?C.degrees.map(D=>{const c=["C","C#","D","E","E","F","F#","G","G#","A","B","B"],f=c.indexOf(n)>=0?c.indexOf(n):0,l=Number(D),w=f+l,y=c[(w%12+12)%12],x=Math.floor(w/12),N=Number.isFinite(Number(i))?Number(i):0,F=N+x,j=(N+1)*12+f+l,T=`${D}) ${y}${F} (${j})`;return m.jsx("option",{value:String(D),children:T},D)}):null]})})]})]})})})]}),m.jsx("nav",{className:"tabs is-centered is-medium","aria-label":"Tool selection",children:m.jsx("ul",{role:"tablist",children:pi.map(D=>{const c=D.id===e;return m.jsx("li",{className:c?"is-active":"",role:"presentation",children:m.jsx("a",{href:"#",role:"tab","aria-selected":c,"aria-controls":`${D.id}-panel`,onClick:f=>{f.preventDefault(),t(D.id)},children:D.label})},D.id)})})}),m.jsx("section",{id:`${e}-panel`,className:"tab-content",role:"region","aria-live":"polite",children:d})]})}const _h=document.getElementById("root");if(!_h)throw new Error("Failed to find the root element to mount the React app.");Cs.createRoot(_h).render(m.jsx(sp.StrictMode,{children:m.jsx(ED,{})}));
